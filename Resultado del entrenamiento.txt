(venv_trading) C:\Users\wille\Downloads\trading-bot-indices>python train_models.py --source mt5
2025-11-12 03:57:50.770849: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-12 03:58:07.280874: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-12 03:58:12.958 | INFO     | __main__:train_from_mt5:324 - ============================== Training Models from MT5 Data ==============================
2025-11-12 03:58:13.003 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 03:58:13.022 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 03:58:13.023 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 03:58:13.023 | INFO     | __main__:train_from_mt5:349 - Will train models for 10 symbols × 5 timeframes = 50 models
2025-11-12 03:58:13.024 | INFO     | __main__:train_from_mt5:350 - Requesting 20000 candles per symbol/timeframe
2025-11-12 03:58:13.024 | INFO     | __main__:train_from_mt5:351 - Minimum data thresholds: {'15m': 2000, '1h': 2000, '4h': 2000, '1d': 2000}
2025-11-12 03:58:13.025 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 400 [1m] ---
2025-11-12 03:58:13.042 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [1m] from MT5
2025-11-12 03:58:13.043 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 03:58:15.264 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 400\PainX 400_M1.csv (20000 records)
2025-11-12 03:58:15.264 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 03:58:16.403 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 03:58:19.877 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 03:58:19.878 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 03:58:29.159 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15789 signals total, 10837 profitable (68.6% win rate), 4952 unprofitable
2025-11-12 03:58:29.249 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15789, 110), Shape of y: (15789,)
2025-11-12 03:58:29.261 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15789 data points.
2025-11-12 03:58:29.486 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15739 sequences.
2025-11-12 03:58:29.488 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 03:58:29.489 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 03:58:29.489 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 03:58:29.489 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 03:58:29.519 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 03:58:36.130 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 03:58:36.132 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:01:05.871 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:01:05.873 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:01:05.873 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
2025-11-12 04:01:05.897862: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: SSE3 SSE4.1 SSE4.2 AVX AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:01:06.100 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:01:06.100 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4942), np.float64(1.0): np.int64(10797)}
2025-11-12 04:01:06.101 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15739
2025-11-12 04:01:06.321 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 10797 to 7413
2025-11-12 04:01:06.321 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4942), np.float64(1.0): np.int64(7413)}
2025-11-12 04:01:06.323 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12355
2025-11-12 04:01:06.323 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 23s 12ms/step - accuracy: 0.5967 - auc: 0.5855 - loss: 0.0424 - val_accuracy: 0.6188 - val_auc: 0.6280 - val_loss: 0.0410
Epoch 2/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6125 - auc: 0.6167 - loss: 0.0413 - val_accuracy: 0.6236 - val_auc: 0.6399 - val_loss: 0.0408
Epoch 3/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6239 - auc: 0.6317 - loss: 0.0409 - val_accuracy: 0.6244 - val_auc: 0.6411 - val_loss: 0.0406
Epoch 4/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6225 - auc: 0.6408 - loss: 0.0406 - val_accuracy: 0.6240 - val_auc: 0.6436 - val_loss: 0.0405
Epoch 5/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6218 - auc: 0.6401 - loss: 0.0407 - val_accuracy: 0.6269 - val_auc: 0.6495 - val_loss: 0.0404
Epoch 6/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6290 - auc: 0.6522 - loss: 0.0404 - val_accuracy: 0.6370 - val_auc: 0.6575 - val_loss: 0.0399
Epoch 7/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6366 - auc: 0.6587 - loss: 0.0401 - val_accuracy: 0.6390 - val_auc: 0.6610 - val_loss: 0.0398
Epoch 8/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6424 - auc: 0.6651 - loss: 0.0399 - val_accuracy: 0.6390 - val_auc: 0.6573 - val_loss: 0.0399
Epoch 9/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6485 - auc: 0.6786 - loss: 0.0394 - val_accuracy: 0.6386 - val_auc: 0.6659 - val_loss: 0.0398
Epoch 10/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6473 - auc: 0.6786 - loss: 0.0394 - val_accuracy: 0.6447 - val_auc: 0.6755 - val_loss: 0.0396
Epoch 11/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6499 - auc: 0.6914 - loss: 0.0388 - val_accuracy: 0.6358 - val_auc: 0.6703 - val_loss: 0.0396
Epoch 12/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6625 - auc: 0.7044 - loss: 0.0382 - val_accuracy: 0.6560 - val_auc: 0.6875 - val_loss: 0.0389
Epoch 13/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6611 - auc: 0.7074 - loss: 0.0382 - val_accuracy: 0.6516 - val_auc: 0.6964 - val_loss: 0.0386
Epoch 14/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6717 - auc: 0.7253 - loss: 0.0375 - val_accuracy: 0.6544 - val_auc: 0.7020 - val_loss: 0.0385
Epoch 15/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6739 - auc: 0.7292 - loss: 0.0373 - val_accuracy: 0.6682 - val_auc: 0.7084 - val_loss: 0.0382
Epoch 16/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6771 - auc: 0.7387 - loss: 0.0367 - val_accuracy: 0.6690 - val_auc: 0.7220 - val_loss: 0.0375
Epoch 17/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6869 - auc: 0.7475 - loss: 0.0363 - val_accuracy: 0.6771 - val_auc: 0.7241 - val_loss: 0.0375
Epoch 18/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6904 - auc: 0.7622 - loss: 0.0354 - val_accuracy: 0.6795 - val_auc: 0.7329 - val_loss: 0.0374
Epoch 19/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7004 - auc: 0.7669 - loss: 0.0352 - val_accuracy: 0.6868 - val_auc: 0.7350 - val_loss: 0.0376
Epoch 20/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7048 - auc: 0.7808 - loss: 0.0345 - val_accuracy: 0.6827 - val_auc: 0.7368 - val_loss: 0.0375
Epoch 21/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7136 - auc: 0.7892 - loss: 0.0339 - val_accuracy: 0.6779 - val_auc: 0.7464 - val_loss: 0.0372
Epoch 22/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7181 - auc: 0.7916 - loss: 0.0339 - val_accuracy: 0.7001 - val_auc: 0.7636 - val_loss: 0.0362
Epoch 23/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7238 - auc: 0.8010 - loss: 0.0333 - val_accuracy: 0.7038 - val_auc: 0.7580 - val_loss: 0.0372
Epoch 24/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7247 - auc: 0.8085 - loss: 0.0328 - val_accuracy: 0.7127 - val_auc: 0.7698 - val_loss: 0.0367
Epoch 25/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7398 - auc: 0.8163 - loss: 0.0323 - val_accuracy: 0.7062 - val_auc: 0.7716 - val_loss: 0.0361
Epoch 26/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7438 - auc: 0.8206 - loss: 0.0319 - val_accuracy: 0.7167 - val_auc: 0.7815 - val_loss: 0.0361
Epoch 27/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7494 - auc: 0.8289 - loss: 0.0313 - val_accuracy: 0.7191 - val_auc: 0.7871 - val_loss: 0.0353
Epoch 28/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7584 - auc: 0.8379 - loss: 0.0308 - val_accuracy: 0.7232 - val_auc: 0.7859 - val_loss: 0.0356
Epoch 29/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7534 - auc: 0.8396 - loss: 0.0305 - val_accuracy: 0.7297 - val_auc: 0.7943 - val_loss: 0.0349
Epoch 30/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7642 - auc: 0.8464 - loss: 0.0300 - val_accuracy: 0.7228 - val_auc: 0.7949 - val_loss: 0.0350
Epoch 31/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7637 - auc: 0.8501 - loss: 0.0296 - val_accuracy: 0.7353 - val_auc: 0.8000 - val_loss: 0.0355
Epoch 32/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7686 - auc: 0.8541 - loss: 0.0293 - val_accuracy: 0.7374 - val_auc: 0.8046 - val_loss: 0.0353
Epoch 33/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7732 - auc: 0.8596 - loss: 0.0288 - val_accuracy: 0.7426 - val_auc: 0.8105 - val_loss: 0.0341
Epoch 34/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7776 - auc: 0.8629 - loss: 0.0285 - val_accuracy: 0.7313 - val_auc: 0.8029 - val_loss: 0.0355
Epoch 35/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7818 - auc: 0.8690 - loss: 0.0281 - val_accuracy: 0.7390 - val_auc: 0.8087 - val_loss: 0.0350
Epoch 36/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7851 - auc: 0.8695 - loss: 0.0281 - val_accuracy: 0.7426 - val_auc: 0.8078 - val_loss: 0.0352
Epoch 37/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7828 - auc: 0.8719 - loss: 0.0278 - val_accuracy: 0.7414 - val_auc: 0.8102 - val_loss: 0.0347
Epoch 38/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7927 - auc: 0.8788 - loss: 0.0273 - val_accuracy: 0.7418 - val_auc: 0.8165 - val_loss: 0.0343
Epoch 39/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7930 - auc: 0.8785 - loss: 0.0272 - val_accuracy: 0.7463 - val_auc: 0.8211 - val_loss: 0.0343
Epoch 40/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7962 - auc: 0.8834 - loss: 0.0267 - val_accuracy: 0.7361 - val_auc: 0.8149 - val_loss: 0.0353
Epoch 41/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7972 - auc: 0.8813 - loss: 0.0268 - val_accuracy: 0.7463 - val_auc: 0.8240 - val_loss: 0.0346
Epoch 42/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8032 - auc: 0.8860 - loss: 0.0264 - val_accuracy: 0.7531 - val_auc: 0.8249 - val_loss: 0.0346
Epoch 43/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8095 - auc: 0.8935 - loss: 0.0257 - val_accuracy: 0.7523 - val_auc: 0.8230 - val_loss: 0.0355
2025-11-12 04:04:05.928 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 43
2025-11-12 04:04:05.928 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0257, Accuracy: 0.8095, AUC: 0.8935
2025-11-12 04:04:05.930 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0355, Accuracy: 0.7523, AUC: 0.8230
2025-11-12 04:04:05.932 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:04:06.031 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:04:07.141 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15789 data points.
2025-11-12 04:04:07.222 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15769 sequences.
2025-11-12 04:04:09.187 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:04:09.446 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:04:09.447 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:04:09.448 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_400\PainX_400_M1'...
2025-11-12 04:04:09.616 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M1\random_forest.pkl
2025-11-12 04:04:09.650 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M1\gradient_boosting.pkl
2025-11-12 04:04:11.059 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_400\PainX_400_M1\lstm.keras and models\PainX_400\PainX_400_M1\lstm_scaler.pkl
2025-11-12 04:04:11.069 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_400\PainX_400_M1\feature_info.pkl
2025-11-12 04:04:11.070 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_400\PainX_400_M1\meta_model.pkl
2025-11-12 04:04:11.097 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_400\PainX_400_M1\training_metadata.json
2025-11-12 04:04:11.097 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 400 [1m] (1/50)
2025-11-12 04:04:11.099 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 400 [5m] ---
2025-11-12 04:04:11.255 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [5m] from MT5
2025-11-12 04:04:11.256 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:04:13.476 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 400\PainX 400_M5.csv (20000 records)
2025-11-12 04:04:13.476 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:04:14.610 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:04:18.150 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:04:18.152 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:04:27.343 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15248 signals total, 9004 profitable (59.1% win rate), 6244 unprofitable
2025-11-12 04:04:27.417 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15248, 110), Shape of y: (15248,)
2025-11-12 04:04:27.433 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15248 data points.
2025-11-12 04:04:27.605 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15198 sequences.
2025-11-12 04:04:27.686 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:04:27.687 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:04:27.689 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:04:27.689 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:04:27.720 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:04:33.264 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:04:33.265 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:07:15.563 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:07:15.564 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:07:15.566 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:07:15.606 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:07:15.607 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6212), np.float64(1.0): np.int64(8986)}
2025-11-12 04:07:15.608 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15198
2025-11-12 04:07:15.611 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:07:15.612 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6212), np.float64(1.0): np.int64(8986)}
2025-11-12 04:07:15.612 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15198
2025-11-12 04:07:15.613 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2232775273663876), 1: np.float64(0.8456487870020031)}
Epoch 1/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5682 - auc: 0.5222 - loss: 0.0436 - val_accuracy: 0.5882 - val_auc: 0.4989 - val_loss: 0.0426
Epoch 2/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5894 - auc: 0.5446 - loss: 0.0422 - val_accuracy: 0.5872 - val_auc: 0.5132 - val_loss: 0.0424
Epoch 3/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5935 - auc: 0.5614 - loss: 0.0420 - val_accuracy: 0.5875 - val_auc: 0.5027 - val_loss: 0.0426
Epoch 4/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5943 - auc: 0.5826 - loss: 0.0417 - val_accuracy: 0.5836 - val_auc: 0.5201 - val_loss: 0.0427
Epoch 5/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5990 - auc: 0.5989 - loss: 0.0413 - val_accuracy: 0.5898 - val_auc: 0.4912 - val_loss: 0.0432
Epoch 6/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6052 - auc: 0.6205 - loss: 0.0410 - val_accuracy: 0.5711 - val_auc: 0.4850 - val_loss: 0.0434
Epoch 7/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6091 - auc: 0.6349 - loss: 0.0406 - val_accuracy: 0.5868 - val_auc: 0.5042 - val_loss: 0.0430
Epoch 8/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6171 - auc: 0.6590 - loss: 0.0400 - val_accuracy: 0.5599 - val_auc: 0.5019 - val_loss: 0.0446
Epoch 9/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6371 - auc: 0.6853 - loss: 0.0393 - val_accuracy: 0.4947 - val_auc: 0.4820 - val_loss: 0.0452
Epoch 10/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6425 - auc: 0.7012 - loss: 0.0385 - val_accuracy: 0.5286 - val_auc: 0.5082 - val_loss: 0.0468
Epoch 11/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6715 - auc: 0.7275 - loss: 0.0376 - val_accuracy: 0.5171 - val_auc: 0.4972 - val_loss: 0.0475
Epoch 12/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6812 - auc: 0.7484 - loss: 0.0366 - val_accuracy: 0.5056 - val_auc: 0.5075 - val_loss: 0.0494
2025-11-12 04:08:06.264 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 04:08:06.264 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0366, Accuracy: 0.6812, AUC: 0.7484
2025-11-12 04:08:06.266 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0494, Accuracy: 0.5056, AUC: 0.5075
2025-11-12 04:08:06.268 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:08:06.321 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:08:07.392 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15248 data points.
2025-11-12 04:08:07.469 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15228 sequences.
2025-11-12 04:08:09.169 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:08:09.194 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:08:09.196 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:08:09.197 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_400\PainX_400_M5'...
2025-11-12 04:08:09.250 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M5\random_forest.pkl
2025-11-12 04:08:09.280 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M5\gradient_boosting.pkl
2025-11-12 04:08:09.306 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_400\PainX_400_M5\lstm.keras and models\PainX_400\PainX_400_M5\lstm_scaler.pkl
2025-11-12 04:08:09.307 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_400\PainX_400_M5\feature_info.pkl
2025-11-12 04:08:09.309 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_400\PainX_400_M5\meta_model.pkl
2025-11-12 04:08:09.312 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_400\PainX_400_M5\training_metadata.json
2025-11-12 04:08:09.312 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 400 [5m] (2/50)
2025-11-12 04:08:09.313 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 400 [15m] ---
2025-11-12 04:08:09.450 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [15m] from MT5
2025-11-12 04:08:09.451 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 04:08:11.632 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 400\PainX 400_M15.csv (20000 records)
2025-11-12 04:08:11.633 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:08:12.766 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:08:16.343 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:08:16.346 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:08:25.544 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15304 signals total, 8385 profitable (54.8% win rate), 6919 unprofitable
2025-11-12 04:08:25.624 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15304, 110), Shape of y: (15304,)
2025-11-12 04:08:25.636 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15304 data points.
2025-11-12 04:08:25.811 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15254 sequences.
2025-11-12 04:08:25.866 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:08:25.867 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:08:25.874 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:08:25.874 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:08:25.899 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:08:31.553 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:08:31.554 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:11:16.155 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:11:16.156 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:11:16.156 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:11:16.195 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:11:16.195 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6897), np.float64(1.0): np.int64(8357)}
2025-11-12 04:11:16.197 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15254
2025-11-12 04:11:16.200 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:11:16.200 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6897), np.float64(1.0): np.int64(8357)}
2025-11-12 04:11:16.201 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15254
2025-11-12 04:11:16.201 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1058431201971872), 1: np.float64(0.9126480794543497)}
Epoch 1/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5308 - auc: 0.5221 - loss: 0.0457 - val_accuracy: 0.5070 - val_auc: 0.5121 - val_loss: 0.0439
Epoch 2/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5659 - auc: 0.5752 - loss: 0.0426 - val_accuracy: 0.5054 - val_auc: 0.5005 - val_loss: 0.0441
Epoch 3/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5807 - auc: 0.5946 - loss: 0.0422 - val_accuracy: 0.5100 - val_auc: 0.5024 - val_loss: 0.0444
Epoch 4/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5930 - auc: 0.6241 - loss: 0.0416 - val_accuracy: 0.5143 - val_auc: 0.5160 - val_loss: 0.0452
Epoch 5/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6127 - auc: 0.6498 - loss: 0.0408 - val_accuracy: 0.5077 - val_auc: 0.5151 - val_loss: 0.0466
Epoch 6/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6249 - auc: 0.6717 - loss: 0.0402 - val_accuracy: 0.5297 - val_auc: 0.5190 - val_loss: 0.0480
Epoch 7/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6429 - auc: 0.7004 - loss: 0.0391 - val_accuracy: 0.5084 - val_auc: 0.5205 - val_loss: 0.0500
Epoch 8/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6640 - auc: 0.7266 - loss: 0.0382 - val_accuracy: 0.5048 - val_auc: 0.5250 - val_loss: 0.0521
Epoch 9/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6763 - auc: 0.7438 - loss: 0.0374 - val_accuracy: 0.4893 - val_auc: 0.5052 - val_loss: 0.0534
Epoch 10/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6988 - auc: 0.7717 - loss: 0.0358 - val_accuracy: 0.5057 - val_auc: 0.5191 - val_loss: 0.0564
Epoch 11/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7144 - auc: 0.7901 - loss: 0.0349 - val_accuracy: 0.4979 - val_auc: 0.5178 - val_loss: 0.0608
2025-11-12 04:12:04.624 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 04:12:04.624 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0349, Accuracy: 0.7144, AUC: 0.7901
2025-11-12 04:12:04.626 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0608, Accuracy: 0.4979, AUC: 0.5178
2025-11-12 04:12:04.629 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:12:04.682 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:12:05.761 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15304 data points.
2025-11-12 04:12:05.844 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15284 sequences.
2025-11-12 04:12:07.563 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:12:07.587 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:12:07.588 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:12:07.589 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_400\PainX_400_M15'...
2025-11-12 04:12:07.621 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M15\random_forest.pkl
2025-11-12 04:12:07.630 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M15\gradient_boosting.pkl
2025-11-12 04:12:07.657 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_400\PainX_400_M15\lstm.keras and models\PainX_400\PainX_400_M15\lstm_scaler.pkl
2025-11-12 04:12:07.657 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_400\PainX_400_M15\feature_info.pkl
2025-11-12 04:12:07.659 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_400\PainX_400_M15\meta_model.pkl
2025-11-12 04:12:07.660 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_400\PainX_400_M15\training_metadata.json
2025-11-12 04:12:07.662 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 400 [15m] (3/50)
2025-11-12 04:12:07.662 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 400 [1h] ---
2025-11-12 04:12:07.755 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16343 candles for PainX 400 [1h] from MT5
2025-11-12 04:12:07.756 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16343 candles (minimum: 2000)
2025-11-12 04:12:09.926 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 400\PainX 400_H1.csv (16343 records)
2025-11-12 04:12:09.927 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:12:10.872 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:12:13.760 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:12:13.760 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:12:21.227 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12431 signals total, 6957 profitable (56.0% win rate), 5474 unprofitable
2025-11-12 04:12:21.292 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12431, 110), Shape of y: (12431,)
2025-11-12 04:12:21.304 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12431 data points.
2025-11-12 04:12:21.446 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12381 sequences.
2025-11-12 04:12:21.503 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:12:21.504 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:12:21.509 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:12:21.509 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:12:21.530 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:12:26.234 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:12:26.235 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:14:39.313 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:14:39.314 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:14:39.315 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:14:39.354 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:14:39.354 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5455), np.float64(1.0): np.int64(6926)}
2025-11-12 04:14:39.356 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12381
2025-11-12 04:14:39.358 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:14:39.359 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5455), np.float64(1.0): np.int64(6926)}
2025-11-12 04:14:39.359 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12381
2025-11-12 04:14:39.360 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1348304307974335), 1: np.float64(0.8938059485994803)}
Epoch 1/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5243 - auc: 0.5134 - loss: 0.0459 - val_accuracy: 0.5357 - val_auc: 0.5488 - val_loss: 0.0435
Epoch 2/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5631 - auc: 0.5642 - loss: 0.0426 - val_accuracy: 0.5527 - val_auc: 0.5604 - val_loss: 0.0430
Epoch 3/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5825 - auc: 0.5978 - loss: 0.0419 - val_accuracy: 0.5353 - val_auc: 0.5273 - val_loss: 0.0436
Epoch 4/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6045 - auc: 0.6347 - loss: 0.0411 - val_accuracy: 0.5700 - val_auc: 0.5707 - val_loss: 0.0435
Epoch 5/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6231 - auc: 0.6632 - loss: 0.0403 - val_accuracy: 0.5656 - val_auc: 0.5653 - val_loss: 0.0443
Epoch 6/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6412 - auc: 0.6900 - loss: 0.0394 - val_accuracy: 0.5753 - val_auc: 0.5699 - val_loss: 0.0438
Epoch 7/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6624 - auc: 0.7230 - loss: 0.0380 - val_accuracy: 0.5753 - val_auc: 0.5627 - val_loss: 0.0445
Epoch 8/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6759 - auc: 0.7445 - loss: 0.0370 - val_accuracy: 0.5729 - val_auc: 0.5642 - val_loss: 0.0440
Epoch 9/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6987 - auc: 0.7729 - loss: 0.0356 - val_accuracy: 0.5462 - val_auc: 0.5432 - val_loss: 0.0464
Epoch 10/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7226 - auc: 0.7979 - loss: 0.0341 - val_accuracy: 0.5067 - val_auc: 0.5085 - val_loss: 0.0495
Epoch 11/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7316 - auc: 0.8111 - loss: 0.0333 - val_accuracy: 0.5103 - val_auc: 0.5181 - val_loss: 0.0516
Epoch 12/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7401 - auc: 0.8250 - loss: 0.0324 - val_accuracy: 0.5164 - val_auc: 0.5238 - val_loss: 0.0518
2025-11-12 04:15:22.141 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 04:15:22.142 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0324, Accuracy: 0.7401, AUC: 0.8250
2025-11-12 04:15:22.143 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0518, Accuracy: 0.5164, AUC: 0.5238
2025-11-12 04:15:22.146 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:15:22.190 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:15:23.065 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12431 data points.
2025-11-12 04:15:23.129 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12411 sequences.
2025-11-12 04:15:24.571 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:15:24.589 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:15:24.590 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:15:24.590 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_400\PainX_400_H1'...
2025-11-12 04:15:24.658 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_H1\random_forest.pkl
2025-11-12 04:15:24.732 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_H1\gradient_boosting.pkl
2025-11-12 04:15:24.802 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_400\PainX_400_H1\lstm.keras and models\PainX_400\PainX_400_H1\lstm_scaler.pkl
2025-11-12 04:15:24.804 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_400\PainX_400_H1\feature_info.pkl
2025-11-12 04:15:24.805 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_400\PainX_400_H1\meta_model.pkl
2025-11-12 04:15:24.806 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_400\PainX_400_H1\training_metadata.json
2025-11-12 04:15:24.808 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 400 [1h] (4/50)
2025-11-12 04:15:24.808 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 400 [4h] ---
2025-11-12 04:15:24.877 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4089 candles for PainX 400 [4h] from MT5
2025-11-12 04:15:24.878 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4089 candles (minimum: 2000)
2025-11-12 04:15:26.948 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 400\PainX 400_H4.csv (4089 records)
2025-11-12 04:15:26.948 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:15:27.214 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:15:27.947 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:15:27.948 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:15:29.824 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 3096 signals total, 1437 profitable (46.4% win rate), 1659 unprofitable
2025-11-12 04:15:29.842 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (3096, 110), Shape of y: (3096,)
2025-11-12 04:15:29.845 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 3096 data points.
2025-11-12 04:15:29.881 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3046 sequences.
2025-11-12 04:15:29.932 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:15:29.933 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:15:29.938 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:15:29.939 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:15:29.945 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:15:31.294 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:15:31.294 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:16:02.417 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:16:02.417 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:16:02.419 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:16:02.456 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:16:02.457 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1640), np.float64(1.0): np.int64(1406)}
2025-11-12 04:16:02.458 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 3046
2025-11-12 04:16:02.461 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:16:02.462 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1640), np.float64(1.0): np.int64(1406)}
2025-11-12 04:16:02.462 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 3046
2025-11-12 04:16:02.462 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(0.9286585365853659), 1: np.float64(1.0832147937411096)}
Epoch 1/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 3s 15ms/step - accuracy: 0.5390 - auc: 0.5389 - loss: 0.0460 - val_accuracy: 0.4590 - val_auc: 0.4127 - val_loss: 0.0478
Epoch 2/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.5698 - auc: 0.5925 - loss: 0.0425 - val_accuracy: 0.4492 - val_auc: 0.3908 - val_loss: 0.0476
Epoch 3/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6092 - auc: 0.6558 - loss: 0.0410 - val_accuracy: 0.3885 - val_auc: 0.3619 - val_loss: 0.0491
Epoch 4/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6318 - auc: 0.6836 - loss: 0.0398 - val_accuracy: 0.4475 - val_auc: 0.3895 - val_loss: 0.0506
Epoch 5/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6589 - auc: 0.7222 - loss: 0.0383 - val_accuracy: 0.4492 - val_auc: 0.4049 - val_loss: 0.0522
Epoch 6/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6790 - auc: 0.7490 - loss: 0.0373 - val_accuracy: 0.4410 - val_auc: 0.4097 - val_loss: 0.0535
Epoch 7/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6995 - auc: 0.7715 - loss: 0.0360 - val_accuracy: 0.4557 - val_auc: 0.3941 - val_loss: 0.0553
Epoch 8/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7081 - auc: 0.7881 - loss: 0.0351 - val_accuracy: 0.4475 - val_auc: 0.4134 - val_loss: 0.0585
Epoch 9/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7401 - auc: 0.8168 - loss: 0.0336 - val_accuracy: 0.4377 - val_auc: 0.4204 - val_loss: 0.0617
Epoch 10/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7521 - auc: 0.8361 - loss: 0.0318 - val_accuracy: 0.4557 - val_auc: 0.4377 - val_loss: 0.0642
Epoch 11/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7566 - auc: 0.8422 - loss: 0.0316 - val_accuracy: 0.4639 - val_auc: 0.4119 - val_loss: 0.0625
Epoch 12/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7730 - auc: 0.8553 - loss: 0.0302 - val_accuracy: 0.4541 - val_auc: 0.4051 - val_loss: 0.0653
2025-11-12 04:16:15.236 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 04:16:15.236 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0302, Accuracy: 0.7730, AUC: 0.8553
2025-11-12 04:16:15.237 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0653, Accuracy: 0.4541, AUC: 0.4051
2025-11-12 04:16:15.237 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:16:15.249 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:16:15.469 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 3096 data points.
2025-11-12 04:16:15.486 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3076 sequences.
2025-11-12 04:16:16.084 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:16:16.092 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:16:16.093 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:16:16.093 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_400\PainX_400_H4'...
2025-11-12 04:16:16.134 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_H4\random_forest.pkl
2025-11-12 04:16:16.143 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_H4\gradient_boosting.pkl
2025-11-12 04:16:16.168 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_400\PainX_400_H4\lstm.keras and models\PainX_400\PainX_400_H4\lstm_scaler.pkl
2025-11-12 04:16:16.169 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_400\PainX_400_H4\feature_info.pkl
2025-11-12 04:16:16.170 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_400\PainX_400_H4\meta_model.pkl
2025-11-12 04:16:16.170 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_400\PainX_400_H4\training_metadata.json
2025-11-12 04:16:16.172 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 400 [4h] (5/50)
2025-11-12 04:16:16.172 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 400 [1m] ---
2025-11-12 04:16:16.175 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 04:16:16.175 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 04:16:19.195 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 04:16:19.197 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 04:16:19.203 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 04:16:19.222 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [1m] from MT5
2025-11-12 04:16:19.223 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:16:21.382 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 400\GainX 400_M1.csv (20000 records)
2025-11-12 04:16:21.382 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:16:22.547 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:16:26.120 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:16:26.121 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:16:35.427 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15606 signals total, 10766 profitable (69.0% win rate), 4840 unprofitable
2025-11-12 04:16:35.509 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15606, 110), Shape of y: (15606,)
2025-11-12 04:16:35.521 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15606 data points.
2025-11-12 04:16:35.699 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15556 sequences.
2025-11-12 04:16:35.711 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:16:35.711 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:16:35.713 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:16:35.713 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:16:35.739 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:16:40.813 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:16:40.814 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:19:10.410 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:19:10.411 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:19:10.415 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:19:10.456 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:19:10.456 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4823), np.float64(1.0): np.int64(10733)}
2025-11-12 04:19:10.458 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15556
2025-11-12 04:19:10.621 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 10733 to 7234
2025-11-12 04:19:10.622 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4823), np.float64(1.0): np.int64(7234)}
2025-11-12 04:19:10.623 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12057
2025-11-12 04:19:10.626 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499481650425046), 1: np.float64(0.8333563726845452)}
Epoch 1/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5368 - auc: 0.5038 - loss: 0.0468 - val_accuracy: 0.6090 - val_auc: 0.5020 - val_loss: 0.0421
Epoch 2/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5788 - auc: 0.4999 - loss: 0.0429 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 3/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5944 - auc: 0.5055 - loss: 0.0425 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 4/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5968 - auc: 0.4955 - loss: 0.0425 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 5/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5994 - auc: 0.5029 - loss: 0.0424 - val_accuracy: 0.6090 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 6/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5994 - auc: 0.5012 - loss: 0.0424 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 7/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5994 - auc: 0.4953 - loss: 0.0424 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 8/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5994 - auc: 0.5092 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5015 - val_loss: 0.0420
Epoch 9/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.5087 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 10/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5990 - auc: 0.4979 - loss: 0.0424 - val_accuracy: 0.6090 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 11/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5995 - auc: 0.4970 - loss: 0.0423 - val_accuracy: 0.6090 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 12/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5991 - auc: 0.5007 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5015 - val_loss: 0.0420
Epoch 13/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5994 - auc: 0.5057 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 14/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5995 - auc: 0.5042 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5015 - val_loss: 0.0420
Epoch 15/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5995 - auc: 0.5083 - loss: 0.0423 - val_accuracy: 0.6090 - val_auc: 0.5020 - val_loss: 0.0420
Epoch 16/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5996 - auc: 0.5029 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5013 - val_loss: 0.0420
Epoch 17/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5993 - auc: 0.5052 - loss: 0.0423 - val_accuracy: 0.6090 - val_auc: 0.5013 - val_loss: 0.0420
Epoch 18/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5988 - auc: 0.4960 - loss: 0.0424 - val_accuracy: 0.6095 - val_auc: 0.5018 - val_loss: 0.0420
Epoch 19/50
302/302 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5991 - auc: 0.4987 - loss: 0.0423 - val_accuracy: 0.6095 - val_auc: 0.5016 - val_loss: 0.0420
2025-11-12 04:20:14.367 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 19
2025-11-12 04:20:14.367 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.5991, AUC: 0.4987
2025-11-12 04:20:14.369 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0420, Accuracy: 0.6095, AUC: 0.5016
2025-11-12 04:20:14.369 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:20:14.463 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:20:15.588 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15606 data points.
2025-11-12 04:20:15.667 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15586 sequences.
2025-11-12 04:20:17.403 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:20:17.416 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:20:17.418 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:20:17.418 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_400\GainX_400_M1'...
2025-11-12 04:20:17.454 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M1\random_forest.pkl
2025-11-12 04:20:17.463 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M1\gradient_boosting.pkl
2025-11-12 04:20:17.490 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_400\GainX_400_M1\lstm.keras and models\GainX_400\GainX_400_M1\lstm_scaler.pkl
2025-11-12 04:20:17.491 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_400\GainX_400_M1\feature_info.pkl
2025-11-12 04:20:17.493 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_400\GainX_400_M1\meta_model.pkl
2025-11-12 04:20:17.496 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_400\GainX_400_M1\training_metadata.json
2025-11-12 04:20:17.496 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 400 [1m] (6/50)
2025-11-12 04:20:17.496 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 400 [5m] ---
2025-11-12 04:20:17.847 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [5m] from MT5
2025-11-12 04:20:17.849 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:20:20.017 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 400\GainX 400_M5.csv (20000 records)
2025-11-12 04:20:20.018 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:20:21.166 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:20:24.760 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:20:24.760 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:20:33.948 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15210 signals total, 9062 profitable (59.6% win rate), 6148 unprofitable
2025-11-12 04:20:34.026 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15210, 110), Shape of y: (15210,)
2025-11-12 04:20:34.042 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15210 data points.
2025-11-12 04:20:34.220 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15160 sequences.
2025-11-12 04:20:34.279 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:20:34.279 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:20:34.282 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:20:34.284 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:20:34.310 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:20:39.879 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:20:39.881 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:23:21.045 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:23:21.047 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:23:21.048 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:23:21.087 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:23:21.088 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6135), np.float64(1.0): np.int64(9025)}
2025-11-12 04:23:21.089 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15160
2025-11-12 04:23:21.092 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:23:21.093 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6135), np.float64(1.0): np.int64(9025)}
2025-11-12 04:23:21.094 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15160
2025-11-12 04:23:21.095 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2355338223308883), 1: np.float64(0.8398891966759002)}
Epoch 1/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.5844 - auc: 0.5328 - loss: 0.0428 - val_accuracy: 0.5214 - val_auc: 0.5223 - val_loss: 0.0433
Epoch 2/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5984 - auc: 0.5661 - loss: 0.0419 - val_accuracy: 0.5485 - val_auc: 0.5052 - val_loss: 0.0430
Epoch 3/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6097 - auc: 0.5983 - loss: 0.0413 - val_accuracy: 0.4901 - val_auc: 0.5046 - val_loss: 0.0443
Epoch 4/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6304 - auc: 0.6440 - loss: 0.0404 - val_accuracy: 0.5076 - val_auc: 0.5053 - val_loss: 0.0439
Epoch 5/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6337 - auc: 0.6710 - loss: 0.0396 - val_accuracy: 0.4690 - val_auc: 0.4861 - val_loss: 0.0449
Epoch 6/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6600 - auc: 0.7103 - loss: 0.0382 - val_accuracy: 0.4301 - val_auc: 0.4814 - val_loss: 0.0468
Epoch 7/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6797 - auc: 0.7392 - loss: 0.0369 - val_accuracy: 0.4657 - val_auc: 0.4901 - val_loss: 0.0464
Epoch 8/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7045 - auc: 0.7730 - loss: 0.0352 - val_accuracy: 0.5218 - val_auc: 0.5201 - val_loss: 0.0474
Epoch 9/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7265 - auc: 0.7975 - loss: 0.0339 - val_accuracy: 0.4964 - val_auc: 0.5150 - val_loss: 0.0472
Epoch 10/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7411 - auc: 0.8183 - loss: 0.0326 - val_accuracy: 0.4855 - val_auc: 0.5004 - val_loss: 0.0478
Epoch 11/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7537 - auc: 0.8306 - loss: 0.0317 - val_accuracy: 0.4885 - val_auc: 0.4987 - val_loss: 0.0491
Epoch 12/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.7629 - auc: 0.8425 - loss: 0.0307 - val_accuracy: 0.5000 - val_auc: 0.5095 - val_loss: 0.0510
2025-11-12 04:24:06.273 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 04:24:06.273 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0307, Accuracy: 0.7629, AUC: 0.8425
2025-11-12 04:24:06.275 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0510, Accuracy: 0.5000, AUC: 0.5095
2025-11-12 04:24:06.278 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:24:06.327 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:24:07.403 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15210 data points.
2025-11-12 04:24:07.480 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15190 sequences.
2025-11-12 04:24:09.179 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:24:09.201 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:24:09.202 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:24:09.202 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_400\GainX_400_M5'...
2025-11-12 04:24:09.282 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M5\random_forest.pkl
2025-11-12 04:24:09.291 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M5\gradient_boosting.pkl
2025-11-12 04:24:09.337 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_400\GainX_400_M5\lstm.keras and models\GainX_400\GainX_400_M5\lstm_scaler.pkl
2025-11-12 04:24:09.338 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_400\GainX_400_M5\feature_info.pkl
2025-11-12 04:24:09.340 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_400\GainX_400_M5\meta_model.pkl
2025-11-12 04:24:09.341 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_400\GainX_400_M5\training_metadata.json
2025-11-12 04:24:09.342 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 400 [5m] (7/50)
2025-11-12 04:24:09.343 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 400 [15m] ---
2025-11-12 04:24:09.524 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [15m] from MT5
2025-11-12 04:24:09.525 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 04:24:11.698 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 400\GainX 400_M15.csv (20000 records)
2025-11-12 04:24:11.699 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:24:12.843 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:24:16.393 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:24:16.394 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:24:25.533 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15161 signals total, 8448 profitable (55.7% win rate), 6713 unprofitable
2025-11-12 04:24:25.613 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15161, 110), Shape of y: (15161,)
2025-11-12 04:24:25.628 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15161 data points.
2025-11-12 04:24:25.807 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15111 sequences.
2025-11-12 04:24:25.890 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:24:25.890 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:24:25.893 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:24:25.895 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:24:25.920 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:24:31.478 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:24:31.479 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:27:18.734 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:27:18.735 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:27:18.736 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:27:18.776 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:27:18.777 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6684), np.float64(1.0): np.int64(8427)}
2025-11-12 04:27:18.782 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15111
2025-11-12 04:27:18.782 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:27:18.783 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6684), np.float64(1.0): np.int64(8427)}
2025-11-12 04:27:18.783 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15111
2025-11-12 04:27:18.784 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1303859964093357), 1: np.float64(0.8965824136703453)}
Epoch 1/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5453 - auc: 0.5260 - loss: 0.0444 - val_accuracy: 0.4939 - val_auc: 0.5042 - val_loss: 0.0439
Epoch 2/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5681 - auc: 0.5441 - loss: 0.0426 - val_accuracy: 0.5121 - val_auc: 0.5242 - val_loss: 0.0437
Epoch 3/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5766 - auc: 0.5686 - loss: 0.0422 - val_accuracy: 0.5028 - val_auc: 0.5234 - val_loss: 0.0440
Epoch 4/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5763 - auc: 0.5933 - loss: 0.0418 - val_accuracy: 0.5061 - val_auc: 0.5055 - val_loss: 0.0470
Epoch 5/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5909 - auc: 0.6265 - loss: 0.0409 - val_accuracy: 0.4965 - val_auc: 0.4977 - val_loss: 0.0488
Epoch 6/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6129 - auc: 0.6532 - loss: 0.0403 - val_accuracy: 0.5068 - val_auc: 0.4848 - val_loss: 0.0504
Epoch 7/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6341 - auc: 0.6858 - loss: 0.0392 - val_accuracy: 0.4856 - val_auc: 0.4789 - val_loss: 0.0480
Epoch 8/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6511 - auc: 0.7132 - loss: 0.0382 - val_accuracy: 0.5068 - val_auc: 0.5045 - val_loss: 0.0482
Epoch 9/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6618 - auc: 0.7260 - loss: 0.0377 - val_accuracy: 0.4988 - val_auc: 0.5086 - val_loss: 0.0486
Epoch 10/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6824 - auc: 0.7548 - loss: 0.0362 - val_accuracy: 0.5055 - val_auc: 0.5049 - val_loss: 0.0576
Epoch 11/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6940 - auc: 0.7691 - loss: 0.0353 - val_accuracy: 0.5346 - val_auc: 0.5237 - val_loss: 0.0725
Epoch 12/50
378/378 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7064 - auc: 0.7853 - loss: 0.0345 - val_accuracy: 0.5012 - val_auc: 0.5064 - val_loss: 0.0573
2025-11-12 04:28:11.574 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 04:28:11.574 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0345, Accuracy: 0.7064, AUC: 0.7853
2025-11-12 04:28:11.576 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0573, Accuracy: 0.5012, AUC: 0.5064
2025-11-12 04:28:11.579 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:28:11.665 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:28:12.738 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15161 data points.
2025-11-12 04:28:12.818 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15141 sequences.
2025-11-12 04:28:14.530 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:28:14.554 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:28:14.555 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:28:14.555 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_400\GainX_400_M15'...
2025-11-12 04:28:14.651 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M15\random_forest.pkl
2025-11-12 04:28:14.660 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M15\gradient_boosting.pkl
2025-11-12 04:28:14.686 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_400\GainX_400_M15\lstm.keras and models\GainX_400\GainX_400_M15\lstm_scaler.pkl
2025-11-12 04:28:14.687 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_400\GainX_400_M15\feature_info.pkl
2025-11-12 04:28:14.688 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_400\GainX_400_M15\meta_model.pkl
2025-11-12 04:28:14.730 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_400\GainX_400_M15\training_metadata.json
2025-11-12 04:28:14.730 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 400 [15m] (8/50)
2025-11-12 04:28:14.732 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 400 [1h] ---
2025-11-12 04:28:14.827 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16343 candles for GainX 400 [1h] from MT5
2025-11-12 04:28:14.828 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16343 candles (minimum: 2000)
2025-11-12 04:28:17.048 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 400\GainX 400_H1.csv (16343 records)
2025-11-12 04:28:17.049 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:28:17.995 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:28:20.883 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:28:20.884 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:28:28.427 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12407 signals total, 6827 profitable (55.0% win rate), 5580 unprofitable
2025-11-12 04:28:28.494 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12407, 110), Shape of y: (12407,)
2025-11-12 04:28:28.505 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12407 data points.
2025-11-12 04:28:28.646 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12357 sequences.
2025-11-12 04:28:28.719 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:28:28.720 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:28:28.727 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:28:28.727 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:28:28.751 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:28:33.584 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:28:33.585 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:30:53.124 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:30:53.126 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:30:53.127 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:30:53.167 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:30:53.168 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5558), np.float64(1.0): np.int64(6799)}
2025-11-12 04:30:53.169 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12357
2025-11-12 04:30:53.172 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:30:53.173 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5558), np.float64(1.0): np.int64(6799)}
2025-11-12 04:30:53.173 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12357
2025-11-12 04:30:53.173 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.111640878013674), 1: np.float64(0.908736578908663)}
Epoch 1/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5400 - auc: 0.5298 - loss: 0.0446 - val_accuracy: 0.5065 - val_auc: 0.4978 - val_loss: 0.0442
Epoch 2/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5662 - auc: 0.5641 - loss: 0.0424 - val_accuracy: 0.5008 - val_auc: 0.4773 - val_loss: 0.0448
Epoch 3/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5803 - auc: 0.5882 - loss: 0.0419 - val_accuracy: 0.4871 - val_auc: 0.4706 - val_loss: 0.0463
Epoch 4/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5988 - auc: 0.6176 - loss: 0.0414 - val_accuracy: 0.4830 - val_auc: 0.4675 - val_loss: 0.0485
Epoch 5/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6247 - auc: 0.6598 - loss: 0.0403 - val_accuracy: 0.4964 - val_auc: 0.4761 - val_loss: 0.0492
Epoch 6/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6467 - auc: 0.6997 - loss: 0.0390 - val_accuracy: 0.4915 - val_auc: 0.4732 - val_loss: 0.0484
Epoch 7/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6710 - auc: 0.7258 - loss: 0.0380 - val_accuracy: 0.4915 - val_auc: 0.4757 - val_loss: 0.0572
Epoch 8/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6897 - auc: 0.7556 - loss: 0.0366 - val_accuracy: 0.5036 - val_auc: 0.4947 - val_loss: 0.0519
Epoch 9/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7135 - auc: 0.7813 - loss: 0.0354 - val_accuracy: 0.5036 - val_auc: 0.4743 - val_loss: 0.0550
Epoch 10/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7271 - auc: 0.8051 - loss: 0.0341 - val_accuracy: 0.4648 - val_auc: 0.4580 - val_loss: 0.0567
Epoch 11/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7428 - auc: 0.8197 - loss: 0.0329 - val_accuracy: 0.4733 - val_auc: 0.4692 - val_loss: 0.0566
2025-11-12 04:31:32.665 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 04:31:32.665 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0329, Accuracy: 0.7428, AUC: 0.8197
2025-11-12 04:31:32.666 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0566, Accuracy: 0.4733, AUC: 0.4692
2025-11-12 04:31:32.669 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:31:32.712 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:31:33.609 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12407 data points.
2025-11-12 04:31:33.676 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12387 sequences.
2025-11-12 04:31:35.117 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:31:35.134 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:31:35.135 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:31:35.135 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_400\GainX_400_H1'...
2025-11-12 04:31:35.199 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_H1\random_forest.pkl
2025-11-12 04:31:35.208 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_H1\gradient_boosting.pkl
2025-11-12 04:31:35.234 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_400\GainX_400_H1\lstm.keras and models\GainX_400\GainX_400_H1\lstm_scaler.pkl
2025-11-12 04:31:35.234 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_400\GainX_400_H1\feature_info.pkl
2025-11-12 04:31:35.235 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_400\GainX_400_H1\meta_model.pkl
2025-11-12 04:31:35.239 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_400\GainX_400_H1\training_metadata.json
2025-11-12 04:31:35.239 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 400 [1h] (9/50)
2025-11-12 04:31:35.240 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 400 [4h] ---
2025-11-12 04:31:35.433 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4089 candles for GainX 400 [4h] from MT5
2025-11-12 04:31:35.434 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4089 candles (minimum: 2000)
2025-11-12 04:31:37.521 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 400\GainX 400_H4.csv (4089 records)
2025-11-12 04:31:37.522 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:31:37.797 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:31:38.529 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:31:38.530 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:31:40.365 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2990 signals total, 1647 profitable (55.1% win rate), 1343 unprofitable
2025-11-12 04:31:40.384 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2990, 110), Shape of y: (2990,)
2025-11-12 04:31:40.388 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2990 data points.
2025-11-12 04:31:40.424 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2940 sequences.
2025-11-12 04:31:40.482 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:31:40.483 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:31:40.487 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:31:40.488 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:31:40.493 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:31:41.770 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:31:41.770 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:32:11.744 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:32:11.744 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:32:11.746 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:32:11.785 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:32:11.785 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1325), np.float64(1.0): np.int64(1615)}
2025-11-12 04:32:11.787 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2940
2025-11-12 04:32:11.790 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:32:11.790 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1325), np.float64(1.0): np.int64(1615)}
2025-11-12 04:32:11.791 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2940
2025-11-12 04:32:11.791 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.109433962264151), 1: np.float64(0.9102167182662538)}
Epoch 1/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 3s 16ms/step - accuracy: 0.5531 - auc: 0.5763 - loss: 0.0443 - val_accuracy: 0.4439 - val_auc: 0.4287 - val_loss: 0.0476
Epoch 2/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6254 - auc: 0.6795 - loss: 0.0401 - val_accuracy: 0.4269 - val_auc: 0.4073 - val_loss: 0.0513
Epoch 3/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6611 - auc: 0.7335 - loss: 0.0379 - val_accuracy: 0.4609 - val_auc: 0.4229 - val_loss: 0.0549
Epoch 4/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6922 - auc: 0.7582 - loss: 0.0369 - val_accuracy: 0.4643 - val_auc: 0.4377 - val_loss: 0.0547
Epoch 5/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7241 - auc: 0.7961 - loss: 0.0350 - val_accuracy: 0.4218 - val_auc: 0.4170 - val_loss: 0.0576
Epoch 6/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7241 - auc: 0.8040 - loss: 0.0343 - val_accuracy: 0.4813 - val_auc: 0.4207 - val_loss: 0.0628
Epoch 7/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7423 - auc: 0.8295 - loss: 0.0323 - val_accuracy: 0.4575 - val_auc: 0.4205 - val_loss: 0.0720
Epoch 8/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7606 - auc: 0.8439 - loss: 0.0311 - val_accuracy: 0.4711 - val_auc: 0.4679 - val_loss: 0.0576
Epoch 9/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7742 - auc: 0.8527 - loss: 0.0306 - val_accuracy: 0.4490 - val_auc: 0.4359 - val_loss: 0.0651
Epoch 10/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7708 - auc: 0.8601 - loss: 0.0299 - val_accuracy: 0.4558 - val_auc: 0.4395 - val_loss: 0.0719
Epoch 11/50
74/74 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7904 - auc: 0.8728 - loss: 0.0286 - val_accuracy: 0.4524 - val_auc: 0.4531 - val_loss: 0.0671
2025-11-12 04:32:23.758 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 04:32:23.759 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0286, Accuracy: 0.7904, AUC: 0.8728
2025-11-12 04:32:23.759 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0671, Accuracy: 0.4524, AUC: 0.4531
2025-11-12 04:32:23.760 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:32:23.771 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:32:23.985 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2990 data points.
2025-11-12 04:32:24.001 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2970 sequences.
2025-11-12 04:32:24.601 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:32:24.608 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:32:24.609 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:32:24.609 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_400\GainX_400_H4'...
2025-11-12 04:32:24.662 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_H4\random_forest.pkl
2025-11-12 04:32:24.670 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_H4\gradient_boosting.pkl
2025-11-12 04:32:24.695 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_400\GainX_400_H4\lstm.keras and models\GainX_400\GainX_400_H4\lstm_scaler.pkl
2025-11-12 04:32:24.696 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_400\GainX_400_H4\feature_info.pkl
2025-11-12 04:32:24.698 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_400\GainX_400_H4\meta_model.pkl
2025-11-12 04:32:24.700 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_400\GainX_400_H4\training_metadata.json
2025-11-12 04:32:24.703 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 400 [4h] (10/50)
2025-11-12 04:32:24.704 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 600 [1m] ---
2025-11-12 04:32:24.704 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 04:32:24.705 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 04:32:27.723 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 04:32:27.726 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 04:32:27.734 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 04:32:27.875 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [1m] from MT5
2025-11-12 04:32:27.876 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:32:30.076 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 600\PainX 600_M1.csv (20000 records)
2025-11-12 04:32:30.076 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:32:31.231 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:32:34.720 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:32:34.721 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:32:44.210 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16016 signals total, 11688 profitable (73.0% win rate), 4328 unprofitable
2025-11-12 04:32:44.292 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16016, 110), Shape of y: (16016,)
2025-11-12 04:32:44.303 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16016 data points.
2025-11-12 04:32:44.483 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15966 sequences.
2025-11-12 04:32:44.497 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:32:44.498 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:32:44.502 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:32:44.502 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:32:44.532 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:32:49.672 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:32:49.673 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:35:19.719 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:35:19.721 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:35:19.722 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:35:19.761 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:35:19.762 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4304), np.float64(1.0): np.int64(11662)}
2025-11-12 04:35:19.763 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15966
2025-11-12 04:35:19.909 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 11662 to 6456
2025-11-12 04:35:19.909 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4304), np.float64(1.0): np.int64(6456)}
2025-11-12 04:35:19.911 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 10760
2025-11-12 04:35:19.913 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5935 - auc: 0.6007 - loss: 0.0425 - val_accuracy: 0.6273 - val_auc: 0.6719 - val_loss: 0.0399
Epoch 2/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6191 - auc: 0.6315 - loss: 0.0410 - val_accuracy: 0.6547 - val_auc: 0.6772 - val_loss: 0.0396
Epoch 3/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6281 - auc: 0.6457 - loss: 0.0406 - val_accuracy: 0.6520 - val_auc: 0.6814 - val_loss: 0.0397
Epoch 4/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6336 - auc: 0.6562 - loss: 0.0404 - val_accuracy: 0.6445 - val_auc: 0.6859 - val_loss: 0.0397
Epoch 5/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6378 - auc: 0.6629 - loss: 0.0401 - val_accuracy: 0.6543 - val_auc: 0.6872 - val_loss: 0.0394
Epoch 6/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6373 - auc: 0.6628 - loss: 0.0401 - val_accuracy: 0.6482 - val_auc: 0.6865 - val_loss: 0.0395
Epoch 7/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6423 - auc: 0.6674 - loss: 0.0400 - val_accuracy: 0.6515 - val_auc: 0.6893 - val_loss: 0.0393
Epoch 8/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6485 - auc: 0.6751 - loss: 0.0398 - val_accuracy: 0.6557 - val_auc: 0.6912 - val_loss: 0.0392
Epoch 9/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6441 - auc: 0.6792 - loss: 0.0395 - val_accuracy: 0.6580 - val_auc: 0.6896 - val_loss: 0.0393
Epoch 10/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6549 - auc: 0.6840 - loss: 0.0393 - val_accuracy: 0.6482 - val_auc: 0.6925 - val_loss: 0.0392
Epoch 11/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6585 - auc: 0.6923 - loss: 0.0390 - val_accuracy: 0.6589 - val_auc: 0.7041 - val_loss: 0.0387
Epoch 12/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6610 - auc: 0.7017 - loss: 0.0385 - val_accuracy: 0.6668 - val_auc: 0.7165 - val_loss: 0.0380
Epoch 13/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6737 - auc: 0.7145 - loss: 0.0381 - val_accuracy: 0.6608 - val_auc: 0.7119 - val_loss: 0.0383
Epoch 14/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6624 - auc: 0.7153 - loss: 0.0380 - val_accuracy: 0.6654 - val_auc: 0.7222 - val_loss: 0.0378
Epoch 15/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6748 - auc: 0.7303 - loss: 0.0371 - val_accuracy: 0.6808 - val_auc: 0.7239 - val_loss: 0.0376
Epoch 16/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6824 - auc: 0.7388 - loss: 0.0368 - val_accuracy: 0.6859 - val_auc: 0.7375 - val_loss: 0.0371
Epoch 17/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6876 - auc: 0.7464 - loss: 0.0364 - val_accuracy: 0.6650 - val_auc: 0.7350 - val_loss: 0.0371
Epoch 18/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6991 - auc: 0.7614 - loss: 0.0355 - val_accuracy: 0.6952 - val_auc: 0.7524 - val_loss: 0.0363
Epoch 19/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7062 - auc: 0.7725 - loss: 0.0349 - val_accuracy: 0.6924 - val_auc: 0.7601 - val_loss: 0.0359
Epoch 20/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7057 - auc: 0.7761 - loss: 0.0346 - val_accuracy: 0.6993 - val_auc: 0.7621 - val_loss: 0.0358
Epoch 21/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7128 - auc: 0.7860 - loss: 0.0341 - val_accuracy: 0.6961 - val_auc: 0.7654 - val_loss: 0.0355
Epoch 22/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7203 - auc: 0.7961 - loss: 0.0333 - val_accuracy: 0.7003 - val_auc: 0.7653 - val_loss: 0.0357
Epoch 23/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7246 - auc: 0.8046 - loss: 0.0328 - val_accuracy: 0.6961 - val_auc: 0.7662 - val_loss: 0.0353
Epoch 24/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7249 - auc: 0.8068 - loss: 0.0326 - val_accuracy: 0.7077 - val_auc: 0.7856 - val_loss: 0.0344
Epoch 25/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7364 - auc: 0.8160 - loss: 0.0321 - val_accuracy: 0.7114 - val_auc: 0.7788 - val_loss: 0.0349
Epoch 26/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7383 - auc: 0.8245 - loss: 0.0315 - val_accuracy: 0.7021 - val_auc: 0.7792 - val_loss: 0.0355
Epoch 27/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7433 - auc: 0.8264 - loss: 0.0313 - val_accuracy: 0.7059 - val_auc: 0.7857 - val_loss: 0.0347
Epoch 28/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7452 - auc: 0.8285 - loss: 0.0310 - val_accuracy: 0.7147 - val_auc: 0.7752 - val_loss: 0.0349
Epoch 29/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7469 - auc: 0.8266 - loss: 0.0313 - val_accuracy: 0.7189 - val_auc: 0.7935 - val_loss: 0.0337
Epoch 30/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7435 - auc: 0.8358 - loss: 0.0304 - val_accuracy: 0.7124 - val_auc: 0.7973 - val_loss: 0.0342
Epoch 31/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7576 - auc: 0.8446 - loss: 0.0298 - val_accuracy: 0.7370 - val_auc: 0.8115 - val_loss: 0.0335
Epoch 32/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7643 - auc: 0.8494 - loss: 0.0296 - val_accuracy: 0.7258 - val_auc: 0.8056 - val_loss: 0.0341
Epoch 33/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7622 - auc: 0.8499 - loss: 0.0293 - val_accuracy: 0.7291 - val_auc: 0.8073 - val_loss: 0.0341
Epoch 34/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7659 - auc: 0.8553 - loss: 0.0291 - val_accuracy: 0.7314 - val_auc: 0.8103 - val_loss: 0.0332
Epoch 35/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7742 - auc: 0.8615 - loss: 0.0285 - val_accuracy: 0.7440 - val_auc: 0.8187 - val_loss: 0.0329
Epoch 36/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7756 - auc: 0.8640 - loss: 0.0282 - val_accuracy: 0.7458 - val_auc: 0.8137 - val_loss: 0.0334
Epoch 37/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7796 - auc: 0.8645 - loss: 0.0281 - val_accuracy: 0.7407 - val_auc: 0.8186 - val_loss: 0.0328
Epoch 38/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7852 - auc: 0.8714 - loss: 0.0277 - val_accuracy: 0.7449 - val_auc: 0.8158 - val_loss: 0.0330
Epoch 39/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7890 - auc: 0.8733 - loss: 0.0275 - val_accuracy: 0.7421 - val_auc: 0.8160 - val_loss: 0.0336
Epoch 40/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7912 - auc: 0.8763 - loss: 0.0273 - val_accuracy: 0.7365 - val_auc: 0.8238 - val_loss: 0.0340
Epoch 41/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7901 - auc: 0.8764 - loss: 0.0271 - val_accuracy: 0.7523 - val_auc: 0.8256 - val_loss: 0.0336
Epoch 42/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7931 - auc: 0.8800 - loss: 0.0270 - val_accuracy: 0.7556 - val_auc: 0.8248 - val_loss: 0.0335
Epoch 43/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7897 - auc: 0.8804 - loss: 0.0269 - val_accuracy: 0.7454 - val_auc: 0.8256 - val_loss: 0.0331
Epoch 44/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7946 - auc: 0.8820 - loss: 0.0268 - val_accuracy: 0.7416 - val_auc: 0.8294 - val_loss: 0.0334
Epoch 45/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8032 - auc: 0.8885 - loss: 0.0261 - val_accuracy: 0.7551 - val_auc: 0.8358 - val_loss: 0.0325
Epoch 46/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8005 - auc: 0.8869 - loss: 0.0263 - val_accuracy: 0.7556 - val_auc: 0.8341 - val_loss: 0.0328
Epoch 47/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8034 - auc: 0.8920 - loss: 0.0255 - val_accuracy: 0.7593 - val_auc: 0.8364 - val_loss: 0.0327
Epoch 48/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8060 - auc: 0.8927 - loss: 0.0258 - val_accuracy: 0.7514 - val_auc: 0.8245 - val_loss: 0.0340
Epoch 49/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8063 - auc: 0.8961 - loss: 0.0251 - val_accuracy: 0.7542 - val_auc: 0.8366 - val_loss: 0.0338
Epoch 50/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.8096 - auc: 0.8967 - loss: 0.0250 - val_accuracy: 0.7467 - val_auc: 0.8344 - val_loss: 0.0327
2025-11-12 04:37:22.405 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 04:37:22.405 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0250, Accuracy: 0.8096, AUC: 0.8967
2025-11-12 04:37:22.407 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0327, Accuracy: 0.7467, AUC: 0.8344
2025-11-12 04:37:22.410 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:37:22.489 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:37:23.618 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16016 data points.
2025-11-12 04:37:23.701 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15996 sequences.
2025-11-12 04:37:25.492 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:37:25.513 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:37:25.514 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:37:25.515 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_600\PainX_600_M1'...
2025-11-12 04:37:25.572 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M1\random_forest.pkl
2025-11-12 04:37:25.590 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M1\gradient_boosting.pkl
2025-11-12 04:37:25.621 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_600\PainX_600_M1\lstm.keras and models\PainX_600\PainX_600_M1\lstm_scaler.pkl
2025-11-12 04:37:25.622 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_600\PainX_600_M1\feature_info.pkl
2025-11-12 04:37:25.624 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_600\PainX_600_M1\meta_model.pkl
2025-11-12 04:37:25.627 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_600\PainX_600_M1\training_metadata.json
2025-11-12 04:37:25.627 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 600 [1m] (11/50)
2025-11-12 04:37:25.628 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 600 [5m] ---
2025-11-12 04:37:25.754 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [5m] from MT5
2025-11-12 04:37:25.755 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:37:27.953 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 600\PainX 600_M5.csv (20000 records)
2025-11-12 04:37:27.954 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:37:29.103 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:37:32.673 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:37:32.674 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:37:41.958 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15299 signals total, 9214 profitable (60.2% win rate), 6085 unprofitable
2025-11-12 04:37:42.039 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15299, 110), Shape of y: (15299,)
2025-11-12 04:37:42.054 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15299 data points.
2025-11-12 04:37:42.228 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15249 sequences.
2025-11-12 04:37:42.282 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:37:42.283 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:37:42.289 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:37:42.290 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:37:42.316 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:37:47.873 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:37:47.874 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:40:35.267 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:40:35.269 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:40:35.270 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:40:35.310 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:40:35.311 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6060), np.float64(1.0): np.int64(9189)}
2025-11-12 04:40:35.312 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15249
2025-11-12 04:40:35.523 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9189 to 9090
2025-11-12 04:40:35.524 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6060), np.float64(1.0): np.int64(9090)}
2025-11-12 04:40:35.525 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15150
2025-11-12 04:40:35.528 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5691 - auc: 0.5408 - loss: 0.0442 - val_accuracy: 0.6149 - val_auc: 0.6082 - val_loss: 0.0414
Epoch 2/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5988 - auc: 0.5778 - loss: 0.0419 - val_accuracy: 0.5993 - val_auc: 0.6152 - val_loss: 0.0414
Epoch 3/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6058 - auc: 0.5958 - loss: 0.0414 - val_accuracy: 0.6023 - val_auc: 0.6243 - val_loss: 0.0411
Epoch 4/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6131 - auc: 0.6150 - loss: 0.0409 - val_accuracy: 0.6195 - val_auc: 0.6309 - val_loss: 0.0410
Epoch 5/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6256 - auc: 0.6307 - loss: 0.0406 - val_accuracy: 0.6251 - val_auc: 0.6480 - val_loss: 0.0401
Epoch 6/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6232 - auc: 0.6432 - loss: 0.0401 - val_accuracy: 0.6244 - val_auc: 0.6558 - val_loss: 0.0397
Epoch 7/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6361 - auc: 0.6636 - loss: 0.0394 - val_accuracy: 0.6422 - val_auc: 0.6857 - val_loss: 0.0390
Epoch 8/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6429 - auc: 0.6773 - loss: 0.0389 - val_accuracy: 0.6492 - val_auc: 0.7007 - val_loss: 0.0389
Epoch 9/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6557 - auc: 0.6962 - loss: 0.0382 - val_accuracy: 0.6554 - val_auc: 0.7156 - val_loss: 0.0380
Epoch 10/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6589 - auc: 0.7118 - loss: 0.0375 - val_accuracy: 0.6564 - val_auc: 0.7130 - val_loss: 0.0380
Epoch 11/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6769 - auc: 0.7365 - loss: 0.0365 - val_accuracy: 0.6805 - val_auc: 0.7364 - val_loss: 0.0370
Epoch 12/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6862 - auc: 0.7534 - loss: 0.0357 - val_accuracy: 0.6970 - val_auc: 0.7678 - val_loss: 0.0358
Epoch 13/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6960 - auc: 0.7706 - loss: 0.0349 - val_accuracy: 0.6924 - val_auc: 0.7546 - val_loss: 0.0365
Epoch 14/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7069 - auc: 0.7807 - loss: 0.0343 - val_accuracy: 0.7096 - val_auc: 0.7821 - val_loss: 0.0350
Epoch 15/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7101 - auc: 0.7878 - loss: 0.0338 - val_accuracy: 0.7152 - val_auc: 0.7933 - val_loss: 0.0342
Epoch 16/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7248 - auc: 0.8050 - loss: 0.0329 - val_accuracy: 0.7228 - val_auc: 0.7938 - val_loss: 0.0339
Epoch 17/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7265 - auc: 0.8066 - loss: 0.0328 - val_accuracy: 0.7254 - val_auc: 0.7985 - val_loss: 0.0336
Epoch 18/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7428 - auc: 0.8238 - loss: 0.0317 - val_accuracy: 0.7287 - val_auc: 0.7999 - val_loss: 0.0337
Epoch 19/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7446 - auc: 0.8269 - loss: 0.0314 - val_accuracy: 0.7366 - val_auc: 0.8157 - val_loss: 0.0327
Epoch 20/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7589 - auc: 0.8392 - loss: 0.0307 - val_accuracy: 0.7485 - val_auc: 0.8236 - val_loss: 0.0321
Epoch 21/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7681 - auc: 0.8534 - loss: 0.0295 - val_accuracy: 0.7485 - val_auc: 0.8213 - val_loss: 0.0329
Epoch 22/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7624 - auc: 0.8488 - loss: 0.0297 - val_accuracy: 0.7568 - val_auc: 0.8320 - val_loss: 0.0319
Epoch 23/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7724 - auc: 0.8582 - loss: 0.0292 - val_accuracy: 0.7607 - val_auc: 0.8407 - val_loss: 0.0311
Epoch 24/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7800 - auc: 0.8653 - loss: 0.0285 - val_accuracy: 0.7620 - val_auc: 0.8349 - val_loss: 0.0318
Epoch 25/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7823 - auc: 0.8661 - loss: 0.0284 - val_accuracy: 0.7640 - val_auc: 0.8387 - val_loss: 0.0314
Epoch 26/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7902 - auc: 0.8738 - loss: 0.0277 - val_accuracy: 0.7617 - val_auc: 0.8338 - val_loss: 0.0325
Epoch 27/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7928 - auc: 0.8768 - loss: 0.0275 - val_accuracy: 0.7667 - val_auc: 0.8440 - val_loss: 0.0317
Epoch 28/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7900 - auc: 0.8746 - loss: 0.0277 - val_accuracy: 0.7746 - val_auc: 0.8388 - val_loss: 0.0320
Epoch 29/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7979 - auc: 0.8817 - loss: 0.0271 - val_accuracy: 0.7828 - val_auc: 0.8467 - val_loss: 0.0307
Epoch 30/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8026 - auc: 0.8875 - loss: 0.0264 - val_accuracy: 0.7713 - val_auc: 0.8484 - val_loss: 0.0313
Epoch 31/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8056 - auc: 0.8902 - loss: 0.0263 - val_accuracy: 0.7680 - val_auc: 0.8481 - val_loss: 0.0313
Epoch 32/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8054 - auc: 0.8920 - loss: 0.0259 - val_accuracy: 0.7736 - val_auc: 0.8516 - val_loss: 0.0309
Epoch 33/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8091 - auc: 0.8932 - loss: 0.0260 - val_accuracy: 0.7782 - val_auc: 0.8540 - val_loss: 0.0305
Epoch 34/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8081 - auc: 0.8923 - loss: 0.0260 - val_accuracy: 0.7617 - val_auc: 0.8476 - val_loss: 0.0309
Epoch 35/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8147 - auc: 0.8992 - loss: 0.0251 - val_accuracy: 0.7782 - val_auc: 0.8597 - val_loss: 0.0301
Epoch 36/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8174 - auc: 0.9031 - loss: 0.0248 - val_accuracy: 0.7792 - val_auc: 0.8601 - val_loss: 0.0307
Epoch 37/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8205 - auc: 0.9048 - loss: 0.0246 - val_accuracy: 0.7759 - val_auc: 0.8564 - val_loss: 0.0306
Epoch 38/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8221 - auc: 0.9061 - loss: 0.0244 - val_accuracy: 0.7832 - val_auc: 0.8644 - val_loss: 0.0296
Epoch 39/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8230 - auc: 0.9075 - loss: 0.0243 - val_accuracy: 0.7842 - val_auc: 0.8624 - val_loss: 0.0298
Epoch 40/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8263 - auc: 0.9098 - loss: 0.0240 - val_accuracy: 0.7858 - val_auc: 0.8632 - val_loss: 0.0300
Epoch 41/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8317 - auc: 0.9146 - loss: 0.0234 - val_accuracy: 0.7792 - val_auc: 0.8624 - val_loss: 0.0304
Epoch 42/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8289 - auc: 0.9103 - loss: 0.0240 - val_accuracy: 0.7884 - val_auc: 0.8675 - val_loss: 0.0299
Epoch 43/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8324 - auc: 0.9173 - loss: 0.0231 - val_accuracy: 0.7858 - val_auc: 0.8658 - val_loss: 0.0302
Epoch 44/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8350 - auc: 0.9185 - loss: 0.0229 - val_accuracy: 0.7884 - val_auc: 0.8673 - val_loss: 0.0303
Epoch 45/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.8325 - auc: 0.9160 - loss: 0.0232 - val_accuracy: 0.7894 - val_auc: 0.8694 - val_loss: 0.0298
Epoch 46/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8377 - auc: 0.9214 - loss: 0.0224 - val_accuracy: 0.7861 - val_auc: 0.8699 - val_loss: 0.0295
Epoch 47/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8365 - auc: 0.9215 - loss: 0.0226 - val_accuracy: 0.7881 - val_auc: 0.8670 - val_loss: 0.0300
Epoch 48/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8379 - auc: 0.9207 - loss: 0.0227 - val_accuracy: 0.7888 - val_auc: 0.8693 - val_loss: 0.0306
Epoch 49/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8416 - auc: 0.9248 - loss: 0.0221 - val_accuracy: 0.7908 - val_auc: 0.8711 - val_loss: 0.0303
Epoch 50/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8413 - auc: 0.9237 - loss: 0.0222 - val_accuracy: 0.7950 - val_auc: 0.8697 - val_loss: 0.0310
2025-11-12 04:44:04.940 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 04:44:04.941 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0222, Accuracy: 0.8413, AUC: 0.9237
2025-11-12 04:44:04.942 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0310, Accuracy: 0.7950, AUC: 0.8697
2025-11-12 04:44:04.945 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:44:05.130 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:44:06.239 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15299 data points.
2025-11-12 04:44:06.326 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15279 sequences.
2025-11-12 04:44:08.053 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:44:08.075 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:44:08.077 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:44:08.077 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_600\PainX_600_M5'...
2025-11-12 04:44:08.184 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M5\random_forest.pkl
2025-11-12 04:44:08.195 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M5\gradient_boosting.pkl
2025-11-12 04:44:08.222 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_600\PainX_600_M5\lstm.keras and models\PainX_600\PainX_600_M5\lstm_scaler.pkl
2025-11-12 04:44:08.223 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_600\PainX_600_M5\feature_info.pkl
2025-11-12 04:44:08.224 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_600\PainX_600_M5\meta_model.pkl
2025-11-12 04:44:08.225 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_600\PainX_600_M5\training_metadata.json
2025-11-12 04:44:08.229 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 600 [5m] (12/50)
2025-11-12 04:44:08.229 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 600 [15m] ---
2025-11-12 04:44:08.410 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [15m] from MT5
2025-11-12 04:44:08.410 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 04:44:10.567 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 600\PainX 600_M15.csv (20000 records)
2025-11-12 04:44:10.568 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:44:11.746 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:44:15.382 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:44:15.383 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:44:24.933 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15214 signals total, 8613 profitable (56.6% win rate), 6601 unprofitable
2025-11-12 04:44:25.016 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15214, 110), Shape of y: (15214,)
2025-11-12 04:44:25.028 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15214 data points.
2025-11-12 04:44:25.217 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15164 sequences.
2025-11-12 04:44:25.278 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:44:25.279 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:44:25.286 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:44:25.286 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:44:25.316 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:44:30.974 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:44:30.976 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:47:22.760 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:47:22.762 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:47:22.763 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:47:22.813 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:47:22.814 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6589), np.float64(1.0): np.int64(8575)}
2025-11-12 04:47:22.816 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15164
2025-11-12 04:47:22.818 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:47:22.819 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6589), np.float64(1.0): np.int64(8575)}
2025-11-12 04:47:22.820 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15164
2025-11-12 04:47:22.820 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1507057216573076), 1: np.float64(0.8841982507288629)}
Epoch 1/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5371 - auc: 0.5291 - loss: 0.0446 - val_accuracy: 0.5364 - val_auc: 0.5164 - val_loss: 0.0429
Epoch 2/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5568 - auc: 0.5488 - loss: 0.0428 - val_accuracy: 0.5684 - val_auc: 0.5197 - val_loss: 0.0427
Epoch 3/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5757 - auc: 0.5805 - loss: 0.0423 - val_accuracy: 0.5865 - val_auc: 0.5305 - val_loss: 0.0427
Epoch 4/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5963 - auc: 0.6122 - loss: 0.0418 - val_accuracy: 0.5371 - val_auc: 0.5064 - val_loss: 0.0434
Epoch 5/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6133 - auc: 0.6414 - loss: 0.0410 - val_accuracy: 0.5163 - val_auc: 0.5261 - val_loss: 0.0440
Epoch 6/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6244 - auc: 0.6608 - loss: 0.0404 - val_accuracy: 0.5361 - val_auc: 0.5199 - val_loss: 0.0437
Epoch 7/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6502 - auc: 0.7055 - loss: 0.0390 - val_accuracy: 0.5012 - val_auc: 0.4924 - val_loss: 0.0464
Epoch 8/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6647 - auc: 0.7307 - loss: 0.0379 - val_accuracy: 0.5539 - val_auc: 0.5478 - val_loss: 0.0455
Epoch 9/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6849 - auc: 0.7513 - loss: 0.0369 - val_accuracy: 0.5427 - val_auc: 0.5276 - val_loss: 0.0477
Epoch 10/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7065 - auc: 0.7804 - loss: 0.0353 - val_accuracy: 0.5302 - val_auc: 0.5163 - val_loss: 0.0488
Epoch 11/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7247 - auc: 0.7969 - loss: 0.0346 - val_accuracy: 0.5097 - val_auc: 0.5165 - val_loss: 0.0504
Epoch 12/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7304 - auc: 0.8109 - loss: 0.0336 - val_accuracy: 0.5407 - val_auc: 0.5213 - val_loss: 0.0524
Epoch 13/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7464 - auc: 0.8247 - loss: 0.0325 - val_accuracy: 0.5371 - val_auc: 0.5195 - val_loss: 0.0525
2025-11-12 04:48:18.217 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 04:48:18.217 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0325, Accuracy: 0.7464, AUC: 0.8247
2025-11-12 04:48:18.219 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0525, Accuracy: 0.5371, AUC: 0.5195
2025-11-12 04:48:18.222 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:48:18.272 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:48:19.348 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15214 data points.
2025-11-12 04:48:19.425 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15194 sequences.
2025-11-12 04:48:21.089 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:48:21.115 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:48:21.117 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:48:21.117 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_600\PainX_600_M15'...
2025-11-12 04:48:21.160 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M15\random_forest.pkl
2025-11-12 04:48:21.169 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M15\gradient_boosting.pkl
2025-11-12 04:48:21.196 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_600\PainX_600_M15\lstm.keras and models\PainX_600\PainX_600_M15\lstm_scaler.pkl
2025-11-12 04:48:21.196 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_600\PainX_600_M15\feature_info.pkl
2025-11-12 04:48:21.199 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_600\PainX_600_M15\meta_model.pkl
2025-11-12 04:48:21.202 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_600\PainX_600_M15\training_metadata.json
2025-11-12 04:48:21.202 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 600 [15m] (13/50)
2025-11-12 04:48:21.203 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 600 [1h] ---
2025-11-12 04:48:21.345 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11978 candles for PainX 600 [1h] from MT5
2025-11-12 04:48:21.347 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 11978 candles (minimum: 2000)
2025-11-12 04:48:23.465 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 600\PainX 600_H1.csv (11978 records)
2025-11-12 04:48:23.466 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:48:24.183 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:48:26.310 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:48:26.310 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:48:31.739 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 8987 signals total, 5033 profitable (56.0% win rate), 3954 unprofitable
2025-11-12 04:48:31.788 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (8987, 110), Shape of y: (8987,)
2025-11-12 04:48:31.797 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 8987 data points.
2025-11-12 04:48:31.900 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 8937 sequences.
2025-11-12 04:48:31.958 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:48:31.959 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:48:31.963 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:48:31.963 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:48:31.979 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:48:35.353 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:48:35.353 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:50:10.399 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:50:10.400 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:50:10.402 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:50:10.441 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:50:10.442 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3938), np.float64(1.0): np.int64(4999)}
2025-11-12 04:50:10.443 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 8937
2025-11-12 04:50:10.446 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:50:10.447 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3938), np.float64(1.0): np.int64(4999)}
2025-11-12 04:50:10.447 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 8937
2025-11-12 04:50:10.449 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1347130523108178), 1: np.float64(0.8938787757551511)}
Epoch 1/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5427 - auc: 0.5481 - loss: 0.0442 - val_accuracy: 0.5481 - val_auc: 0.5151 - val_loss: 0.0433
Epoch 2/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5889 - auc: 0.6170 - loss: 0.0417 - val_accuracy: 0.5380 - val_auc: 0.5016 - val_loss: 0.0439
Epoch 3/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6039 - auc: 0.6428 - loss: 0.0411 - val_accuracy: 0.5487 - val_auc: 0.5249 - val_loss: 0.0442
Epoch 4/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6255 - auc: 0.6739 - loss: 0.0401 - val_accuracy: 0.5341 - val_auc: 0.5146 - val_loss: 0.0451
Epoch 5/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6457 - auc: 0.7051 - loss: 0.0388 - val_accuracy: 0.5403 - val_auc: 0.5126 - val_loss: 0.0475
Epoch 6/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6704 - auc: 0.7342 - loss: 0.0377 - val_accuracy: 0.5509 - val_auc: 0.5207 - val_loss: 0.0487
Epoch 7/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6889 - auc: 0.7669 - loss: 0.0360 - val_accuracy: 0.5475 - val_auc: 0.5457 - val_loss: 0.0469
Epoch 8/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6946 - auc: 0.7736 - loss: 0.0357 - val_accuracy: 0.5408 - val_auc: 0.5229 - val_loss: 0.0531
Epoch 9/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7295 - auc: 0.8048 - loss: 0.0339 - val_accuracy: 0.5598 - val_auc: 0.5342 - val_loss: 0.0489
Epoch 10/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7226 - auc: 0.8076 - loss: 0.0334 - val_accuracy: 0.5621 - val_auc: 0.5441 - val_loss: 0.0555
Epoch 11/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7416 - auc: 0.8272 - loss: 0.0322 - val_accuracy: 0.5442 - val_auc: 0.5361 - val_loss: 0.0536
2025-11-12 04:50:40.247 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 04:50:40.247 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0322, Accuracy: 0.7416, AUC: 0.8272
2025-11-12 04:50:40.249 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0536, Accuracy: 0.5442, AUC: 0.5361
2025-11-12 04:50:40.252 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:50:40.284 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:50:40.919 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 8987 data points.
2025-11-12 04:50:40.966 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 8967 sequences.
2025-11-12 04:50:42.100 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:50:42.117 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:50:42.118 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:50:42.119 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_600\PainX_600_H1'...
2025-11-12 04:50:42.167 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_H1\random_forest.pkl
2025-11-12 04:50:42.176 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_H1\gradient_boosting.pkl
2025-11-12 04:50:42.201 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_600\PainX_600_H1\lstm.keras and models\PainX_600\PainX_600_H1\lstm_scaler.pkl
2025-11-12 04:50:42.202 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_600\PainX_600_H1\feature_info.pkl
2025-11-12 04:50:42.204 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_600\PainX_600_H1\meta_model.pkl
2025-11-12 04:50:42.229 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_600\PainX_600_H1\training_metadata.json
2025-11-12 04:50:42.229 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 600 [1h] (14/50)
2025-11-12 04:50:42.231 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 600 [4h] ---
2025-11-12 04:50:42.334 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 2997 candles for PainX 600 [4h] from MT5
2025-11-12 04:50:42.335 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 2997 candles (minimum: 2000)
2025-11-12 04:50:44.393 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 600\PainX 600_H4.csv (2997 records)
2025-11-12 04:50:44.394 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:50:44.606 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:50:45.149 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:50:45.150 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:50:46.504 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2208 signals total, 1303 profitable (59.0% win rate), 905 unprofitable
2025-11-12 04:50:46.519 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2208, 110), Shape of y: (2208,)
2025-11-12 04:50:46.523 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2208 data points.
2025-11-12 04:50:46.551 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2158 sequences.
2025-11-12 04:50:46.587 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:50:46.587 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:50:46.589 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:50:46.590 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:50:46.595 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:50:47.614 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:50:47.614 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:51:09.466 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:51:09.467 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:51:09.468 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:51:09.507 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:51:09.508 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(873), np.float64(1.0): np.int64(1285)}
2025-11-12 04:51:09.509 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2158
2025-11-12 04:51:09.512 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 04:51:09.512 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(873), np.float64(1.0): np.int64(1285)}
2025-11-12 04:51:09.513 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2158
2025-11-12 04:51:09.513 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2359679266895762), 1: np.float64(0.8396887159533074)}
Epoch 1/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 3s 18ms/step - accuracy: 0.5255 - auc: 0.5250 - loss: 0.0469 - val_accuracy: 0.5856 - val_auc: 0.5334 - val_loss: 0.0427
Epoch 2/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6031 - auc: 0.6210 - loss: 0.0416 - val_accuracy: 0.5926 - val_auc: 0.5586 - val_loss: 0.0431
Epoch 3/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6437 - auc: 0.6774 - loss: 0.0394 - val_accuracy: 0.6088 - val_auc: 0.6200 - val_loss: 0.0423
Epoch 4/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7074 - auc: 0.7546 - loss: 0.0366 - val_accuracy: 0.5949 - val_auc: 0.6354 - val_loss: 0.0441
Epoch 5/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7080 - auc: 0.7687 - loss: 0.0355 - val_accuracy: 0.6019 - val_auc: 0.5967 - val_loss: 0.0458
Epoch 6/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7178 - auc: 0.7953 - loss: 0.0339 - val_accuracy: 0.6204 - val_auc: 0.5447 - val_loss: 0.0522
Epoch 7/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7312 - auc: 0.8102 - loss: 0.0331 - val_accuracy: 0.6157 - val_auc: 0.5610 - val_loss: 0.0555
Epoch 8/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7584 - auc: 0.8285 - loss: 0.0316 - val_accuracy: 0.6250 - val_auc: 0.5470 - val_loss: 0.0544
Epoch 9/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7746 - auc: 0.8525 - loss: 0.0297 - val_accuracy: 0.6227 - val_auc: 0.5729 - val_loss: 0.0538
Epoch 10/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7798 - auc: 0.8610 - loss: 0.0291 - val_accuracy: 0.6111 - val_auc: 0.4925 - val_loss: 0.0690
Epoch 11/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7862 - auc: 0.8631 - loss: 0.0287 - val_accuracy: 0.6065 - val_auc: 0.5345 - val_loss: 0.0637
Epoch 12/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.8019 - auc: 0.8827 - loss: 0.0270 - val_accuracy: 0.6111 - val_auc: 0.5344 - val_loss: 0.0734
Epoch 13/50
54/54 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.8013 - auc: 0.8898 - loss: 0.0263 - val_accuracy: 0.6181 - val_auc: 0.5573 - val_loss: 0.0652
2025-11-12 04:51:20.021 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 04:51:20.021 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0263, Accuracy: 0.8013, AUC: 0.8898
2025-11-12 04:51:20.022 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0652, Accuracy: 0.6181, AUC: 0.5573
2025-11-12 04:51:20.022 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:51:20.031 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:51:20.189 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2208 data points.
2025-11-12 04:51:20.201 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2188 sequences.
2025-11-12 04:51:20.721 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:51:20.729 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:51:20.730 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:51:20.730 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_600\PainX_600_H4'...
2025-11-12 04:51:20.811 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_H4\random_forest.pkl
2025-11-12 04:51:20.820 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_H4\gradient_boosting.pkl
2025-11-12 04:51:20.847 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_600\PainX_600_H4\lstm.keras and models\PainX_600\PainX_600_H4\lstm_scaler.pkl
2025-11-12 04:51:20.848 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_600\PainX_600_H4\feature_info.pkl
2025-11-12 04:51:20.849 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_600\PainX_600_H4\meta_model.pkl
2025-11-12 04:51:20.878 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_600\PainX_600_H4\training_metadata.json
2025-11-12 04:51:20.878 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 600 [4h] (15/50)
2025-11-12 04:51:20.880 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 600 [1m] ---
2025-11-12 04:51:20.882 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 04:51:20.883 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 04:51:23.889 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 04:51:23.890 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 04:51:23.891 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 04:51:23.975 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [1m] from MT5
2025-11-12 04:51:23.976 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:51:26.189 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 600\GainX 600_M1.csv (20000 records)
2025-11-12 04:51:26.189 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:51:27.330 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:51:30.905 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:51:30.906 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:51:40.400 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16053 signals total, 11714 profitable (73.0% win rate), 4339 unprofitable
2025-11-12 04:51:40.485 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16053, 110), Shape of y: (16053,)
2025-11-12 04:51:40.495 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16053 data points.
2025-11-12 04:51:40.673 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16003 sequences.
2025-11-12 04:51:40.684 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:51:40.684 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:51:40.686 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:51:40.686 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:51:40.717 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:51:45.876 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:51:45.878 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:54:12.615 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:54:12.617 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:54:12.618 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:54:12.658 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:54:12.658 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4323), np.float64(1.0): np.int64(11680)}
2025-11-12 04:54:12.662 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16003
2025-11-12 04:54:12.804 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 11680 to 6484
2025-11-12 04:54:12.805 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4323), np.float64(1.0): np.int64(6484)}
2025-11-12 04:54:12.806 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 10807
2025-11-12 04:54:12.809 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499421697894981), 1: np.float64(0.8333590376310919)}
Epoch 1/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5359 - auc: 0.5129 - loss: 0.0482 - val_accuracy: 0.6018 - val_auc: 0.4990 - val_loss: 0.0422
Epoch 2/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5784 - auc: 0.4936 - loss: 0.0431 - val_accuracy: 0.6022 - val_auc: 0.4990 - val_loss: 0.0422
Epoch 3/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5894 - auc: 0.4930 - loss: 0.0427 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0422
Epoch 4/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5972 - auc: 0.4896 - loss: 0.0425 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 5/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5999 - auc: 0.4972 - loss: 0.0424 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 6/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5998 - auc: 0.4984 - loss: 0.0424 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 7/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5987 - auc: 0.5089 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0422
Epoch 8/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5986 - auc: 0.4956 - loss: 0.0424 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 9/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5995 - auc: 0.4980 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 10/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5999 - auc: 0.5036 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 11/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6002 - auc: 0.4879 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4990 - val_loss: 0.0422
Epoch 12/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5999 - auc: 0.4975 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 13/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6000 - auc: 0.5051 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5014 - val_loss: 0.0421
Epoch 14/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6001 - auc: 0.5090 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 15/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6005 - auc: 0.4975 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 16/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5999 - auc: 0.4990 - loss: 0.0423 - val_accuracy: 0.6027 - val_auc: 0.5013 - val_loss: 0.0421
Epoch 17/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6001 - auc: 0.5046 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 18/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.4965 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 19/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6001 - auc: 0.5005 - loss: 0.0423 - val_accuracy: 0.6027 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 20/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5999 - auc: 0.5024 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 21/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.4952 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 22/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6003 - auc: 0.5003 - loss: 0.0422 - val_accuracy: 0.6027 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 23/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6002 - auc: 0.4983 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 24/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5995 - auc: 0.4884 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 25/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.5025 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
Epoch 26/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.4986 - loss: 0.0422 - val_accuracy: 0.6022 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 27/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6001 - auc: 0.5007 - loss: 0.0423 - val_accuracy: 0.6027 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 28/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6005 - auc: 0.5006 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 29/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5999 - auc: 0.4979 - loss: 0.0423 - val_accuracy: 0.6027 - val_auc: 0.5021 - val_loss: 0.0421
Epoch 30/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6003 - auc: 0.5035 - loss: 0.0422 - val_accuracy: 0.6027 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 31/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6005 - auc: 0.5026 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 32/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.4994 - loss: 0.0423 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 33/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6002 - auc: 0.5018 - loss: 0.0422 - val_accuracy: 0.6027 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 34/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6002 - auc: 0.4978 - loss: 0.0422 - val_accuracy: 0.6022 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 35/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6005 - auc: 0.4988 - loss: 0.0422 - val_accuracy: 0.6022 - val_auc: 0.4994 - val_loss: 0.0421
Epoch 36/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.4971 - loss: 0.0422 - val_accuracy: 0.6022 - val_auc: 0.5002 - val_loss: 0.0421
Epoch 37/50
271/271 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.5011 - loss: 0.0422 - val_accuracy: 0.6022 - val_auc: 0.5006 - val_loss: 0.0421
2025-11-12 04:56:04.344 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 37
2025-11-12 04:56:04.345 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0422, Accuracy: 0.6003, AUC: 0.5011
2025-11-12 04:56:04.346 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0421, Accuracy: 0.6022, AUC: 0.5006
2025-11-12 04:56:04.349 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 04:56:04.431 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 04:56:05.558 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16053 data points.
2025-11-12 04:56:05.643 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16033 sequences.
2025-11-12 04:56:07.419 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 04:56:07.455 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 04:56:07.456 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 04:56:07.457 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_600\GainX_600_M1'...
2025-11-12 04:56:07.523 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M1\random_forest.pkl
2025-11-12 04:56:07.532 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M1\gradient_boosting.pkl
2025-11-12 04:56:07.558 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_600\GainX_600_M1\lstm.keras and models\GainX_600\GainX_600_M1\lstm_scaler.pkl
2025-11-12 04:56:07.560 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_600\GainX_600_M1\feature_info.pkl
2025-11-12 04:56:07.576 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_600\GainX_600_M1\meta_model.pkl
2025-11-12 04:56:07.577 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_600\GainX_600_M1\training_metadata.json
2025-11-12 04:56:07.578 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 600 [1m] (16/50)
2025-11-12 04:56:07.578 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 600 [5m] ---
2025-11-12 04:56:07.896 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [5m] from MT5
2025-11-12 04:56:07.898 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 04:56:10.062 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 600\GainX 600_M5.csv (20000 records)
2025-11-12 04:56:10.063 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 04:56:11.212 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 04:56:14.770 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 04:56:14.770 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 04:56:24.022 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15430 signals total, 9404 profitable (60.9% win rate), 6026 unprofitable
2025-11-12 04:56:24.100 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15430, 110), Shape of y: (15430,)
2025-11-12 04:56:24.112 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15430 data points.
2025-11-12 04:56:24.284 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15380 sequences.
2025-11-12 04:56:24.344 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 04:56:24.345 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 04:56:24.348 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 04:56:24.349 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 04:56:24.378 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 04:56:29.847 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 04:56:29.849 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 04:59:09.603 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 04:59:09.604 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 04:59:09.605 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 04:59:09.644 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 04:59:09.645 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6013), np.float64(1.0): np.int64(9367)}
2025-11-12 04:59:09.646 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15380
2025-11-12 04:59:09.848 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9367 to 9019
2025-11-12 04:59:09.849 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6013), np.float64(1.0): np.int64(9019)}
2025-11-12 04:59:09.850 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15032
2025-11-12 04:59:09.853 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499584234159322), 1: np.float64(0.833351812839561)}
Epoch 1/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5677 - auc: 0.5003 - loss: 0.0431 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0423
Epoch 2/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5984 - auc: 0.5060 - loss: 0.0423 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 3/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6004 - auc: 0.5068 - loss: 0.0423 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 4/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5081 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 5/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4955 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 6/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5062 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 7/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5000 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 8/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5002 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 9/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5001 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 10/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5033 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 11/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4974 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 12/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4919 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 13/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5015 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 14/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4952 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 15/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4983 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 16/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4971 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 17/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5003 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 18/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4984 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 19/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5022 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 20/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6012 - auc: 0.5022 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 21/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5007 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 22/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4986 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 23/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5006 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 24/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5004 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 25/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.5009 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5035 - val_loss: 0.0422
Epoch 26/50
376/376 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6012 - auc: 0.4942 - loss: 0.0422 - val_accuracy: 0.5949 - val_auc: 0.5031 - val_loss: 0.0422
2025-11-12 05:01:00.155 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 26
2025-11-12 05:01:00.156 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0422, Accuracy: 0.6012, AUC: 0.4942
2025-11-12 05:01:00.157 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0422, Accuracy: 0.5949, AUC: 0.5031
2025-11-12 05:01:00.160 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:01:00.282 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:01:01.373 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15430 data points.
2025-11-12 05:01:01.456 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15410 sequences.
2025-11-12 05:01:03.589 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:01:03.605 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:01:03.607 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:01:03.607 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_600\GainX_600_M5'...
2025-11-12 05:01:03.786 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M5\random_forest.pkl
2025-11-12 05:01:03.800 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M5\gradient_boosting.pkl
2025-11-12 05:01:03.826 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_600\GainX_600_M5\lstm.keras and models\GainX_600\GainX_600_M5\lstm_scaler.pkl
2025-11-12 05:01:03.827 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_600\GainX_600_M5\feature_info.pkl
2025-11-12 05:01:03.827 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_600\GainX_600_M5\meta_model.pkl
2025-11-12 05:01:03.828 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_600\GainX_600_M5\training_metadata.json
2025-11-12 05:01:03.828 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 600 [5m] (17/50)
2025-11-12 05:01:03.829 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 600 [15m] ---
2025-11-12 05:01:04.003 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [15m] from MT5
2025-11-12 05:01:04.004 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 05:01:06.175 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 600\GainX 600_M15.csv (20000 records)
2025-11-12 05:01:06.175 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:01:07.317 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:01:10.863 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:01:10.864 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:01:20.017 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15227 signals total, 8723 profitable (57.3% win rate), 6504 unprofitable
2025-11-12 05:01:20.095 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15227, 110), Shape of y: (15227,)
2025-11-12 05:01:20.108 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15227 data points.
2025-11-12 05:01:20.279 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15177 sequences.
2025-11-12 05:01:20.341 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:01:20.341 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:01:20.345 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:01:20.346 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:01:20.374 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:01:26.125 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:01:26.127 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:04:10.801 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:04:10.802 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:04:10.803 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:04:10.842 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:04:10.843 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6498), np.float64(1.0): np.int64(8679)}
2025-11-12 05:04:10.844 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15177
2025-11-12 05:04:10.847 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:04:10.848 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6498), np.float64(1.0): np.int64(8679)}
2025-11-12 05:04:10.848 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15177
2025-11-12 05:04:10.849 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.167820867959372), 1: np.float64(0.8743518838575873)}
Epoch 1/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5351 - auc: 0.5035 - loss: 0.0439 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0430
Epoch 2/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5620 - auc: 0.5080 - loss: 0.0432 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0428
Epoch 3/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5654 - auc: 0.4901 - loss: 0.0431 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 4/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5663 - auc: 0.5024 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 5/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5677 - auc: 0.4983 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 6/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5671 - auc: 0.5059 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 7/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5676 - auc: 0.4974 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 8/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5036 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 9/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5045 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 10/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5681 - auc: 0.4999 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 11/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5681 - auc: 0.4894 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 12/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4984 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 13/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5029 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 14/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5010 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 15/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4966 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 16/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4997 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 17/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5681 - auc: 0.5008 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 18/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5686 - auc: 0.4938 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 19/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5679 - auc: 0.5013 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 20/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5680 - auc: 0.4948 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 21/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5676 - auc: 0.5030 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 22/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5681 - auc: 0.5053 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 23/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5016 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 24/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4940 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 25/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5014 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 26/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4970 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0426
Epoch 27/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.4973 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
Epoch 28/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5682 - auc: 0.5001 - loss: 0.0429 - val_accuracy: 0.5866 - val_auc: 0.5000 - val_loss: 0.0425
2025-11-12 05:06:08.807 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 28
2025-11-12 05:06:08.807 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0429, Accuracy: 0.5682, AUC: 0.5001
2025-11-12 05:06:08.809 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0425, Accuracy: 0.5866, AUC: 0.5000
2025-11-12 05:06:08.812 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:06:08.863 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:06:09.928 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15227 data points.
2025-11-12 05:06:10.008 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15207 sequences.
2025-11-12 05:06:11.702 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:06:11.720 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:06:11.721 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:06:11.721 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_600\GainX_600_M15'...
2025-11-12 05:06:11.782 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M15\random_forest.pkl
2025-11-12 05:06:11.799 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M15\gradient_boosting.pkl
2025-11-12 05:06:11.848 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_600\GainX_600_M15\lstm.keras and models\GainX_600\GainX_600_M15\lstm_scaler.pkl
2025-11-12 05:06:11.849 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_600\GainX_600_M15\feature_info.pkl
2025-11-12 05:06:11.851 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_600\GainX_600_M15\meta_model.pkl
2025-11-12 05:06:11.854 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_600\GainX_600_M15\training_metadata.json
2025-11-12 05:06:11.854 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 600 [15m] (18/50)
2025-11-12 05:06:11.855 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 600 [1h] ---
2025-11-12 05:06:11.998 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11979 candles for GainX 600 [1h] from MT5
2025-11-12 05:06:11.999 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 11979 candles (minimum: 2000)
2025-11-12 05:06:14.146 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 600\GainX 600_H1.csv (11979 records)
2025-11-12 05:06:14.147 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:06:14.859 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:06:16.993 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:06:16.994 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:06:22.459 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 9025 signals total, 4904 profitable (54.3% win rate), 4121 unprofitable
2025-11-12 05:06:22.507 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (9025, 110), Shape of y: (9025,)
2025-11-12 05:06:22.517 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 9025 data points.
2025-11-12 05:06:22.620 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 8975 sequences.
2025-11-12 05:06:22.677 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:06:22.678 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:06:22.682 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:06:22.682 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:06:22.700 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:06:26.152 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:06:26.153 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:08:02.390 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:08:02.391 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:08:02.393 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:08:02.431 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:08:02.432 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4094), np.float64(1.0): np.int64(4881)}
2025-11-12 05:08:02.433 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 8975
2025-11-12 05:08:02.436 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:08:02.437 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4094), np.float64(1.0): np.int64(4881)}
2025-11-12 05:08:02.437 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 8975
2025-11-12 05:08:02.438 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.0961162677088423), 1: np.float64(0.9193812743290309)}
Epoch 1/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5134 - auc: 0.5104 - loss: 0.0461 - val_accuracy: 0.5148 - val_auc: 0.5199 - val_loss: 0.0436
Epoch 2/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5581 - auc: 0.5618 - loss: 0.0427 - val_accuracy: 0.5136 - val_auc: 0.5248 - val_loss: 0.0436
Epoch 3/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5808 - auc: 0.6034 - loss: 0.0419 - val_accuracy: 0.5008 - val_auc: 0.5306 - val_loss: 0.0435
Epoch 4/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5930 - auc: 0.6234 - loss: 0.0414 - val_accuracy: 0.5242 - val_auc: 0.5469 - val_loss: 0.0440
Epoch 5/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6159 - auc: 0.6498 - loss: 0.0408 - val_accuracy: 0.5359 - val_auc: 0.5503 - val_loss: 0.0438
Epoch 6/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6496 - auc: 0.7017 - loss: 0.0390 - val_accuracy: 0.5270 - val_auc: 0.5585 - val_loss: 0.0454
Epoch 7/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6801 - auc: 0.7467 - loss: 0.0372 - val_accuracy: 0.5337 - val_auc: 0.5569 - val_loss: 0.0489
Epoch 8/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7049 - auc: 0.7737 - loss: 0.0356 - val_accuracy: 0.5616 - val_auc: 0.5738 - val_loss: 0.0470
Epoch 9/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7235 - auc: 0.8005 - loss: 0.0345 - val_accuracy: 0.5370 - val_auc: 0.5459 - val_loss: 0.0471
Epoch 10/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7419 - auc: 0.8233 - loss: 0.0328 - val_accuracy: 0.5415 - val_auc: 0.5496 - val_loss: 0.0517
Epoch 11/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7479 - auc: 0.8368 - loss: 0.0318 - val_accuracy: 0.5287 - val_auc: 0.5416 - val_loss: 0.0497
Epoch 12/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7688 - auc: 0.8531 - loss: 0.0304 - val_accuracy: 0.5627 - val_auc: 0.5641 - val_loss: 0.0523
Epoch 13/50
225/225 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7786 - auc: 0.8635 - loss: 0.0293 - val_accuracy: 0.5521 - val_auc: 0.5483 - val_loss: 0.0541
2025-11-12 05:08:37.391 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 05:08:37.391 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0293, Accuracy: 0.7786, AUC: 0.8635
2025-11-12 05:08:37.392 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0541, Accuracy: 0.5521, AUC: 0.5483
2025-11-12 05:08:37.393 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:08:37.425 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:08:38.066 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 9025 data points.
2025-11-12 05:08:38.113 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 9005 sequences.
2025-11-12 05:08:39.266 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:08:39.282 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:08:39.283 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:08:39.283 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_600\GainX_600_H1'...
2025-11-12 05:08:39.353 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_H1\random_forest.pkl
2025-11-12 05:08:39.362 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_H1\gradient_boosting.pkl
2025-11-12 05:08:39.408 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_600\GainX_600_H1\lstm.keras and models\GainX_600\GainX_600_H1\lstm_scaler.pkl
2025-11-12 05:08:39.409 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_600\GainX_600_H1\feature_info.pkl
2025-11-12 05:08:39.411 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_600\GainX_600_H1\meta_model.pkl
2025-11-12 05:08:39.412 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_600\GainX_600_H1\training_metadata.json
2025-11-12 05:08:39.413 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 600 [1h] (19/50)
2025-11-12 05:08:39.413 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 600 [4h] ---
2025-11-12 05:08:39.530 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 2997 candles for GainX 600 [4h] from MT5
2025-11-12 05:08:39.531 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 2997 candles (minimum: 2000)
2025-11-12 05:08:41.588 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 600\GainX 600_H4.csv (2997 records)
2025-11-12 05:08:41.588 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:08:41.798 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:08:42.342 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:08:42.343 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:08:43.701 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2214 signals total, 1231 profitable (55.6% win rate), 983 unprofitable
2025-11-12 05:08:43.718 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2214, 110), Shape of y: (2214,)
2025-11-12 05:08:43.721 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2214 data points.
2025-11-12 05:08:43.748 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2164 sequences.
2025-11-12 05:08:43.783 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:08:43.784 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:08:43.786 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:08:43.786 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:08:43.793 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:08:44.825 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:08:44.825 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:09:06.598 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:09:06.599 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:09:06.599 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:09:06.636 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:09:06.636 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(953), np.float64(1.0): np.int64(1211)}
2025-11-12 05:09:06.637 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2164
2025-11-12 05:09:06.640 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:09:06.641 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(953), np.float64(1.0): np.int64(1211)}
2025-11-12 05:09:06.641 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2164
2025-11-12 05:09:06.643 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1353620146904513), 1: np.float64(0.893476465730801)}
Epoch 1/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 3s 17ms/step - accuracy: 0.5453 - auc: 0.5481 - loss: 0.0463 - val_accuracy: 0.6328 - val_auc: 0.6146 - val_loss: 0.0407
Epoch 2/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.5991 - auc: 0.6507 - loss: 0.0413 - val_accuracy: 0.6189 - val_auc: 0.5840 - val_loss: 0.0418
Epoch 3/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6482 - auc: 0.7078 - loss: 0.0394 - val_accuracy: 0.6051 - val_auc: 0.6319 - val_loss: 0.0406
Epoch 4/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6719 - auc: 0.7395 - loss: 0.0378 - val_accuracy: 0.6005 - val_auc: 0.6412 - val_loss: 0.0406
Epoch 5/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7100 - auc: 0.7763 - loss: 0.0361 - val_accuracy: 0.6120 - val_auc: 0.6362 - val_loss: 0.0446
Epoch 6/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7152 - auc: 0.7989 - loss: 0.0345 - val_accuracy: 0.6212 - val_auc: 0.6372 - val_loss: 0.0475
Epoch 7/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7377 - auc: 0.8212 - loss: 0.0331 - val_accuracy: 0.5912 - val_auc: 0.6341 - val_loss: 0.0513
Epoch 8/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7620 - auc: 0.8464 - loss: 0.0314 - val_accuracy: 0.5889 - val_auc: 0.6662 - val_loss: 0.0509
Epoch 9/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7868 - auc: 0.8568 - loss: 0.0306 - val_accuracy: 0.6143 - val_auc: 0.6079 - val_loss: 0.0599
Epoch 10/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7863 - auc: 0.8659 - loss: 0.0299 - val_accuracy: 0.6051 - val_auc: 0.6255 - val_loss: 0.0543
Epoch 11/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7995 - auc: 0.8830 - loss: 0.0280 - val_accuracy: 0.6005 - val_auc: 0.6279 - val_loss: 0.0528
Epoch 12/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7984 - auc: 0.8861 - loss: 0.0279 - val_accuracy: 0.6005 - val_auc: 0.5976 - val_loss: 0.0592
Epoch 13/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.8076 - auc: 0.8916 - loss: 0.0271 - val_accuracy: 0.6189 - val_auc: 0.6027 - val_loss: 0.0578
2025-11-12 05:09:17.430 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 05:09:17.430 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0271, Accuracy: 0.8076, AUC: 0.8916
2025-11-12 05:09:17.430 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0578, Accuracy: 0.6189, AUC: 0.6027
2025-11-12 05:09:17.431 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:09:17.439 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:09:17.599 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2214 data points.
2025-11-12 05:09:17.612 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2194 sequences.
2025-11-12 05:09:18.130 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:09:18.136 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:09:18.137 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:09:18.137 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_600\GainX_600_H4'...
2025-11-12 05:09:18.243 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_H4\random_forest.pkl
2025-11-12 05:09:18.252 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_H4\gradient_boosting.pkl
2025-11-12 05:09:18.287 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_600\GainX_600_H4\lstm.keras and models\GainX_600\GainX_600_H4\lstm_scaler.pkl
2025-11-12 05:09:18.288 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_600\GainX_600_H4\feature_info.pkl
2025-11-12 05:09:18.290 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_600\GainX_600_H4\meta_model.pkl
2025-11-12 05:09:18.294 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_600\GainX_600_H4\training_metadata.json
2025-11-12 05:09:18.295 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 600 [4h] (20/50)
2025-11-12 05:09:18.295 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 800 [1m] ---
2025-11-12 05:09:18.296 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 05:09:18.296 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 05:09:21.341 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 05:09:21.342 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 05:09:21.345 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 05:09:21.502 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [1m] from MT5
2025-11-12 05:09:21.504 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:09:23.675 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 800\PainX 800_M1.csv (20000 records)
2025-11-12 05:09:23.675 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:09:24.830 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:09:28.313 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:09:28.314 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:09:37.829 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16138 signals total, 12167 profitable (75.4% win rate), 3971 unprofitable
2025-11-12 05:09:37.910 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16138, 110), Shape of y: (16138,)
2025-11-12 05:09:37.921 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16138 data points.
2025-11-12 05:09:38.097 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16088 sequences.
2025-11-12 05:09:38.108 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:09:38.108 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:09:38.110 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:09:38.110 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:09:38.141 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:09:43.223 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:09:43.225 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:12:04.062 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:12:04.064 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:12:04.065 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:12:04.104 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:12:04.105 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3957), np.float64(1.0): np.int64(12131)}
2025-11-12 05:12:04.110 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16088
2025-11-12 05:12:04.244 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 12131 to 5935
2025-11-12 05:12:04.244 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3957), np.float64(1.0): np.int64(5935)}
2025-11-12 05:12:04.246 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9892
2025-11-12 05:12:04.246 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499368208238564), 1: np.float64(0.8333614153327716)}
Epoch 1/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5936 - auc: 0.6007 - loss: 0.0432 - val_accuracy: 0.6397 - val_auc: 0.6477 - val_loss: 0.0403
Epoch 2/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6234 - auc: 0.6427 - loss: 0.0409 - val_accuracy: 0.6301 - val_auc: 0.6559 - val_loss: 0.0399
Epoch 3/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6288 - auc: 0.6589 - loss: 0.0404 - val_accuracy: 0.6518 - val_auc: 0.6571 - val_loss: 0.0400
Epoch 4/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6373 - auc: 0.6661 - loss: 0.0401 - val_accuracy: 0.6311 - val_auc: 0.6572 - val_loss: 0.0400
Epoch 5/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6341 - auc: 0.6681 - loss: 0.0400 - val_accuracy: 0.6518 - val_auc: 0.6700 - val_loss: 0.0397
Epoch 6/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6416 - auc: 0.6783 - loss: 0.0397 - val_accuracy: 0.6518 - val_auc: 0.6730 - val_loss: 0.0396
Epoch 7/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6517 - auc: 0.6863 - loss: 0.0394 - val_accuracy: 0.6493 - val_auc: 0.6682 - val_loss: 0.0396
Epoch 8/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6544 - auc: 0.6921 - loss: 0.0392 - val_accuracy: 0.6427 - val_auc: 0.6669 - val_loss: 0.0397
Epoch 9/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6487 - auc: 0.6907 - loss: 0.0392 - val_accuracy: 0.6594 - val_auc: 0.6763 - val_loss: 0.0393
Epoch 10/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6604 - auc: 0.7012 - loss: 0.0388 - val_accuracy: 0.6630 - val_auc: 0.6805 - val_loss: 0.0392
Epoch 11/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6588 - auc: 0.7030 - loss: 0.0388 - val_accuracy: 0.6614 - val_auc: 0.6894 - val_loss: 0.0388
Epoch 12/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6646 - auc: 0.7135 - loss: 0.0382 - val_accuracy: 0.6614 - val_auc: 0.6889 - val_loss: 0.0386
Epoch 13/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6637 - auc: 0.7153 - loss: 0.0380 - val_accuracy: 0.6604 - val_auc: 0.6966 - val_loss: 0.0383
Epoch 14/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6710 - auc: 0.7273 - loss: 0.0373 - val_accuracy: 0.6705 - val_auc: 0.7145 - val_loss: 0.0375
Epoch 15/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6722 - auc: 0.7334 - loss: 0.0369 - val_accuracy: 0.6589 - val_auc: 0.7008 - val_loss: 0.0380
Epoch 16/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6762 - auc: 0.7410 - loss: 0.0365 - val_accuracy: 0.6625 - val_auc: 0.7171 - val_loss: 0.0371
Epoch 17/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6828 - auc: 0.7500 - loss: 0.0361 - val_accuracy: 0.6584 - val_auc: 0.7154 - val_loss: 0.0374
Epoch 18/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6903 - auc: 0.7630 - loss: 0.0354 - val_accuracy: 0.6625 - val_auc: 0.7157 - val_loss: 0.0378
Epoch 19/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6842 - auc: 0.7643 - loss: 0.0350 - val_accuracy: 0.6766 - val_auc: 0.7223 - val_loss: 0.0376
Epoch 20/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6958 - auc: 0.7692 - loss: 0.0348 - val_accuracy: 0.6791 - val_auc: 0.7375 - val_loss: 0.0365
Epoch 21/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7031 - auc: 0.7741 - loss: 0.0345 - val_accuracy: 0.6736 - val_auc: 0.7273 - val_loss: 0.0371
Epoch 22/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7001 - auc: 0.7792 - loss: 0.0342 - val_accuracy: 0.6796 - val_auc: 0.7415 - val_loss: 0.0361
Epoch 23/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7071 - auc: 0.7877 - loss: 0.0336 - val_accuracy: 0.6842 - val_auc: 0.7443 - val_loss: 0.0369
Epoch 24/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7081 - auc: 0.7827 - loss: 0.0339 - val_accuracy: 0.6918 - val_auc: 0.7523 - val_loss: 0.0359
Epoch 25/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7091 - auc: 0.7942 - loss: 0.0332 - val_accuracy: 0.6978 - val_auc: 0.7650 - val_loss: 0.0358
Epoch 26/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7261 - auc: 0.8088 - loss: 0.0325 - val_accuracy: 0.6958 - val_auc: 0.7621 - val_loss: 0.0362
Epoch 27/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7258 - auc: 0.8125 - loss: 0.0323 - val_accuracy: 0.7024 - val_auc: 0.7680 - val_loss: 0.0361
Epoch 28/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7269 - auc: 0.8160 - loss: 0.0317 - val_accuracy: 0.7069 - val_auc: 0.7829 - val_loss: 0.0351
Epoch 29/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7366 - auc: 0.8209 - loss: 0.0316 - val_accuracy: 0.7089 - val_auc: 0.7753 - val_loss: 0.0355
Epoch 30/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7326 - auc: 0.8230 - loss: 0.0312 - val_accuracy: 0.7236 - val_auc: 0.7912 - val_loss: 0.0347
Epoch 31/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7437 - auc: 0.8304 - loss: 0.0306 - val_accuracy: 0.7064 - val_auc: 0.7852 - val_loss: 0.0348
Epoch 32/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7431 - auc: 0.8308 - loss: 0.0309 - val_accuracy: 0.7135 - val_auc: 0.7821 - val_loss: 0.0360
Epoch 33/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7504 - auc: 0.8412 - loss: 0.0301 - val_accuracy: 0.7281 - val_auc: 0.8048 - val_loss: 0.0340
Epoch 34/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7546 - auc: 0.8443 - loss: 0.0297 - val_accuracy: 0.7069 - val_auc: 0.7863 - val_loss: 0.0348
Epoch 35/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7522 - auc: 0.8427 - loss: 0.0299 - val_accuracy: 0.7191 - val_auc: 0.7900 - val_loss: 0.0354
Epoch 36/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7605 - auc: 0.8506 - loss: 0.0292 - val_accuracy: 0.7221 - val_auc: 0.8011 - val_loss: 0.0340
Epoch 37/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7641 - auc: 0.8564 - loss: 0.0289 - val_accuracy: 0.7337 - val_auc: 0.8009 - val_loss: 0.0352
Epoch 38/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7670 - auc: 0.8576 - loss: 0.0287 - val_accuracy: 0.7185 - val_auc: 0.7990 - val_loss: 0.0342
Epoch 39/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7606 - auc: 0.8550 - loss: 0.0289 - val_accuracy: 0.7332 - val_auc: 0.8046 - val_loss: 0.0348
Epoch 40/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7694 - auc: 0.8633 - loss: 0.0282 - val_accuracy: 0.7438 - val_auc: 0.8147 - val_loss: 0.0357
Epoch 41/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7742 - auc: 0.8700 - loss: 0.0278 - val_accuracy: 0.7347 - val_auc: 0.8097 - val_loss: 0.0359
Epoch 42/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7762 - auc: 0.8684 - loss: 0.0276 - val_accuracy: 0.7377 - val_auc: 0.8110 - val_loss: 0.0351
Epoch 43/50
248/248 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7714 - auc: 0.8663 - loss: 0.0278 - val_accuracy: 0.7504 - val_auc: 0.8203 - val_loss: 0.0352
2025-11-12 05:14:02.611 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 43
2025-11-12 05:14:02.612 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0278, Accuracy: 0.7714, AUC: 0.8663
2025-11-12 05:14:02.613 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0352, Accuracy: 0.7504, AUC: 0.8203
2025-11-12 05:14:02.616 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:14:02.681 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:14:03.832 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16138 data points.
2025-11-12 05:14:03.921 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16118 sequences.
2025-11-12 05:14:05.702 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:14:05.727 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:14:05.728 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:14:05.729 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_800\PainX_800_M1'...
2025-11-12 05:14:05.751 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M1\random_forest.pkl
2025-11-12 05:14:05.761 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M1\gradient_boosting.pkl
2025-11-12 05:14:05.853 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_800\PainX_800_M1\lstm.keras and models\PainX_800\PainX_800_M1\lstm_scaler.pkl
2025-11-12 05:14:05.854 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_800\PainX_800_M1\feature_info.pkl
2025-11-12 05:14:05.856 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_800\PainX_800_M1\meta_model.pkl
2025-11-12 05:14:05.857 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_800\PainX_800_M1\training_metadata.json
2025-11-12 05:14:05.858 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 800 [1m] (21/50)
2025-11-12 05:14:05.859 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 800 [5m] ---
2025-11-12 05:14:06.020 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [5m] from MT5
2025-11-12 05:14:06.022 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:14:08.188 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 800\PainX 800_M5.csv (20000 records)
2025-11-12 05:14:08.189 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:14:09.339 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:14:12.899 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:14:12.899 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:14:22.166 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15456 signals total, 9717 profitable (62.9% win rate), 5739 unprofitable
2025-11-12 05:14:22.243 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15456, 110), Shape of y: (15456,)
2025-11-12 05:14:22.256 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15456 data points.
2025-11-12 05:14:22.429 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15406 sequences.
2025-11-12 05:14:22.486 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:14:22.486 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:14:22.490 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:14:22.491 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:14:22.519 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:14:27.939 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:14:27.940 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:17:06.964 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:17:06.966 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:17:06.966 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:17:07.005 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:17:07.006 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5717), np.float64(1.0): np.int64(9689)}
2025-11-12 05:17:07.007 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15406
2025-11-12 05:17:07.197 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9689 to 8575
2025-11-12 05:17:07.198 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5717), np.float64(1.0): np.int64(8575)}
2025-11-12 05:17:07.199 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 14292
2025-11-12 05:17:07.202 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499562707713836), 1: np.float64(0.8333527696793003)}
Epoch 1/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5729 - auc: 0.5403 - loss: 0.0438 - val_accuracy: 0.6132 - val_auc: 0.6230 - val_loss: 0.0411
Epoch 2/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6114 - auc: 0.5849 - loss: 0.0418 - val_accuracy: 0.6215 - val_auc: 0.6233 - val_loss: 0.0411
Epoch 3/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6117 - auc: 0.6007 - loss: 0.0414 - val_accuracy: 0.6366 - val_auc: 0.6435 - val_loss: 0.0405
Epoch 4/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6206 - auc: 0.6031 - loss: 0.0412 - val_accuracy: 0.6390 - val_auc: 0.6497 - val_loss: 0.0401
Epoch 5/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6259 - auc: 0.6121 - loss: 0.0408 - val_accuracy: 0.6436 - val_auc: 0.6505 - val_loss: 0.0399
Epoch 6/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6352 - auc: 0.6322 - loss: 0.0404 - val_accuracy: 0.6369 - val_auc: 0.6549 - val_loss: 0.0396
Epoch 7/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6355 - auc: 0.6430 - loss: 0.0399 - val_accuracy: 0.6464 - val_auc: 0.6655 - val_loss: 0.0393
Epoch 8/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6508 - auc: 0.6666 - loss: 0.0392 - val_accuracy: 0.6527 - val_auc: 0.6924 - val_loss: 0.0388
Epoch 9/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6595 - auc: 0.6826 - loss: 0.0386 - val_accuracy: 0.6642 - val_auc: 0.7193 - val_loss: 0.0380
Epoch 10/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6650 - auc: 0.7042 - loss: 0.0380 - val_accuracy: 0.6677 - val_auc: 0.7172 - val_loss: 0.0374
Epoch 11/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6724 - auc: 0.7174 - loss: 0.0375 - val_accuracy: 0.6761 - val_auc: 0.7281 - val_loss: 0.0372
Epoch 12/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6832 - auc: 0.7276 - loss: 0.0370 - val_accuracy: 0.6856 - val_auc: 0.7459 - val_loss: 0.0365
Epoch 13/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6906 - auc: 0.7402 - loss: 0.0363 - val_accuracy: 0.6929 - val_auc: 0.7601 - val_loss: 0.0361
Epoch 14/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7055 - auc: 0.7592 - loss: 0.0355 - val_accuracy: 0.7016 - val_auc: 0.7647 - val_loss: 0.0355
Epoch 15/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7083 - auc: 0.7701 - loss: 0.0347 - val_accuracy: 0.7079 - val_auc: 0.7766 - val_loss: 0.0352
Epoch 16/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7101 - auc: 0.7751 - loss: 0.0346 - val_accuracy: 0.7202 - val_auc: 0.7856 - val_loss: 0.0347
Epoch 17/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7242 - auc: 0.7955 - loss: 0.0335 - val_accuracy: 0.7198 - val_auc: 0.7915 - val_loss: 0.0343
Epoch 18/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7310 - auc: 0.8034 - loss: 0.0328 - val_accuracy: 0.7254 - val_auc: 0.8010 - val_loss: 0.0342
Epoch 19/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7348 - auc: 0.8117 - loss: 0.0324 - val_accuracy: 0.7370 - val_auc: 0.8031 - val_loss: 0.0338
Epoch 20/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7363 - auc: 0.8170 - loss: 0.0320 - val_accuracy: 0.7436 - val_auc: 0.8093 - val_loss: 0.0333
Epoch 21/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7474 - auc: 0.8255 - loss: 0.0314 - val_accuracy: 0.7338 - val_auc: 0.8087 - val_loss: 0.0333
Epoch 22/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7486 - auc: 0.8321 - loss: 0.0311 - val_accuracy: 0.7422 - val_auc: 0.8194 - val_loss: 0.0330
Epoch 23/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7576 - auc: 0.8390 - loss: 0.0304 - val_accuracy: 0.7457 - val_auc: 0.8179 - val_loss: 0.0339
Epoch 24/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7596 - auc: 0.8490 - loss: 0.0297 - val_accuracy: 0.7464 - val_auc: 0.8212 - val_loss: 0.0326
Epoch 25/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7643 - auc: 0.8449 - loss: 0.0300 - val_accuracy: 0.7450 - val_auc: 0.8193 - val_loss: 0.0328
Epoch 26/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7731 - auc: 0.8555 - loss: 0.0292 - val_accuracy: 0.7482 - val_auc: 0.8266 - val_loss: 0.0325
Epoch 27/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7680 - auc: 0.8544 - loss: 0.0293 - val_accuracy: 0.7562 - val_auc: 0.8352 - val_loss: 0.0316
Epoch 28/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7745 - auc: 0.8594 - loss: 0.0290 - val_accuracy: 0.7527 - val_auc: 0.8345 - val_loss: 0.0318
Epoch 29/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7798 - auc: 0.8626 - loss: 0.0285 - val_accuracy: 0.7639 - val_auc: 0.8384 - val_loss: 0.0316
Epoch 30/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7774 - auc: 0.8677 - loss: 0.0282 - val_accuracy: 0.7639 - val_auc: 0.8422 - val_loss: 0.0317
Epoch 31/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7805 - auc: 0.8697 - loss: 0.0279 - val_accuracy: 0.7604 - val_auc: 0.8373 - val_loss: 0.0329
Epoch 32/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7827 - auc: 0.8689 - loss: 0.0283 - val_accuracy: 0.7643 - val_auc: 0.8427 - val_loss: 0.0314
Epoch 33/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7892 - auc: 0.8770 - loss: 0.0272 - val_accuracy: 0.7580 - val_auc: 0.8461 - val_loss: 0.0317
Epoch 34/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7939 - auc: 0.8829 - loss: 0.0266 - val_accuracy: 0.7685 - val_auc: 0.8505 - val_loss: 0.0311
Epoch 35/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8002 - auc: 0.8833 - loss: 0.0268 - val_accuracy: 0.7695 - val_auc: 0.8517 - val_loss: 0.0314
Epoch 36/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7999 - auc: 0.8903 - loss: 0.0260 - val_accuracy: 0.7726 - val_auc: 0.8483 - val_loss: 0.0320
Epoch 37/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8064 - auc: 0.8909 - loss: 0.0258 - val_accuracy: 0.7671 - val_auc: 0.8527 - val_loss: 0.0318
Epoch 38/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8034 - auc: 0.8904 - loss: 0.0260 - val_accuracy: 0.7580 - val_auc: 0.8441 - val_loss: 0.0317
Epoch 39/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8075 - auc: 0.8934 - loss: 0.0256 - val_accuracy: 0.7754 - val_auc: 0.8529 - val_loss: 0.0316
Epoch 40/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8043 - auc: 0.8936 - loss: 0.0256 - val_accuracy: 0.7842 - val_auc: 0.8623 - val_loss: 0.0315
Epoch 41/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8116 - auc: 0.8999 - loss: 0.0251 - val_accuracy: 0.7782 - val_auc: 0.8563 - val_loss: 0.0319
Epoch 42/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8140 - auc: 0.9006 - loss: 0.0248 - val_accuracy: 0.7733 - val_auc: 0.8561 - val_loss: 0.0317
Epoch 43/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8159 - auc: 0.9023 - loss: 0.0248 - val_accuracy: 0.7821 - val_auc: 0.8571 - val_loss: 0.0322
Epoch 44/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8174 - auc: 0.9039 - loss: 0.0245 - val_accuracy: 0.7807 - val_auc: 0.8607 - val_loss: 0.0326
2025-11-12 05:19:59.399 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 44
2025-11-12 05:19:59.400 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0245, Accuracy: 0.8174, AUC: 0.9039
2025-11-12 05:19:59.401 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0326, Accuracy: 0.7807, AUC: 0.8607
2025-11-12 05:19:59.404 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:19:59.558 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:20:00.649 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15456 data points.
2025-11-12 05:20:00.734 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15436 sequences.
2025-11-12 05:20:02.460 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:20:02.474 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:20:02.476 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:20:02.477 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_800\PainX_800_M5'...
2025-11-12 05:20:02.593 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M5\random_forest.pkl
2025-11-12 05:20:02.602 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M5\gradient_boosting.pkl
2025-11-12 05:20:02.628 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_800\PainX_800_M5\lstm.keras and models\PainX_800\PainX_800_M5\lstm_scaler.pkl
2025-11-12 05:20:02.629 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_800\PainX_800_M5\feature_info.pkl
2025-11-12 05:20:02.631 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_800\PainX_800_M5\meta_model.pkl
2025-11-12 05:20:02.633 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_800\PainX_800_M5\training_metadata.json
2025-11-12 05:20:02.634 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 800 [5m] (22/50)
2025-11-12 05:20:02.634 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 800 [15m] ---
2025-11-12 05:20:02.787 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [15m] from MT5
2025-11-12 05:20:02.787 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 05:20:04.955 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 800\PainX 800_M15.csv (20000 records)
2025-11-12 05:20:04.956 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:20:06.105 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:20:09.661 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:20:09.661 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:20:19.310 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15243 signals total, 8819 profitable (57.9% win rate), 6424 unprofitable
2025-11-12 05:20:19.388 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15243, 110), Shape of y: (15243,)
2025-11-12 05:20:19.401 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15243 data points.
2025-11-12 05:20:19.574 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15193 sequences.
2025-11-12 05:20:19.643 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:20:19.644 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:20:19.648 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:20:19.648 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:20:19.677 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:20:25.323 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:20:25.324 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:23:10.296 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:23:10.298 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:23:10.298 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:23:10.337 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:23:10.338 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6405), np.float64(1.0): np.int64(8788)}
2025-11-12 05:23:10.343 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15193
2025-11-12 05:23:10.343 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:23:10.344 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6405), np.float64(1.0): np.int64(8788)}
2025-11-12 05:23:10.344 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15193
2025-11-12 05:23:10.345 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1860265417642466), 1: np.float64(0.8644173873463814)}
Epoch 1/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5564 - auc: 0.5404 - loss: 0.0449 - val_accuracy: 0.5413 - val_auc: 0.5292 - val_loss: 0.0433
Epoch 2/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5865 - auc: 0.5788 - loss: 0.0422 - val_accuracy: 0.5268 - val_auc: 0.5198 - val_loss: 0.0432
Epoch 3/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5982 - auc: 0.6040 - loss: 0.0416 - val_accuracy: 0.5489 - val_auc: 0.5324 - val_loss: 0.0431
Epoch 4/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6047 - auc: 0.6257 - loss: 0.0410 - val_accuracy: 0.5535 - val_auc: 0.5349 - val_loss: 0.0434
Epoch 5/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6223 - auc: 0.6566 - loss: 0.0401 - val_accuracy: 0.5321 - val_auc: 0.5120 - val_loss: 0.0438
Epoch 6/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6381 - auc: 0.6843 - loss: 0.0392 - val_accuracy: 0.5334 - val_auc: 0.5446 - val_loss: 0.0434
Epoch 7/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6672 - auc: 0.7204 - loss: 0.0379 - val_accuracy: 0.5456 - val_auc: 0.5303 - val_loss: 0.0471
Epoch 8/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6743 - auc: 0.7392 - loss: 0.0370 - val_accuracy: 0.5216 - val_auc: 0.5244 - val_loss: 0.0460
Epoch 9/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6914 - auc: 0.7619 - loss: 0.0358 - val_accuracy: 0.5413 - val_auc: 0.5457 - val_loss: 0.0468
Epoch 10/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7064 - auc: 0.7825 - loss: 0.0348 - val_accuracy: 0.5179 - val_auc: 0.5374 - val_loss: 0.0489
Epoch 11/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7201 - auc: 0.7992 - loss: 0.0337 - val_accuracy: 0.5314 - val_auc: 0.5454 - val_loss: 0.0478
Epoch 12/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7354 - auc: 0.8148 - loss: 0.0326 - val_accuracy: 0.5262 - val_auc: 0.5343 - val_loss: 0.0495
Epoch 13/50
380/380 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7488 - auc: 0.8315 - loss: 0.0315 - val_accuracy: 0.5334 - val_auc: 0.5433 - val_loss: 0.0530
2025-11-12 05:24:07.701 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 05:24:07.701 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0315, Accuracy: 0.7488, AUC: 0.8315
2025-11-12 05:24:07.702 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0530, Accuracy: 0.5334, AUC: 0.5433
2025-11-12 05:24:07.703 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:24:07.756 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:24:08.838 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15243 data points.
2025-11-12 05:24:08.921 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15223 sequences.
2025-11-12 05:24:10.603 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:24:10.621 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:24:10.622 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:24:10.622 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_800\PainX_800_M15'...
2025-11-12 05:24:10.710 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M15\random_forest.pkl
2025-11-12 05:24:10.719 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M15\gradient_boosting.pkl
2025-11-12 05:24:10.745 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_800\PainX_800_M15\lstm.keras and models\PainX_800\PainX_800_M15\lstm_scaler.pkl
2025-11-12 05:24:10.747 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_800\PainX_800_M15\feature_info.pkl
2025-11-12 05:24:10.748 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_800\PainX_800_M15\meta_model.pkl
2025-11-12 05:24:10.749 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_800\PainX_800_M15\training_metadata.json
2025-11-12 05:24:10.751 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 800 [15m] (23/50)
2025-11-12 05:24:10.752 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 800 [1h] ---
2025-11-12 05:24:10.822 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16344 candles for PainX 800 [1h] from MT5
2025-11-12 05:24:10.823 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16344 candles (minimum: 2000)
2025-11-12 05:24:12.992 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 800\PainX 800_H1.csv (16344 records)
2025-11-12 05:24:12.992 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:24:13.941 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:24:16.839 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:24:16.840 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:24:24.324 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12408 signals total, 6935 profitable (55.9% win rate), 5473 unprofitable
2025-11-12 05:24:24.390 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12408, 110), Shape of y: (12408,)
2025-11-12 05:24:24.400 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12408 data points.
2025-11-12 05:24:24.548 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12358 sequences.
2025-11-12 05:24:24.607 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:24:24.607 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:24:24.611 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:24:24.612 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:24:24.635 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:24:29.318 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:24:29.319 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:26:43.517 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:26:43.518 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:26:43.519 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:26:43.558 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:26:43.559 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5463), np.float64(1.0): np.int64(6895)}
2025-11-12 05:26:43.560 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12358
2025-11-12 05:26:43.563 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:26:43.563 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5463), np.float64(1.0): np.int64(6895)}
2025-11-12 05:26:43.564 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12358
2025-11-12 05:26:43.564 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1310635182134359), 1: np.float64(0.8961566352429297)}
Epoch 1/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5408 - auc: 0.5322 - loss: 0.0448 - val_accuracy: 0.5279 - val_auc: 0.5178 - val_loss: 0.0456
Epoch 2/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5662 - auc: 0.5813 - loss: 0.0425 - val_accuracy: 0.4757 - val_auc: 0.5119 - val_loss: 0.0538
Epoch 3/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5714 - auc: 0.5904 - loss: 0.0422 - val_accuracy: 0.4713 - val_auc: 0.5353 - val_loss: 0.0630
Epoch 4/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5829 - auc: 0.6200 - loss: 0.0415 - val_accuracy: 0.4895 - val_auc: 0.5225 - val_loss: 0.0576
Epoch 5/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6001 - auc: 0.6479 - loss: 0.0407 - val_accuracy: 0.5222 - val_auc: 0.5347 - val_loss: 0.0530
Epoch 6/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6301 - auc: 0.6841 - loss: 0.0396 - val_accuracy: 0.4968 - val_auc: 0.5291 - val_loss: 0.0641
Epoch 7/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6529 - auc: 0.7175 - loss: 0.0384 - val_accuracy: 0.5061 - val_auc: 0.5562 - val_loss: 0.0658
Epoch 8/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6772 - auc: 0.7500 - loss: 0.0368 - val_accuracy: 0.4972 - val_auc: 0.5278 - val_loss: 0.0743
Epoch 9/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6993 - auc: 0.7761 - loss: 0.0355 - val_accuracy: 0.4960 - val_auc: 0.5213 - val_loss: 0.0611
Epoch 10/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7187 - auc: 0.8010 - loss: 0.0342 - val_accuracy: 0.4854 - val_auc: 0.5264 - val_loss: 0.0793
Epoch 11/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7352 - auc: 0.8183 - loss: 0.0328 - val_accuracy: 0.4705 - val_auc: 0.4883 - val_loss: 0.0820
2025-11-12 05:27:24.020 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 05:27:24.020 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0328, Accuracy: 0.7352, AUC: 0.8183
2025-11-12 05:27:24.022 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0820, Accuracy: 0.4705, AUC: 0.4883
2025-11-12 05:27:24.024 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:27:24.082 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:27:24.958 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12408 data points.
2025-11-12 05:27:25.026 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12388 sequences.
2025-11-12 05:27:26.464 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:27:26.482 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:27:26.483 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:27:26.483 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_800\PainX_800_H1'...
2025-11-12 05:27:26.551 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_H1\random_forest.pkl
2025-11-12 05:27:26.560 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_H1\gradient_boosting.pkl
2025-11-12 05:27:26.587 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_800\PainX_800_H1\lstm.keras and models\PainX_800\PainX_800_H1\lstm_scaler.pkl
2025-11-12 05:27:26.588 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_800\PainX_800_H1\feature_info.pkl
2025-11-12 05:27:26.590 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_800\PainX_800_H1\meta_model.pkl
2025-11-12 05:27:26.591 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_800\PainX_800_H1\training_metadata.json
2025-11-12 05:27:26.593 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 800 [1h] (24/50)
2025-11-12 05:27:26.593 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 800 [4h] ---
2025-11-12 05:27:26.716 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4089 candles for PainX 800 [4h] from MT5
2025-11-12 05:27:26.717 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4089 candles (minimum: 2000)
2025-11-12 05:27:28.804 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 800\PainX 800_H4.csv (4089 records)
2025-11-12 05:27:28.805 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:27:29.078 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:27:29.812 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:27:29.812 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:27:31.700 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 3113 signals total, 1695 profitable (54.4% win rate), 1418 unprofitable
2025-11-12 05:27:31.721 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (3113, 110), Shape of y: (3113,)
2025-11-12 05:27:31.726 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 3113 data points.
2025-11-12 05:27:31.765 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3063 sequences.
2025-11-12 05:27:31.821 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:27:31.822 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:27:31.825 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:27:31.826 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:27:31.834 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:27:33.177 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:27:33.178 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:28:04.425 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:28:04.426 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:28:04.430 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:28:04.469 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:28:04.469 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1383), np.float64(1.0): np.int64(1680)}
2025-11-12 05:28:04.471 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 3063
2025-11-12 05:28:04.473 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:28:04.474 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1383), np.float64(1.0): np.int64(1680)}
2025-11-12 05:28:04.474 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 3063
2025-11-12 05:28:04.475 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1073752711496747), 1: np.float64(0.9116071428571428)}
Epoch 1/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 3s 15ms/step - accuracy: 0.5437 - auc: 0.5346 - loss: 0.0466 - val_accuracy: 0.4780 - val_auc: 0.4665 - val_loss: 0.0467
Epoch 2/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.5780 - auc: 0.6029 - loss: 0.0425 - val_accuracy: 0.5041 - val_auc: 0.4778 - val_loss: 0.0463
Epoch 3/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.5984 - auc: 0.6490 - loss: 0.0408 - val_accuracy: 0.4959 - val_auc: 0.4540 - val_loss: 0.0466
Epoch 4/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6445 - auc: 0.7049 - loss: 0.0392 - val_accuracy: 0.4715 - val_auc: 0.4720 - val_loss: 0.0470
Epoch 5/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6571 - auc: 0.7308 - loss: 0.0380 - val_accuracy: 0.4763 - val_auc: 0.4343 - val_loss: 0.0485
Epoch 6/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.6939 - auc: 0.7659 - loss: 0.0364 - val_accuracy: 0.4519 - val_auc: 0.4382 - val_loss: 0.0481
Epoch 7/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7155 - auc: 0.7932 - loss: 0.0345 - val_accuracy: 0.4649 - val_auc: 0.4400 - val_loss: 0.0512
Epoch 8/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7388 - auc: 0.8208 - loss: 0.0329 - val_accuracy: 0.4551 - val_auc: 0.4380 - val_loss: 0.0519
Epoch 9/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7588 - auc: 0.8483 - loss: 0.0307 - val_accuracy: 0.4551 - val_auc: 0.4503 - val_loss: 0.0530
Epoch 10/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7837 - auc: 0.8666 - loss: 0.0294 - val_accuracy: 0.4519 - val_auc: 0.4483 - val_loss: 0.0560
Epoch 11/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7951 - auc: 0.8741 - loss: 0.0287 - val_accuracy: 0.4698 - val_auc: 0.4683 - val_loss: 0.0547
Epoch 12/50
77/77 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.8029 - auc: 0.8916 - loss: 0.0265 - val_accuracy: 0.4568 - val_auc: 0.4633 - val_loss: 0.0612
2025-11-12 05:28:17.767 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 05:28:17.767 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0265, Accuracy: 0.8029, AUC: 0.8916
2025-11-12 05:28:17.768 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0612, Accuracy: 0.4568, AUC: 0.4633
2025-11-12 05:28:17.769 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:28:17.779 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:28:17.998 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 3113 data points.
2025-11-12 05:28:18.016 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3093 sequences.
2025-11-12 05:28:18.619 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:28:18.626 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:28:18.627 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:28:18.627 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_800\PainX_800_H4'...
2025-11-12 05:28:18.676 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_H4\random_forest.pkl
2025-11-12 05:28:18.684 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_H4\gradient_boosting.pkl
2025-11-12 05:28:18.730 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_800\PainX_800_H4\lstm.keras and models\PainX_800\PainX_800_H4\lstm_scaler.pkl
2025-11-12 05:28:18.731 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_800\PainX_800_H4\feature_info.pkl
2025-11-12 05:28:18.733 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_800\PainX_800_H4\meta_model.pkl
2025-11-12 05:28:18.735 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_800\PainX_800_H4\training_metadata.json
2025-11-12 05:28:18.736 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 800 [4h] (25/50)
2025-11-12 05:28:18.736 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 800 [1m] ---
2025-11-12 05:28:18.737 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 05:28:18.737 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 05:28:21.747 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 05:28:21.749 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 05:28:21.751 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 05:28:21.929 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [1m] from MT5
2025-11-12 05:28:21.931 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:28:24.149 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 800\GainX 800_M1.csv (20000 records)
2025-11-12 05:28:24.149 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:28:25.304 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:28:28.866 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:28:28.866 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:28:38.354 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16047 signals total, 11927 profitable (74.3% win rate), 4120 unprofitable
2025-11-12 05:28:38.436 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16047, 110), Shape of y: (16047,)
2025-11-12 05:28:38.446 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16047 data points.
2025-11-12 05:28:38.623 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15997 sequences.
2025-11-12 05:28:38.638 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:28:38.638 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:28:38.640 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:28:38.640 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:28:38.669 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:28:43.662 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:28:43.664 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:31:05.489 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:31:05.491 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:31:05.491 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:31:05.531 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:31:05.531 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4107), np.float64(1.0): np.int64(11890)}
2025-11-12 05:31:05.533 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15997
2025-11-12 05:31:05.670 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 11890 to 6160
2025-11-12 05:31:05.671 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4107), np.float64(1.0): np.int64(6160)}
2025-11-12 05:31:05.672 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 10267
2025-11-12 05:31:05.675 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499391283175068), 1: np.float64(0.8333603896103896)}
Epoch 1/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5296 - auc: 0.5122 - loss: 0.0487 - val_accuracy: 0.6037 - val_auc: 0.5012 - val_loss: 0.0423
Epoch 2/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5658 - auc: 0.4952 - loss: 0.0434 - val_accuracy: 0.6037 - val_auc: 0.5012 - val_loss: 0.0422
Epoch 3/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5882 - auc: 0.5019 - loss: 0.0426 - val_accuracy: 0.6037 - val_auc: 0.5012 - val_loss: 0.0421
Epoch 4/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5950 - auc: 0.4950 - loss: 0.0425 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 5/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5982 - auc: 0.4926 - loss: 0.0424 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 6/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5976 - auc: 0.5069 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 7/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5971 - auc: 0.4983 - loss: 0.0424 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 8/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5992 - auc: 0.4965 - loss: 0.0424 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 9/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.5043 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 10/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5988 - auc: 0.4944 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 11/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.4889 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 12/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.4908 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 13/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.4997 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 14/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.4939 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 15/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.4945 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 16/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.4962 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 17/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.4998 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 18/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.4985 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 19/50
257/257 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.5012 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5000 - val_loss: 0.0421
2025-11-12 05:32:01.855 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 19
2025-11-12 05:32:01.856 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.5989, AUC: 0.5012
2025-11-12 05:32:01.857 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0421, Accuracy: 0.6037, AUC: 0.5000
2025-11-12 05:32:01.860 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:32:01.928 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:32:03.054 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16047 data points.
2025-11-12 05:32:03.141 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16027 sequences.
2025-11-12 05:32:04.925 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:32:04.942 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:32:04.944 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:32:04.944 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_800\GainX_800_M1'...
2025-11-12 05:32:05.049 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M1\random_forest.pkl
2025-11-12 05:32:05.059 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M1\gradient_boosting.pkl
2025-11-12 05:32:05.085 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_800\GainX_800_M1\lstm.keras and models\GainX_800\GainX_800_M1\lstm_scaler.pkl
2025-11-12 05:32:05.086 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_800\GainX_800_M1\feature_info.pkl
2025-11-12 05:32:05.088 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_800\GainX_800_M1\meta_model.pkl
2025-11-12 05:32:05.089 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_800\GainX_800_M1\training_metadata.json
2025-11-12 05:32:05.091 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 800 [1m] (26/50)
2025-11-12 05:32:05.091 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 800 [5m] ---
2025-11-12 05:32:05.318 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [5m] from MT5
2025-11-12 05:32:05.319 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:32:07.607 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 800\GainX 800_M5.csv (20000 records)
2025-11-12 05:32:07.607 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:32:08.757 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:32:12.335 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:32:12.336 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:32:21.608 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15517 signals total, 9714 profitable (62.6% win rate), 5803 unprofitable
2025-11-12 05:32:21.686 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15517, 110), Shape of y: (15517,)
2025-11-12 05:32:21.699 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15517 data points.
2025-11-12 05:32:21.880 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15467 sequences.
2025-11-12 05:32:21.943 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:32:21.943 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:32:21.947 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:32:21.948 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:32:21.978 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:32:27.475 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:32:27.477 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:35:05.007 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:35:05.009 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:35:05.009 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:35:05.049 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:35:05.050 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5792), np.float64(1.0): np.int64(9675)}
2025-11-12 05:35:05.052 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15467
2025-11-12 05:35:05.243 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9675 to 8688
2025-11-12 05:35:05.244 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5792), np.float64(1.0): np.int64(8688)}
2025-11-12 05:35:05.248 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 14480
2025-11-12 05:35:05.248 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.5572 - auc: 0.5282 - loss: 0.0439 - val_accuracy: 0.5998 - val_auc: 0.5856 - val_loss: 0.0417
Epoch 2/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5948 - auc: 0.5496 - loss: 0.0421 - val_accuracy: 0.5991 - val_auc: 0.5973 - val_loss: 0.0416
Epoch 3/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6013 - auc: 0.5770 - loss: 0.0418 - val_accuracy: 0.6026 - val_auc: 0.6051 - val_loss: 0.0413
Epoch 4/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6049 - auc: 0.5944 - loss: 0.0414 - val_accuracy: 0.6064 - val_auc: 0.6127 - val_loss: 0.0410
Epoch 5/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.6112 - auc: 0.6080 - loss: 0.0410 - val_accuracy: 0.6184 - val_auc: 0.6322 - val_loss: 0.0406
Epoch 6/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6193 - auc: 0.6216 - loss: 0.0407 - val_accuracy: 0.6209 - val_auc: 0.6457 - val_loss: 0.0403
Epoch 7/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6259 - auc: 0.6429 - loss: 0.0400 - val_accuracy: 0.6288 - val_auc: 0.6412 - val_loss: 0.0402
Epoch 8/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6356 - auc: 0.6573 - loss: 0.0396 - val_accuracy: 0.6350 - val_auc: 0.6577 - val_loss: 0.0396
Epoch 9/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6411 - auc: 0.6786 - loss: 0.0390 - val_accuracy: 0.6433 - val_auc: 0.6729 - val_loss: 0.0391
Epoch 10/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6566 - auc: 0.6982 - loss: 0.0384 - val_accuracy: 0.6495 - val_auc: 0.7051 - val_loss: 0.0384
Epoch 11/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6691 - auc: 0.7154 - loss: 0.0377 - val_accuracy: 0.6644 - val_auc: 0.7122 - val_loss: 0.0382
Epoch 12/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6796 - auc: 0.7329 - loss: 0.0371 - val_accuracy: 0.6550 - val_auc: 0.7149 - val_loss: 0.0378
Epoch 13/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6925 - auc: 0.7500 - loss: 0.0362 - val_accuracy: 0.6747 - val_auc: 0.7323 - val_loss: 0.0373
Epoch 14/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7035 - auc: 0.7635 - loss: 0.0356 - val_accuracy: 0.6761 - val_auc: 0.7429 - val_loss: 0.0370
Epoch 15/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.7001 - auc: 0.7708 - loss: 0.0350 - val_accuracy: 0.6920 - val_auc: 0.7450 - val_loss: 0.0368
Epoch 16/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7145 - auc: 0.7798 - loss: 0.0346 - val_accuracy: 0.6903 - val_auc: 0.7525 - val_loss: 0.0364
Epoch 17/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7219 - auc: 0.7921 - loss: 0.0340 - val_accuracy: 0.7010 - val_auc: 0.7684 - val_loss: 0.0358
Epoch 18/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7251 - auc: 0.8007 - loss: 0.0335 - val_accuracy: 0.7110 - val_auc: 0.7743 - val_loss: 0.0356
Epoch 19/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7367 - auc: 0.8093 - loss: 0.0331 - val_accuracy: 0.7120 - val_auc: 0.7879 - val_loss: 0.0352
Epoch 20/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7412 - auc: 0.8140 - loss: 0.0327 - val_accuracy: 0.7248 - val_auc: 0.7921 - val_loss: 0.0344
Epoch 21/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7504 - auc: 0.8242 - loss: 0.0320 - val_accuracy: 0.7282 - val_auc: 0.7912 - val_loss: 0.0349
Epoch 22/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7497 - auc: 0.8268 - loss: 0.0318 - val_accuracy: 0.7272 - val_auc: 0.7973 - val_loss: 0.0345
Epoch 23/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7585 - auc: 0.8325 - loss: 0.0315 - val_accuracy: 0.7303 - val_auc: 0.7998 - val_loss: 0.0342
Epoch 24/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7604 - auc: 0.8380 - loss: 0.0309 - val_accuracy: 0.7414 - val_auc: 0.8072 - val_loss: 0.0339
Epoch 25/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7684 - auc: 0.8464 - loss: 0.0302 - val_accuracy: 0.7396 - val_auc: 0.8082 - val_loss: 0.0341
Epoch 26/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7696 - auc: 0.8481 - loss: 0.0303 - val_accuracy: 0.7455 - val_auc: 0.8144 - val_loss: 0.0332
Epoch 27/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7756 - auc: 0.8540 - loss: 0.0296 - val_accuracy: 0.7503 - val_auc: 0.8179 - val_loss: 0.0339
Epoch 28/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7788 - auc: 0.8584 - loss: 0.0293 - val_accuracy: 0.7486 - val_auc: 0.8204 - val_loss: 0.0329
Epoch 29/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7836 - auc: 0.8662 - loss: 0.0285 - val_accuracy: 0.7514 - val_auc: 0.8238 - val_loss: 0.0334
Epoch 30/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7872 - auc: 0.8694 - loss: 0.0284 - val_accuracy: 0.7590 - val_auc: 0.8280 - val_loss: 0.0328
Epoch 31/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7907 - auc: 0.8678 - loss: 0.0286 - val_accuracy: 0.7604 - val_auc: 0.8318 - val_loss: 0.0319
Epoch 32/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7901 - auc: 0.8712 - loss: 0.0280 - val_accuracy: 0.7424 - val_auc: 0.8078 - val_loss: 0.0343
Epoch 33/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7915 - auc: 0.8704 - loss: 0.0283 - val_accuracy: 0.7579 - val_auc: 0.8289 - val_loss: 0.0324
Epoch 34/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7952 - auc: 0.8791 - loss: 0.0274 - val_accuracy: 0.7662 - val_auc: 0.8390 - val_loss: 0.0320
Epoch 35/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7987 - auc: 0.8821 - loss: 0.0272 - val_accuracy: 0.7552 - val_auc: 0.8345 - val_loss: 0.0322
Epoch 36/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8008 - auc: 0.8835 - loss: 0.0269 - val_accuracy: 0.7583 - val_auc: 0.8356 - val_loss: 0.0326
Epoch 37/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8059 - auc: 0.8882 - loss: 0.0264 - val_accuracy: 0.7669 - val_auc: 0.8407 - val_loss: 0.0320
Epoch 38/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8033 - auc: 0.8872 - loss: 0.0265 - val_accuracy: 0.7659 - val_auc: 0.8409 - val_loss: 0.0326
Epoch 39/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8078 - auc: 0.8908 - loss: 0.0262 - val_accuracy: 0.7738 - val_auc: 0.8482 - val_loss: 0.0314
Epoch 40/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8147 - auc: 0.8966 - loss: 0.0256 - val_accuracy: 0.7690 - val_auc: 0.8447 - val_loss: 0.0320
Epoch 41/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8125 - auc: 0.8950 - loss: 0.0258 - val_accuracy: 0.7728 - val_auc: 0.8483 - val_loss: 0.0316
Epoch 42/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8128 - auc: 0.8978 - loss: 0.0255 - val_accuracy: 0.7735 - val_auc: 0.8467 - val_loss: 0.0322
Epoch 43/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8232 - auc: 0.9043 - loss: 0.0249 - val_accuracy: 0.7780 - val_auc: 0.8511 - val_loss: 0.0314
Epoch 44/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8203 - auc: 0.9022 - loss: 0.0250 - val_accuracy: 0.7787 - val_auc: 0.8506 - val_loss: 0.0318
Epoch 45/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8292 - auc: 0.9088 - loss: 0.0243 - val_accuracy: 0.7776 - val_auc: 0.8511 - val_loss: 0.0324
Epoch 46/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8244 - auc: 0.9027 - loss: 0.0251 - val_accuracy: 0.7721 - val_auc: 0.8544 - val_loss: 0.0310
Epoch 47/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8240 - auc: 0.9073 - loss: 0.0243 - val_accuracy: 0.7773 - val_auc: 0.8462 - val_loss: 0.0327
Epoch 48/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8270 - auc: 0.9070 - loss: 0.0244 - val_accuracy: 0.7842 - val_auc: 0.8567 - val_loss: 0.0318
Epoch 49/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8339 - auc: 0.9131 - loss: 0.0237 - val_accuracy: 0.7804 - val_auc: 0.8548 - val_loss: 0.0338
Epoch 50/50
362/362 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8292 - auc: 0.9114 - loss: 0.0239 - val_accuracy: 0.7887 - val_auc: 0.8596 - val_loss: 0.0322
2025-11-12 05:37:53.921 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 05:37:53.921 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0239, Accuracy: 0.8292, AUC: 0.9114
2025-11-12 05:37:53.923 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0322, Accuracy: 0.7887, AUC: 0.8596
2025-11-12 05:37:53.926 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:37:54.034 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:37:55.123 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15517 data points.
2025-11-12 05:37:55.203 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15497 sequences.
2025-11-12 05:37:56.967 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:37:56.984 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:37:56.985 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:37:56.985 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_800\GainX_800_M5'...
2025-11-12 05:37:57.097 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M5\random_forest.pkl
2025-11-12 05:37:57.106 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M5\gradient_boosting.pkl
2025-11-12 05:37:57.159 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_800\GainX_800_M5\lstm.keras and models\GainX_800\GainX_800_M5\lstm_scaler.pkl
2025-11-12 05:37:57.160 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_800\GainX_800_M5\feature_info.pkl
2025-11-12 05:37:57.170 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_800\GainX_800_M5\meta_model.pkl
2025-11-12 05:37:57.171 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_800\GainX_800_M5\training_metadata.json
2025-11-12 05:37:57.171 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 800 [5m] (27/50)
2025-11-12 05:37:57.172 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 800 [15m] ---
2025-11-12 05:37:57.301 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [15m] from MT5
2025-11-12 05:37:57.302 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 05:37:59.514 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 800\GainX 800_M15.csv (20000 records)
2025-11-12 05:37:59.514 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:38:00.658 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:38:04.270 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:38:04.271 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:38:13.629 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15194 signals total, 8658 profitable (57.0% win rate), 6536 unprofitable
2025-11-12 05:38:13.709 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15194, 110), Shape of y: (15194,)
2025-11-12 05:38:13.723 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15194 data points.
2025-11-12 05:38:13.897 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15144 sequences.
2025-11-12 05:38:13.990 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:38:13.990 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:38:13.994 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:38:13.995 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:38:14.021 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:38:19.776 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:38:19.778 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:41:04.941 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:41:04.943 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:41:04.943 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:41:04.984 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:41:04.985 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6510), np.float64(1.0): np.int64(8634)}
2025-11-12 05:41:04.986 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15144
2025-11-12 05:41:04.990 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:41:04.991 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6510), np.float64(1.0): np.int64(8634)}
2025-11-12 05:41:04.992 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15144
2025-11-12 05:41:04.992 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1631336405529953), 1: np.float64(0.876997915218902)}
Epoch 1/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 7s 12ms/step - accuracy: 0.5515 - auc: 0.5343 - loss: 0.0437 - val_accuracy: 0.5721 - val_auc: 0.5345 - val_loss: 0.0429
Epoch 2/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5686 - auc: 0.5538 - loss: 0.0425 - val_accuracy: 0.5774 - val_auc: 0.5415 - val_loss: 0.0427
Epoch 3/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5771 - auc: 0.5812 - loss: 0.0421 - val_accuracy: 0.5834 - val_auc: 0.5560 - val_loss: 0.0425
Epoch 4/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5845 - auc: 0.5943 - loss: 0.0417 - val_accuracy: 0.5781 - val_auc: 0.5384 - val_loss: 0.0426
Epoch 5/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5953 - auc: 0.6247 - loss: 0.0410 - val_accuracy: 0.5649 - val_auc: 0.5317 - val_loss: 0.0430
Epoch 6/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6101 - auc: 0.6485 - loss: 0.0405 - val_accuracy: 0.5573 - val_auc: 0.5039 - val_loss: 0.0438
Epoch 7/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6253 - auc: 0.6769 - loss: 0.0396 - val_accuracy: 0.5744 - val_auc: 0.5096 - val_loss: 0.0435
Epoch 8/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6440 - auc: 0.6983 - loss: 0.0388 - val_accuracy: 0.5259 - val_auc: 0.5047 - val_loss: 0.0453
Epoch 9/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6636 - auc: 0.7321 - loss: 0.0375 - val_accuracy: 0.5302 - val_auc: 0.4930 - val_loss: 0.0476
Epoch 10/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6852 - auc: 0.7550 - loss: 0.0365 - val_accuracy: 0.5385 - val_auc: 0.4919 - val_loss: 0.0487
Epoch 11/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6980 - auc: 0.7762 - loss: 0.0354 - val_accuracy: 0.5180 - val_auc: 0.5006 - val_loss: 0.0507
Epoch 12/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7086 - auc: 0.7905 - loss: 0.0345 - val_accuracy: 0.5045 - val_auc: 0.4922 - val_loss: 0.0497
Epoch 13/50
379/379 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7250 - auc: 0.8055 - loss: 0.0337 - val_accuracy: 0.4955 - val_auc: 0.4927 - val_loss: 0.0506
2025-11-12 05:42:02.928 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 05:42:02.928 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0337, Accuracy: 0.7250, AUC: 0.8055
2025-11-12 05:42:02.930 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0506, Accuracy: 0.4955, AUC: 0.4927
2025-11-12 05:42:02.930 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:42:02.983 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:42:04.072 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15194 data points.
2025-11-12 05:42:04.157 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15174 sequences.
2025-11-12 05:42:05.866 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:42:05.890 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:42:05.892 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:42:05.893 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_800\GainX_800_M15'...
2025-11-12 05:42:06.002 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M15\random_forest.pkl
2025-11-12 05:42:06.034 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M15\gradient_boosting.pkl
2025-11-12 05:42:06.059 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_800\GainX_800_M15\lstm.keras and models\GainX_800\GainX_800_M15\lstm_scaler.pkl
2025-11-12 05:42:06.060 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_800\GainX_800_M15\feature_info.pkl
2025-11-12 05:42:06.061 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_800\GainX_800_M15\meta_model.pkl
2025-11-12 05:42:06.062 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_800\GainX_800_M15\training_metadata.json
2025-11-12 05:42:06.062 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 800 [15m] (28/50)
2025-11-12 05:42:06.063 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 800 [1h] ---
2025-11-12 05:42:06.201 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16344 candles for GainX 800 [1h] from MT5
2025-11-12 05:42:06.202 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16344 candles (minimum: 2000)
2025-11-12 05:42:08.378 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 800\GainX 800_H1.csv (16344 records)
2025-11-12 05:42:08.378 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:42:09.365 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:42:12.321 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:42:12.322 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:42:19.866 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12448 signals total, 6881 profitable (55.3% win rate), 5567 unprofitable
2025-11-12 05:42:19.934 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12448, 110), Shape of y: (12448,)
2025-11-12 05:42:19.945 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12448 data points.
2025-11-12 05:42:20.090 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12398 sequences.
2025-11-12 05:42:20.143 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:42:20.143 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:42:20.147 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:42:20.148 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:42:20.169 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:42:25.012 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:42:25.014 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:44:43.137 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:44:43.139 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:44:43.140 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:44:43.180 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:44:43.181 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5530), np.float64(1.0): np.int64(6868)}
2025-11-12 05:44:43.182 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12398
2025-11-12 05:44:43.183 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:44:43.186 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5530), np.float64(1.0): np.int64(6868)}
2025-11-12 05:44:43.186 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12398
2025-11-12 05:44:43.187 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1209764918625678), 1: np.float64(0.9025917297612114)}
Epoch 1/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5293 - auc: 0.5237 - loss: 0.0445 - val_accuracy: 0.4927 - val_auc: 0.4853 - val_loss: 0.0455
Epoch 2/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5723 - auc: 0.5691 - loss: 0.0425 - val_accuracy: 0.4915 - val_auc: 0.4928 - val_loss: 0.0454
Epoch 3/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5948 - auc: 0.6030 - loss: 0.0418 - val_accuracy: 0.4883 - val_auc: 0.4905 - val_loss: 0.0483
Epoch 4/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6120 - auc: 0.6413 - loss: 0.0408 - val_accuracy: 0.4786 - val_auc: 0.4766 - val_loss: 0.0511
Epoch 5/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6238 - auc: 0.6639 - loss: 0.0402 - val_accuracy: 0.4984 - val_auc: 0.5042 - val_loss: 0.0486
Epoch 6/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6534 - auc: 0.7002 - loss: 0.0389 - val_accuracy: 0.5060 - val_auc: 0.5076 - val_loss: 0.0503
Epoch 7/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6735 - auc: 0.7335 - loss: 0.0377 - val_accuracy: 0.5048 - val_auc: 0.4921 - val_loss: 0.0529
Epoch 8/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6915 - auc: 0.7574 - loss: 0.0364 - val_accuracy: 0.4871 - val_auc: 0.4804 - val_loss: 0.0538
Epoch 9/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7190 - auc: 0.7878 - loss: 0.0350 - val_accuracy: 0.4746 - val_auc: 0.4552 - val_loss: 0.0646
Epoch 10/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7271 - auc: 0.8049 - loss: 0.0337 - val_accuracy: 0.5109 - val_auc: 0.4962 - val_loss: 0.0558
Epoch 11/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7392 - auc: 0.8211 - loss: 0.0325 - val_accuracy: 0.4988 - val_auc: 0.4928 - val_loss: 0.0589
Epoch 12/50
310/310 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7577 - auc: 0.8382 - loss: 0.0315 - val_accuracy: 0.4802 - val_auc: 0.4797 - val_loss: 0.0567
2025-11-12 05:45:27.106 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 05:45:27.107 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0315, Accuracy: 0.7577, AUC: 0.8382
2025-11-12 05:45:27.108 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0567, Accuracy: 0.4802, AUC: 0.4797
2025-11-12 05:45:27.111 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:45:27.153 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:45:28.055 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12448 data points.
2025-11-12 05:45:28.123 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12428 sequences.
2025-11-12 05:45:29.611 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:45:29.630 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:45:29.631 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:45:29.632 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_800\GainX_800_H1'...
2025-11-12 05:45:29.691 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_H1\random_forest.pkl
2025-11-12 05:45:29.700 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_H1\gradient_boosting.pkl
2025-11-12 05:45:29.750 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_800\GainX_800_H1\lstm.keras and models\GainX_800\GainX_800_H1\lstm_scaler.pkl
2025-11-12 05:45:29.772 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_800\GainX_800_H1\feature_info.pkl
2025-11-12 05:45:29.773 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_800\GainX_800_H1\meta_model.pkl
2025-11-12 05:45:29.774 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_800\GainX_800_H1\training_metadata.json
2025-11-12 05:45:29.775 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 800 [1h] (29/50)
2025-11-12 05:45:29.775 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 800 [4h] ---
2025-11-12 05:45:29.845 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4089 candles for GainX 800 [4h] from MT5
2025-11-12 05:45:29.846 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4089 candles (minimum: 2000)
2025-11-12 05:45:31.959 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 800\GainX 800_H4.csv (4089 records)
2025-11-12 05:45:31.959 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:45:32.240 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:45:32.991 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:45:32.992 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:45:34.850 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 3021 signals total, 1726 profitable (57.1% win rate), 1295 unprofitable
2025-11-12 05:45:34.870 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (3021, 110), Shape of y: (3021,)
2025-11-12 05:45:34.874 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 3021 data points.
2025-11-12 05:45:34.910 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2971 sequences.
2025-11-12 05:45:34.953 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:45:34.953 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:45:34.957 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:45:34.958 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:45:34.963 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:45:36.277 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:45:36.278 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:46:06.852 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:46:06.853 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:46:06.854 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:46:06.894 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:46:06.895 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1268), np.float64(1.0): np.int64(1703)}
2025-11-12 05:46:06.896 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2971
2025-11-12 05:46:06.899 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 05:46:06.899 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1268), np.float64(1.0): np.int64(1703)}
2025-11-12 05:46:06.900 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2971
2025-11-12 05:46:06.900 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1715299684542586), 1: np.float64(0.8722842043452731)}
Epoch 1/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 3s 16ms/step - accuracy: 0.5572 - auc: 0.5480 - loss: 0.0449 - val_accuracy: 0.5345 - val_auc: 0.5192 - val_loss: 0.0443
Epoch 2/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6157 - auc: 0.6360 - loss: 0.0411 - val_accuracy: 0.5328 - val_auc: 0.5372 - val_loss: 0.0441
Epoch 3/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6267 - auc: 0.6597 - loss: 0.0404 - val_accuracy: 0.5008 - val_auc: 0.4994 - val_loss: 0.0465
Epoch 4/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6612 - auc: 0.7117 - loss: 0.0388 - val_accuracy: 0.5244 - val_auc: 0.5233 - val_loss: 0.0469
Epoch 5/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6928 - auc: 0.7537 - loss: 0.0368 - val_accuracy: 0.5210 - val_auc: 0.5198 - val_loss: 0.0476
Epoch 6/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7142 - auc: 0.7895 - loss: 0.0348 - val_accuracy: 0.5109 - val_auc: 0.5077 - val_loss: 0.0550
Epoch 7/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7391 - auc: 0.8175 - loss: 0.0333 - val_accuracy: 0.5193 - val_auc: 0.5191 - val_loss: 0.0550
Epoch 8/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7437 - auc: 0.8233 - loss: 0.0324 - val_accuracy: 0.4773 - val_auc: 0.4995 - val_loss: 0.0616
Epoch 9/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7786 - auc: 0.8605 - loss: 0.0296 - val_accuracy: 0.5042 - val_auc: 0.4638 - val_loss: 0.0669
Epoch 10/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 11ms/step - accuracy: 0.7917 - auc: 0.8713 - loss: 0.0288 - val_accuracy: 0.5143 - val_auc: 0.5118 - val_loss: 0.0626
Epoch 11/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.8009 - auc: 0.8774 - loss: 0.0280 - val_accuracy: 0.5277 - val_auc: 0.5081 - val_loss: 0.0635
Epoch 12/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.8127 - auc: 0.8948 - loss: 0.0265 - val_accuracy: 0.5126 - val_auc: 0.4955 - val_loss: 0.0669
2025-11-12 05:46:20.159 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 05:46:20.160 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0265, Accuracy: 0.8127, AUC: 0.8948
2025-11-12 05:46:20.160 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0669, Accuracy: 0.5126, AUC: 0.4955
2025-11-12 05:46:20.162 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:46:20.175 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:46:20.393 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 3021 data points.
2025-11-12 05:46:20.410 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3001 sequences.
2025-11-12 05:46:21.041 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:46:21.049 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:46:21.050 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:46:21.050 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_800\GainX_800_H4'...
2025-11-12 05:46:21.155 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_H4\random_forest.pkl
2025-11-12 05:46:21.187 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_H4\gradient_boosting.pkl
2025-11-12 05:46:21.224 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_800\GainX_800_H4\lstm.keras and models\GainX_800\GainX_800_H4\lstm_scaler.pkl
2025-11-12 05:46:21.225 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_800\GainX_800_H4\feature_info.pkl
2025-11-12 05:46:21.226 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_800\GainX_800_H4\meta_model.pkl
2025-11-12 05:46:21.238 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_800\GainX_800_H4\training_metadata.json
2025-11-12 05:46:21.238 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 800 [4h] (30/50)
2025-11-12 05:46:21.239 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 999 [1m] ---
2025-11-12 05:46:21.239 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 05:46:21.240 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 05:46:24.260 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 05:46:24.262 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 05:46:24.263 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 05:46:24.379 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [1m] from MT5
2025-11-12 05:46:24.380 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:46:26.618 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 999\PainX 999_M1.csv (20000 records)
2025-11-12 05:46:26.619 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:46:27.793 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:46:31.312 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:46:31.312 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:46:41.053 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16452 signals total, 12751 profitable (77.5% win rate), 3701 unprofitable
2025-11-12 05:46:41.138 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16452, 110), Shape of y: (16452,)
2025-11-12 05:46:41.149 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16452 data points.
2025-11-12 05:46:41.342 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16402 sequences.
2025-11-12 05:46:41.355 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:46:41.356 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:46:41.357 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:46:41.358 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:46:41.386 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:46:46.503 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:46:46.504 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:49:12.729 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:49:12.731 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:49:12.734 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:49:12.774 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:49:12.775 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3690), np.float64(1.0): np.int64(12712)}
2025-11-12 05:49:12.776 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16402
2025-11-12 05:49:12.901 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 12712 to 5535
2025-11-12 05:49:12.902 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3690), np.float64(1.0): np.int64(5535)}
2025-11-12 05:49:12.903 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9225
2025-11-12 05:49:12.906 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.6179 - auc: 0.6326 - loss: 0.0422 - val_accuracy: 0.6715 - val_auc: 0.7170 - val_loss: 0.0391
Epoch 2/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6558 - auc: 0.6752 - loss: 0.0400 - val_accuracy: 0.6645 - val_auc: 0.7183 - val_loss: 0.0388
Epoch 3/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6580 - auc: 0.6868 - loss: 0.0395 - val_accuracy: 0.6916 - val_auc: 0.7278 - val_loss: 0.0380
Epoch 4/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6728 - auc: 0.7017 - loss: 0.0389 - val_accuracy: 0.6780 - val_auc: 0.7215 - val_loss: 0.0382
Epoch 5/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6694 - auc: 0.7062 - loss: 0.0386 - val_accuracy: 0.6921 - val_auc: 0.7295 - val_loss: 0.0379
Epoch 6/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6730 - auc: 0.7138 - loss: 0.0384 - val_accuracy: 0.6938 - val_auc: 0.7380 - val_loss: 0.0375
Epoch 7/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6786 - auc: 0.7162 - loss: 0.0384 - val_accuracy: 0.6846 - val_auc: 0.7359 - val_loss: 0.0375
Epoch 8/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6785 - auc: 0.7228 - loss: 0.0380 - val_accuracy: 0.6813 - val_auc: 0.7348 - val_loss: 0.0372
Epoch 9/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6846 - auc: 0.7267 - loss: 0.0377 - val_accuracy: 0.6829 - val_auc: 0.7443 - val_loss: 0.0369
Epoch 10/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6870 - auc: 0.7363 - loss: 0.0372 - val_accuracy: 0.6927 - val_auc: 0.7508 - val_loss: 0.0366
Epoch 11/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6919 - auc: 0.7436 - loss: 0.0368 - val_accuracy: 0.6976 - val_auc: 0.7549 - val_loss: 0.0361
Epoch 12/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6981 - auc: 0.7519 - loss: 0.0364 - val_accuracy: 0.7008 - val_auc: 0.7554 - val_loss: 0.0359
Epoch 13/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6976 - auc: 0.7543 - loss: 0.0362 - val_accuracy: 0.6997 - val_auc: 0.7601 - val_loss: 0.0355
Epoch 14/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7007 - auc: 0.7591 - loss: 0.0360 - val_accuracy: 0.6949 - val_auc: 0.7618 - val_loss: 0.0353
Epoch 15/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6982 - auc: 0.7638 - loss: 0.0356 - val_accuracy: 0.6916 - val_auc: 0.7628 - val_loss: 0.0355
Epoch 16/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7065 - auc: 0.7740 - loss: 0.0350 - val_accuracy: 0.7057 - val_auc: 0.7715 - val_loss: 0.0348
Epoch 17/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7110 - auc: 0.7741 - loss: 0.0349 - val_accuracy: 0.7051 - val_auc: 0.7739 - val_loss: 0.0347
Epoch 18/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7142 - auc: 0.7802 - loss: 0.0345 - val_accuracy: 0.7046 - val_auc: 0.7724 - val_loss: 0.0348
Epoch 19/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7130 - auc: 0.7892 - loss: 0.0337 - val_accuracy: 0.7122 - val_auc: 0.7831 - val_loss: 0.0343
Epoch 20/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7138 - auc: 0.7860 - loss: 0.0339 - val_accuracy: 0.7100 - val_auc: 0.7803 - val_loss: 0.0343
Epoch 21/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7221 - auc: 0.7993 - loss: 0.0329 - val_accuracy: 0.7127 - val_auc: 0.7744 - val_loss: 0.0349
Epoch 22/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7237 - auc: 0.8034 - loss: 0.0329 - val_accuracy: 0.7111 - val_auc: 0.7901 - val_loss: 0.0341
Epoch 23/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7373 - auc: 0.8170 - loss: 0.0321 - val_accuracy: 0.7192 - val_auc: 0.7951 - val_loss: 0.0336
Epoch 24/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7351 - auc: 0.8139 - loss: 0.0324 - val_accuracy: 0.7236 - val_auc: 0.7964 - val_loss: 0.0336
Epoch 25/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7359 - auc: 0.8186 - loss: 0.0317 - val_accuracy: 0.7203 - val_auc: 0.7979 - val_loss: 0.0336
Epoch 26/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7446 - auc: 0.8284 - loss: 0.0309 - val_accuracy: 0.7322 - val_auc: 0.8044 - val_loss: 0.0339
Epoch 27/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7474 - auc: 0.8322 - loss: 0.0305 - val_accuracy: 0.7149 - val_auc: 0.7877 - val_loss: 0.0344
Epoch 28/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7503 - auc: 0.8327 - loss: 0.0305 - val_accuracy: 0.7236 - val_auc: 0.7990 - val_loss: 0.0330
Epoch 29/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7551 - auc: 0.8379 - loss: 0.0303 - val_accuracy: 0.7425 - val_auc: 0.8157 - val_loss: 0.0331
Epoch 30/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7618 - auc: 0.8505 - loss: 0.0292 - val_accuracy: 0.7360 - val_auc: 0.8085 - val_loss: 0.0327
Epoch 31/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7668 - auc: 0.8542 - loss: 0.0291 - val_accuracy: 0.7371 - val_auc: 0.8167 - val_loss: 0.0339
Epoch 32/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7654 - auc: 0.8547 - loss: 0.0288 - val_accuracy: 0.7382 - val_auc: 0.8199 - val_loss: 0.0329
Epoch 33/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7717 - auc: 0.8616 - loss: 0.0283 - val_accuracy: 0.7463 - val_auc: 0.8234 - val_loss: 0.0325
Epoch 34/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7707 - auc: 0.8596 - loss: 0.0284 - val_accuracy: 0.7415 - val_auc: 0.8182 - val_loss: 0.0328
Epoch 35/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7806 - auc: 0.8655 - loss: 0.0279 - val_accuracy: 0.7496 - val_auc: 0.8275 - val_loss: 0.0322
Epoch 36/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7724 - auc: 0.8677 - loss: 0.0277 - val_accuracy: 0.7382 - val_auc: 0.8054 - val_loss: 0.0355
Epoch 37/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7771 - auc: 0.8650 - loss: 0.0280 - val_accuracy: 0.7577 - val_auc: 0.8325 - val_loss: 0.0331
Epoch 38/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7817 - auc: 0.8725 - loss: 0.0271 - val_accuracy: 0.7404 - val_auc: 0.8278 - val_loss: 0.0323
Epoch 39/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7877 - auc: 0.8738 - loss: 0.0273 - val_accuracy: 0.7550 - val_auc: 0.8296 - val_loss: 0.0323
Epoch 40/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7909 - auc: 0.8779 - loss: 0.0269 - val_accuracy: 0.7539 - val_auc: 0.8367 - val_loss: 0.0326
Epoch 41/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7961 - auc: 0.8883 - loss: 0.0258 - val_accuracy: 0.7561 - val_auc: 0.8409 - val_loss: 0.0336
Epoch 42/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7935 - auc: 0.8868 - loss: 0.0259 - val_accuracy: 0.7642 - val_auc: 0.8455 - val_loss: 0.0320
Epoch 43/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7980 - auc: 0.8899 - loss: 0.0253 - val_accuracy: 0.7713 - val_auc: 0.8481 - val_loss: 0.0330
Epoch 44/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7902 - auc: 0.8806 - loss: 0.0262 - val_accuracy: 0.7680 - val_auc: 0.8409 - val_loss: 0.0324
Epoch 45/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7942 - auc: 0.8831 - loss: 0.0262 - val_accuracy: 0.7659 - val_auc: 0.8492 - val_loss: 0.0314
Epoch 46/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8024 - auc: 0.8956 - loss: 0.0250 - val_accuracy: 0.7664 - val_auc: 0.8460 - val_loss: 0.0314
Epoch 47/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8100 - auc: 0.9030 - loss: 0.0243 - val_accuracy: 0.7637 - val_auc: 0.8478 - val_loss: 0.0325
Epoch 48/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8038 - auc: 0.8934 - loss: 0.0251 - val_accuracy: 0.7675 - val_auc: 0.8442 - val_loss: 0.0333
Epoch 49/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8091 - auc: 0.9008 - loss: 0.0244 - val_accuracy: 0.7686 - val_auc: 0.8499 - val_loss: 0.0322
Epoch 50/50
231/231 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8039 - auc: 0.8985 - loss: 0.0245 - val_accuracy: 0.7675 - val_auc: 0.8460 - val_loss: 0.0340
2025-11-12 05:51:25.687 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 05:51:25.688 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0245, Accuracy: 0.8039, AUC: 0.8985
2025-11-12 05:51:25.689 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0340, Accuracy: 0.7675, AUC: 0.8460
2025-11-12 05:51:25.690 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:51:25.762 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:51:26.940 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16452 data points.
2025-11-12 05:51:27.028 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16432 sequences.
2025-11-12 05:51:28.879 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:51:28.899 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:51:28.901 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:51:28.901 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_999\PainX_999_M1'...
2025-11-12 05:51:28.936 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M1\random_forest.pkl
2025-11-12 05:51:28.967 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M1\gradient_boosting.pkl
2025-11-12 05:51:28.993 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_999\PainX_999_M1\lstm.keras and models\PainX_999\PainX_999_M1\lstm_scaler.pkl
2025-11-12 05:51:28.994 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_999\PainX_999_M1\feature_info.pkl
2025-11-12 05:51:28.997 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_999\PainX_999_M1\meta_model.pkl
2025-11-12 05:51:28.999 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_999\PainX_999_M1\training_metadata.json
2025-11-12 05:51:28.999 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 999 [1m] (31/50)
2025-11-12 05:51:29.000 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 999 [5m] ---
2025-11-12 05:51:29.210 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [5m] from MT5
2025-11-12 05:51:29.211 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 05:51:31.453 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 999\PainX 999_M5.csv (20000 records)
2025-11-12 05:51:31.453 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:51:32.618 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:51:36.186 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:51:36.187 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:51:45.534 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15501 signals total, 10104 profitable (65.2% win rate), 5397 unprofitable
2025-11-12 05:51:45.614 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15501, 110), Shape of y: (15501,)
2025-11-12 05:51:45.629 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15501 data points.
2025-11-12 05:51:45.812 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15451 sequences.
2025-11-12 05:51:45.885 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:51:45.886 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:51:45.889 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:51:45.890 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:51:45.917 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:51:51.496 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:51:51.498 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 05:54:36.096 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 05:54:36.097 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 05:54:36.098 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 05:54:36.135 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 05:54:36.136 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5384), np.float64(1.0): np.int64(10067)}
2025-11-12 05:54:36.138 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15451
2025-11-12 05:54:36.318 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 10067 to 8076
2025-11-12 05:54:36.319 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5384), np.float64(1.0): np.int64(8076)}
2025-11-12 05:54:36.320 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 13460
2025-11-12 05:54:36.320 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5674 - auc: 0.5459 - loss: 0.0435 - val_accuracy: 0.6062 - val_auc: 0.5864 - val_loss: 0.0417
Epoch 2/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6008 - auc: 0.5745 - loss: 0.0418 - val_accuracy: 0.6010 - val_auc: 0.6056 - val_loss: 0.0413
Epoch 3/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6122 - auc: 0.5989 - loss: 0.0415 - val_accuracy: 0.6152 - val_auc: 0.6149 - val_loss: 0.0412
Epoch 4/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6134 - auc: 0.6047 - loss: 0.0413 - val_accuracy: 0.6077 - val_auc: 0.6235 - val_loss: 0.0411
Epoch 5/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6215 - auc: 0.6258 - loss: 0.0409 - val_accuracy: 0.6289 - val_auc: 0.6297 - val_loss: 0.0409
Epoch 6/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6257 - auc: 0.6367 - loss: 0.0406 - val_accuracy: 0.6289 - val_auc: 0.6476 - val_loss: 0.0404
Epoch 7/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6396 - auc: 0.6492 - loss: 0.0402 - val_accuracy: 0.6363 - val_auc: 0.6611 - val_loss: 0.0400
Epoch 8/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6420 - auc: 0.6675 - loss: 0.0397 - val_accuracy: 0.6534 - val_auc: 0.6692 - val_loss: 0.0397
Epoch 9/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6561 - auc: 0.6838 - loss: 0.0391 - val_accuracy: 0.6512 - val_auc: 0.6751 - val_loss: 0.0393
Epoch 10/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6710 - auc: 0.7081 - loss: 0.0382 - val_accuracy: 0.6582 - val_auc: 0.6932 - val_loss: 0.0387
Epoch 11/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6699 - auc: 0.7158 - loss: 0.0379 - val_accuracy: 0.6764 - val_auc: 0.7075 - val_loss: 0.0381
Epoch 12/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6905 - auc: 0.7324 - loss: 0.0370 - val_accuracy: 0.6783 - val_auc: 0.7258 - val_loss: 0.0373
Epoch 13/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6934 - auc: 0.7415 - loss: 0.0365 - val_accuracy: 0.6794 - val_auc: 0.7264 - val_loss: 0.0373
Epoch 14/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6991 - auc: 0.7599 - loss: 0.0356 - val_accuracy: 0.6794 - val_auc: 0.7293 - val_loss: 0.0371
Epoch 15/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7110 - auc: 0.7729 - loss: 0.0349 - val_accuracy: 0.6950 - val_auc: 0.7472 - val_loss: 0.0364
Epoch 16/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7202 - auc: 0.7840 - loss: 0.0343 - val_accuracy: 0.7032 - val_auc: 0.7586 - val_loss: 0.0359
Epoch 17/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7246 - auc: 0.7900 - loss: 0.0339 - val_accuracy: 0.6991 - val_auc: 0.7630 - val_loss: 0.0356
Epoch 18/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7310 - auc: 0.8044 - loss: 0.0330 - val_accuracy: 0.7077 - val_auc: 0.7658 - val_loss: 0.0356
Epoch 19/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7396 - auc: 0.8134 - loss: 0.0325 - val_accuracy: 0.7173 - val_auc: 0.7797 - val_loss: 0.0349
Epoch 20/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7452 - auc: 0.8211 - loss: 0.0319 - val_accuracy: 0.7147 - val_auc: 0.7817 - val_loss: 0.0346
Epoch 21/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7543 - auc: 0.8303 - loss: 0.0315 - val_accuracy: 0.7088 - val_auc: 0.7758 - val_loss: 0.0351
Epoch 22/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7529 - auc: 0.8348 - loss: 0.0310 - val_accuracy: 0.7188 - val_auc: 0.7984 - val_loss: 0.0343
Epoch 23/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7554 - auc: 0.8388 - loss: 0.0306 - val_accuracy: 0.7136 - val_auc: 0.7896 - val_loss: 0.0347
Epoch 24/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7638 - auc: 0.8424 - loss: 0.0305 - val_accuracy: 0.7203 - val_auc: 0.7988 - val_loss: 0.0339
Epoch 25/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7689 - auc: 0.8495 - loss: 0.0298 - val_accuracy: 0.7225 - val_auc: 0.7981 - val_loss: 0.0340
Epoch 26/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7713 - auc: 0.8533 - loss: 0.0295 - val_accuracy: 0.7348 - val_auc: 0.8067 - val_loss: 0.0338
Epoch 27/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7703 - auc: 0.8538 - loss: 0.0294 - val_accuracy: 0.7363 - val_auc: 0.8082 - val_loss: 0.0334
Epoch 28/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7738 - auc: 0.8585 - loss: 0.0290 - val_accuracy: 0.7370 - val_auc: 0.8127 - val_loss: 0.0332
Epoch 29/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7853 - auc: 0.8687 - loss: 0.0281 - val_accuracy: 0.7403 - val_auc: 0.8136 - val_loss: 0.0337
Epoch 30/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7845 - auc: 0.8677 - loss: 0.0281 - val_accuracy: 0.7344 - val_auc: 0.8178 - val_loss: 0.0332
Epoch 31/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7863 - auc: 0.8718 - loss: 0.0279 - val_accuracy: 0.7363 - val_auc: 0.8119 - val_loss: 0.0344
Epoch 32/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7930 - auc: 0.8774 - loss: 0.0275 - val_accuracy: 0.7444 - val_auc: 0.8198 - val_loss: 0.0335
Epoch 33/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7930 - auc: 0.8819 - loss: 0.0267 - val_accuracy: 0.7452 - val_auc: 0.8217 - val_loss: 0.0339
Epoch 34/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7967 - auc: 0.8806 - loss: 0.0271 - val_accuracy: 0.7403 - val_auc: 0.8226 - val_loss: 0.0330
Epoch 35/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7923 - auc: 0.8794 - loss: 0.0269 - val_accuracy: 0.7481 - val_auc: 0.8220 - val_loss: 0.0338
Epoch 36/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7993 - auc: 0.8865 - loss: 0.0265 - val_accuracy: 0.7537 - val_auc: 0.8250 - val_loss: 0.0344
Epoch 37/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8070 - auc: 0.8898 - loss: 0.0262 - val_accuracy: 0.7493 - val_auc: 0.8227 - val_loss: 0.0338
Epoch 38/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8012 - auc: 0.8871 - loss: 0.0264 - val_accuracy: 0.7567 - val_auc: 0.8327 - val_loss: 0.0328
Epoch 39/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8108 - auc: 0.8975 - loss: 0.0252 - val_accuracy: 0.7452 - val_auc: 0.8252 - val_loss: 0.0343
Epoch 40/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8097 - auc: 0.8956 - loss: 0.0256 - val_accuracy: 0.7545 - val_auc: 0.8301 - val_loss: 0.0334
Epoch 41/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8066 - auc: 0.8950 - loss: 0.0256 - val_accuracy: 0.7556 - val_auc: 0.8312 - val_loss: 0.0338
Epoch 42/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8152 - auc: 0.9000 - loss: 0.0251 - val_accuracy: 0.7656 - val_auc: 0.8371 - val_loss: 0.0331
Epoch 43/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8205 - auc: 0.9016 - loss: 0.0250 - val_accuracy: 0.7548 - val_auc: 0.8262 - val_loss: 0.0350
Epoch 44/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8173 - auc: 0.9037 - loss: 0.0245 - val_accuracy: 0.7597 - val_auc: 0.8370 - val_loss: 0.0346
Epoch 45/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8207 - auc: 0.9077 - loss: 0.0242 - val_accuracy: 0.7623 - val_auc: 0.8368 - val_loss: 0.0336
Epoch 46/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8194 - auc: 0.9071 - loss: 0.0243 - val_accuracy: 0.7656 - val_auc: 0.8395 - val_loss: 0.0343
Epoch 47/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8198 - auc: 0.9067 - loss: 0.0242 - val_accuracy: 0.7552 - val_auc: 0.8336 - val_loss: 0.0347
Epoch 48/50
337/337 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8249 - auc: 0.9108 - loss: 0.0238 - val_accuracy: 0.7545 - val_auc: 0.8363 - val_loss: 0.0352
2025-11-12 05:57:44.222 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 48
2025-11-12 05:57:44.223 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0238, Accuracy: 0.8249, AUC: 0.9108
2025-11-12 05:57:44.224 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0352, Accuracy: 0.7545, AUC: 0.8363
2025-11-12 05:57:44.227 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 05:57:44.327 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 05:57:45.440 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15501 data points.
2025-11-12 05:57:45.530 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15481 sequences.
2025-11-12 05:57:47.314 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 05:57:47.331 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 05:57:47.333 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 05:57:47.333 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_999\PainX_999_M5'...
2025-11-12 05:57:47.527 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M5\random_forest.pkl
2025-11-12 05:57:47.538 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M5\gradient_boosting.pkl
2025-11-12 05:57:47.610 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_999\PainX_999_M5\lstm.keras and models\PainX_999\PainX_999_M5\lstm_scaler.pkl
2025-11-12 05:57:47.613 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_999\PainX_999_M5\feature_info.pkl
2025-11-12 05:57:47.619 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_999\PainX_999_M5\meta_model.pkl
2025-11-12 05:57:47.622 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_999\PainX_999_M5\training_metadata.json
2025-11-12 05:57:47.624 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 999 [5m] (32/50)
2025-11-12 05:57:47.626 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 999 [15m] ---
2025-11-12 05:57:47.783 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [15m] from MT5
2025-11-12 05:57:47.785 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 05:57:50.036 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 999\PainX 999_M15.csv (20000 records)
2025-11-12 05:57:50.036 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 05:57:51.202 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 05:57:54.800 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 05:57:54.801 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 05:58:04.119 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15349 signals total, 9150 profitable (59.6% win rate), 6199 unprofitable
2025-11-12 05:58:04.201 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15349, 110), Shape of y: (15349,)
2025-11-12 05:58:04.213 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15349 data points.
2025-11-12 05:58:04.385 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15299 sequences.
2025-11-12 05:58:04.439 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 05:58:04.440 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 05:58:04.467 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 05:58:04.467 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 05:58:04.496 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 05:58:10.253 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 05:58:10.255 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:00:55.074 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:00:55.076 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:00:55.077 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:00:55.118 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:00:55.119 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6190), np.float64(1.0): np.int64(9109)}
2025-11-12 06:00:55.120 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15299
2025-11-12 06:00:55.122 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:00:55.123 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6190), np.float64(1.0): np.int64(9109)}
2025-11-12 06:00:55.124 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15299
2025-11-12 06:00:55.124 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.23578352180937), 1: np.float64(0.8397738500384235)}
Epoch 1/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5544 - auc: 0.5276 - loss: 0.0443 - val_accuracy: 0.5873 - val_auc: 0.5332 - val_loss: 0.0424
Epoch 2/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5839 - auc: 0.5588 - loss: 0.0424 - val_accuracy: 0.6010 - val_auc: 0.5189 - val_loss: 0.0425
Epoch 3/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6013 - auc: 0.5867 - loss: 0.0417 - val_accuracy: 0.5931 - val_auc: 0.5309 - val_loss: 0.0427
Epoch 4/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6050 - auc: 0.6117 - loss: 0.0413 - val_accuracy: 0.5837 - val_auc: 0.5152 - val_loss: 0.0431
Epoch 5/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6256 - auc: 0.6406 - loss: 0.0407 - val_accuracy: 0.5667 - val_auc: 0.5301 - val_loss: 0.0436
Epoch 6/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6353 - auc: 0.6538 - loss: 0.0402 - val_accuracy: 0.5428 - val_auc: 0.5216 - val_loss: 0.0448
Epoch 7/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6562 - auc: 0.6854 - loss: 0.0392 - val_accuracy: 0.5399 - val_auc: 0.5163 - val_loss: 0.0466
Epoch 8/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6653 - auc: 0.7135 - loss: 0.0381 - val_accuracy: 0.5428 - val_auc: 0.5162 - val_loss: 0.0473
Epoch 9/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6797 - auc: 0.7323 - loss: 0.0374 - val_accuracy: 0.5180 - val_auc: 0.5077 - val_loss: 0.0490
Epoch 10/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7003 - auc: 0.7593 - loss: 0.0361 - val_accuracy: 0.5395 - val_auc: 0.5197 - val_loss: 0.0499
Epoch 11/50
383/383 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7211 - auc: 0.7835 - loss: 0.0348 - val_accuracy: 0.5271 - val_auc: 0.5035 - val_loss: 0.0535
2025-11-12 06:01:45.089 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:01:45.089 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0348, Accuracy: 0.7211, AUC: 0.7835
2025-11-12 06:01:45.091 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0535, Accuracy: 0.5271, AUC: 0.5035
2025-11-12 06:01:45.094 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:01:45.145 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:01:46.251 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15349 data points.
2025-11-12 06:01:46.335 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15329 sequences.
2025-11-12 06:01:48.097 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:01:48.124 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:01:48.125 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:01:48.126 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_999\PainX_999_M15'...
2025-11-12 06:01:48.185 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M15\random_forest.pkl
2025-11-12 06:01:48.216 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M15\gradient_boosting.pkl
2025-11-12 06:01:48.243 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_999\PainX_999_M15\lstm.keras and models\PainX_999\PainX_999_M15\lstm_scaler.pkl
2025-11-12 06:01:48.244 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_999\PainX_999_M15\feature_info.pkl
2025-11-12 06:01:48.246 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_999\PainX_999_M15\meta_model.pkl
2025-11-12 06:01:48.247 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_999\PainX_999_M15\training_metadata.json
2025-11-12 06:01:48.248 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 999 [15m] (33/50)
2025-11-12 06:01:48.249 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 999 [1h] ---
2025-11-12 06:01:48.359 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11980 candles for PainX 999 [1h] from MT5
2025-11-12 06:01:48.360 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 11980 candles (minimum: 2000)
2025-11-12 06:01:50.548 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 999\PainX 999_H1.csv (11980 records)
2025-11-12 06:01:50.549 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:01:51.266 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:01:53.435 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:01:53.436 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:01:58.969 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 9102 signals total, 4865 profitable (53.4% win rate), 4237 unprofitable
2025-11-12 06:01:59.020 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (9102, 110), Shape of y: (9102,)
2025-11-12 06:01:59.030 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 9102 data points.
2025-11-12 06:01:59.135 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 9052 sequences.
2025-11-12 06:01:59.191 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:01:59.192 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:01:59.196 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:01:59.196 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:01:59.211 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:02:02.873 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:02:02.874 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:03:40.236 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:03:40.237 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:03:40.238 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:03:40.282 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:03:40.283 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(4207), np.float64(1.0): np.int64(4845)}
2025-11-12 06:03:40.284 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 9052
2025-11-12 06:03:40.286 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:03:40.287 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(4207), np.float64(1.0): np.int64(4845)}
2025-11-12 06:03:40.287 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9052
2025-11-12 06:03:40.288 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.0758260042785832), 1: np.float64(0.9341589267285861)}
Epoch 1/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.5119 - auc: 0.5002 - loss: 0.0477 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0434
Epoch 2/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5216 - auc: 0.5034 - loss: 0.0442 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0435
Epoch 3/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5256 - auc: 0.5050 - loss: 0.0436 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0435
Epoch 4/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5280 - auc: 0.5046 - loss: 0.0433 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0436
Epoch 5/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5358 - auc: 0.5080 - loss: 0.0432 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0434
Epoch 6/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5331 - auc: 0.4956 - loss: 0.0432 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0434
Epoch 7/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5340 - auc: 0.4893 - loss: 0.0432 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0436
Epoch 8/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5408 - auc: 0.4979 - loss: 0.0431 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0435
Epoch 9/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5444 - auc: 0.4818 - loss: 0.0431 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0436
Epoch 10/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5456 - auc: 0.4934 - loss: 0.0431 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0436
Epoch 11/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5465 - auc: 0.4964 - loss: 0.0431 - val_accuracy: 0.4898 - val_auc: 0.5000 - val_loss: 0.0436
2025-11-12 06:04:11.768 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:04:11.768 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0431, Accuracy: 0.5465, AUC: 0.4964
2025-11-12 06:04:11.771 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0436, Accuracy: 0.4898, AUC: 0.5000
2025-11-12 06:04:11.771 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:04:11.805 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:04:12.463 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 9102 data points.
2025-11-12 06:04:12.517 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 9082 sequences.
2025-11-12 06:04:13.695 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:04:13.709 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:04:13.710 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:04:13.710 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_999\PainX_999_H1'...
2025-11-12 06:04:13.832 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_H1\random_forest.pkl
2025-11-12 06:04:13.847 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_H1\gradient_boosting.pkl
2025-11-12 06:04:13.884 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_999\PainX_999_H1\lstm.keras and models\PainX_999\PainX_999_H1\lstm_scaler.pkl
2025-11-12 06:04:13.885 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_999\PainX_999_H1\feature_info.pkl
2025-11-12 06:04:13.905 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_999\PainX_999_H1\meta_model.pkl
2025-11-12 06:04:13.906 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_999\PainX_999_H1\training_metadata.json
2025-11-12 06:04:13.906 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 999 [1h] (34/50)
2025-11-12 06:04:13.907 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 999 [4h] ---
2025-11-12 06:04:14.015 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 2998 candles for PainX 999 [4h] from MT5
2025-11-12 06:04:14.016 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 2998 candles (minimum: 2000)
2025-11-12 06:04:16.133 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 999\PainX 999_H4.csv (2998 records)
2025-11-12 06:04:16.134 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:04:16.344 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:04:16.887 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:04:16.887 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:04:18.283 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2285 signals total, 1184 profitable (51.8% win rate), 1101 unprofitable
2025-11-12 06:04:18.300 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2285, 110), Shape of y: (2285,)
2025-11-12 06:04:18.304 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2285 data points.
2025-11-12 06:04:18.331 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2235 sequences.
2025-11-12 06:04:18.364 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:04:18.364 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:04:18.366 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:04:18.367 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:04:18.372 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:04:19.452 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:04:19.452 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:04:43.270 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:04:43.270 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:04:43.271 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:04:43.311 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:04:43.312 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1084), np.float64(1.0): np.int64(1151)}
2025-11-12 06:04:43.313 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2235
2025-11-12 06:04:43.316 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:04:43.316 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1084), np.float64(1.0): np.int64(1151)}
2025-11-12 06:04:43.317 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2235
2025-11-12 06:04:43.317 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.0309040590405905), 1: np.float64(0.970894874022589)}
Epoch 1/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 4s 18ms/step - accuracy: 0.4966 - auc: 0.5079 - loss: 0.0457 - val_accuracy: 0.5906 - val_auc: 0.5000 - val_loss: 0.0429
Epoch 2/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.4899 - auc: 0.4777 - loss: 0.0439 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0438
Epoch 3/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5129 - auc: 0.5190 - loss: 0.0434 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0439
Epoch 4/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5017 - auc: 0.5008 - loss: 0.0435 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0439
Epoch 5/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5129 - auc: 0.5175 - loss: 0.0434 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0439
Epoch 6/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.4966 - auc: 0.4986 - loss: 0.0435 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0438
Epoch 7/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.4983 - auc: 0.5064 - loss: 0.0434 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0441
Epoch 8/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.4899 - auc: 0.4782 - loss: 0.0435 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0440
Epoch 9/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5039 - auc: 0.5064 - loss: 0.0434 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0438
Epoch 10/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.4810 - auc: 0.4641 - loss: 0.0435 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0440
Epoch 11/50
56/56 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5039 - auc: 0.5110 - loss: 0.0434 - val_accuracy: 0.4094 - val_auc: 0.5000 - val_loss: 0.0439
2025-11-12 06:04:54.080 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:04:54.081 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0434, Accuracy: 0.5039, AUC: 0.5110
2025-11-12 06:04:54.081 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0439, Accuracy: 0.4094, AUC: 0.5000
2025-11-12 06:04:54.082 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:04:54.090 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:04:54.255 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2285 data points.
2025-11-12 06:04:54.268 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2265 sequences.
2025-11-12 06:04:54.810 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:04:54.817 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:04:54.818 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:04:54.818 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_999\PainX_999_H4'...
2025-11-12 06:04:54.917 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_H4\random_forest.pkl
2025-11-12 06:04:54.932 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_H4\gradient_boosting.pkl
2025-11-12 06:04:54.958 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_999\PainX_999_H4\lstm.keras and models\PainX_999\PainX_999_H4\lstm_scaler.pkl
2025-11-12 06:04:54.959 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_999\PainX_999_H4\feature_info.pkl
2025-11-12 06:04:54.960 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_999\PainX_999_H4\meta_model.pkl
2025-11-12 06:04:54.961 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_999\PainX_999_H4\training_metadata.json
2025-11-12 06:04:54.961 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 999 [4h] (35/50)
2025-11-12 06:04:54.961 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 999 [1m] ---
2025-11-12 06:04:54.962 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 06:04:54.966 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 06:04:57.980 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 06:04:57.982 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 06:04:57.988 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 06:04:58.029 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [1m] from MT5
2025-11-12 06:04:58.030 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:05:00.399 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 999\GainX 999_M1.csv (20000 records)
2025-11-12 06:05:00.400 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:05:01.584 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:05:05.153 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:05:05.154 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:05:14.998 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16536 signals total, 12704 profitable (76.8% win rate), 3832 unprofitable
2025-11-12 06:05:15.084 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16536, 110), Shape of y: (16536,)
2025-11-12 06:05:15.095 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16536 data points.
2025-11-12 06:05:15.285 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16486 sequences.
2025-11-12 06:05:15.293 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:05:15.294 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:05:15.296 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:05:15.296 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:05:15.324 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:05:20.603 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:05:20.604 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:07:48.097 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:07:48.098 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:07:48.100 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:07:48.139 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:07:48.140 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3814), np.float64(1.0): np.int64(12672)}
2025-11-12 06:07:48.141 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16486
2025-11-12 06:07:48.272 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 12672 to 5721
2025-11-12 06:07:48.272 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3814), np.float64(1.0): np.int64(5721)}
2025-11-12 06:07:48.274 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9535
2025-11-12 06:07:48.276 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 5s 14ms/step - accuracy: 0.5051 - auc: 0.5005 - loss: 0.0495 - val_accuracy: 0.6020 - val_auc: 0.5002 - val_loss: 0.0423
Epoch 2/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5701 - auc: 0.4988 - loss: 0.0432 - val_accuracy: 0.6020 - val_auc: 0.5002 - val_loss: 0.0423
Epoch 3/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5881 - auc: 0.5074 - loss: 0.0426 - val_accuracy: 0.6020 - val_auc: 0.5002 - val_loss: 0.0422
Epoch 4/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5924 - auc: 0.5022 - loss: 0.0425 - val_accuracy: 0.6020 - val_auc: 0.5002 - val_loss: 0.0422
Epoch 5/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5999 - auc: 0.5054 - loss: 0.0424 - val_accuracy: 0.6020 - val_auc: 0.4996 - val_loss: 0.0422
Epoch 6/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5960 - auc: 0.4967 - loss: 0.0424 - val_accuracy: 0.6020 - val_auc: 0.4996 - val_loss: 0.0422
Epoch 7/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5998 - auc: 0.5027 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 8/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5981 - auc: 0.4911 - loss: 0.0424 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 9/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5987 - auc: 0.4990 - loss: 0.0424 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 10/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5991 - auc: 0.5100 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 11/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.5026 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 12/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5006 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 13/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5995 - auc: 0.5029 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5007 - val_loss: 0.0422
Epoch 14/50
239/239 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5986 - auc: 0.4926 - loss: 0.0423 - val_accuracy: 0.6020 - val_auc: 0.5007 - val_loss: 0.0422
2025-11-12 06:08:31.321 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 14
2025-11-12 06:08:31.321 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.5986, AUC: 0.4926
2025-11-12 06:08:31.323 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0422, Accuracy: 0.6020, AUC: 0.5007
2025-11-12 06:08:31.326 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:08:31.399 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:08:32.591 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16536 data points.
2025-11-12 06:08:32.680 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16516 sequences.
2025-11-12 06:08:34.559 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:08:34.575 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:08:34.576 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:08:34.577 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_999\GainX_999_M1'...
2025-11-12 06:08:34.648 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M1\random_forest.pkl
2025-11-12 06:08:34.679 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M1\gradient_boosting.pkl
2025-11-12 06:08:34.709 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_999\GainX_999_M1\lstm.keras and models\GainX_999\GainX_999_M1\lstm_scaler.pkl
2025-11-12 06:08:34.710 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_999\GainX_999_M1\feature_info.pkl
2025-11-12 06:08:34.712 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_999\GainX_999_M1\meta_model.pkl
2025-11-12 06:08:34.713 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_999\GainX_999_M1\training_metadata.json
2025-11-12 06:08:34.714 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 999 [1m] (36/50)
2025-11-12 06:08:34.715 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 999 [5m] ---
2025-11-12 06:08:34.890 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [5m] from MT5
2025-11-12 06:08:34.891 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:08:37.095 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 999\GainX 999_M5.csv (20000 records)
2025-11-12 06:08:37.095 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:08:38.261 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:08:41.865 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:08:41.866 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:08:51.205 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15545 signals total, 9856 profitable (63.4% win rate), 5689 unprofitable
2025-11-12 06:08:51.281 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15545, 110), Shape of y: (15545,)
2025-11-12 06:08:51.292 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15545 data points.
2025-11-12 06:08:51.469 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15495 sequences.
2025-11-12 06:08:51.531 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:08:51.532 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:08:51.537 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:08:51.537 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:08:51.564 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:08:57.161 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:08:57.163 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:11:38.412 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:11:38.414 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:11:38.414 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:11:38.456 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:11:38.457 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5680), np.float64(1.0): np.int64(9815)}
2025-11-12 06:11:38.458 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15495
2025-11-12 06:11:38.646 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9815 to 8520
2025-11-12 06:11:38.647 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5680), np.float64(1.0): np.int64(8520)}
2025-11-12 06:11:38.648 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 14200
2025-11-12 06:11:38.651 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5590 - auc: 0.4900 - loss: 0.0440 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0425
Epoch 2/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5922 - auc: 0.4990 - loss: 0.0427 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0422
Epoch 3/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5966 - auc: 0.4948 - loss: 0.0425 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 4/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5982 - auc: 0.4921 - loss: 0.0424 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 5/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5971 - auc: 0.4908 - loss: 0.0424 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 6/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5974 - auc: 0.4988 - loss: 0.0424 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 7/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5984 - auc: 0.5060 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 8/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5983 - auc: 0.4982 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 9/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5985 - auc: 0.4980 - loss: 0.0424 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 10/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5989 - auc: 0.4953 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 11/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5988 - auc: 0.5013 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 12/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5984 - auc: 0.5017 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 13/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5987 - auc: 0.4935 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 14/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5984 - auc: 0.5017 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 15/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5983 - auc: 0.4955 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5007 - val_loss: 0.0421
Epoch 16/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.4932 - loss: 0.0424 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 17/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.4982 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 18/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5987 - auc: 0.5034 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.4993 - val_loss: 0.0421
Epoch 19/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5985 - auc: 0.4975 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 20/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.4911 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 21/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.4992 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 22/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.5018 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 23/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5986 - auc: 0.4982 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 24/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.5983 - auc: 0.4994 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 25/50
355/355 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5985 - auc: 0.4945 - loss: 0.0423 - val_accuracy: 0.6056 - val_auc: 0.5000 - val_loss: 0.0421
2025-11-12 06:13:07.382 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 25
2025-11-12 06:13:07.383 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.5985, AUC: 0.4945
2025-11-12 06:13:07.384 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0421, Accuracy: 0.6056, AUC: 0.5000
2025-11-12 06:13:07.387 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:13:07.492 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:13:08.602 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15545 data points.
2025-11-12 06:13:08.689 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15525 sequences.
2025-11-12 06:13:10.504 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:13:10.520 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:13:10.521 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:13:10.522 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_999\GainX_999_M5'...
2025-11-12 06:13:10.623 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M5\random_forest.pkl
2025-11-12 06:13:10.636 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M5\gradient_boosting.pkl
2025-11-12 06:13:10.669 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_999\GainX_999_M5\lstm.keras and models\GainX_999\GainX_999_M5\lstm_scaler.pkl
2025-11-12 06:13:10.670 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_999\GainX_999_M5\feature_info.pkl
2025-11-12 06:13:10.683 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_999\GainX_999_M5\meta_model.pkl
2025-11-12 06:13:10.684 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_999\GainX_999_M5\training_metadata.json
2025-11-12 06:13:10.684 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 999 [5m] (37/50)
2025-11-12 06:13:10.686 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 999 [15m] ---
2025-11-12 06:13:10.950 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [15m] from MT5
2025-11-12 06:13:10.951 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 06:13:13.160 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 999\GainX 999_M15.csv (20000 records)
2025-11-12 06:13:13.160 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:13:14.340 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:13:17.966 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:13:17.967 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:13:27.221 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15263 signals total, 9103 profitable (59.6% win rate), 6160 unprofitable
2025-11-12 06:13:27.301 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15263, 110), Shape of y: (15263,)
2025-11-12 06:13:27.313 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15263 data points.
2025-11-12 06:13:27.495 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15213 sequences.
2025-11-12 06:13:27.559 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:13:27.559 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:13:27.563 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:13:27.564 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:13:27.591 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:13:33.228 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:13:33.229 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:16:17.502 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:16:17.503 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:16:17.505 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:16:17.545 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:16:17.546 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6133), np.float64(1.0): np.int64(9080)}
2025-11-12 06:16:17.547 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15213
2025-11-12 06:16:17.549 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:16:17.550 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6133), np.float64(1.0): np.int64(9080)}
2025-11-12 06:16:17.550 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15213
2025-11-12 06:16:17.551 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2402576226968858), 1: np.float64(0.8377202643171806)}
Epoch 1/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5832 - auc: 0.5361 - loss: 0.0431 - val_accuracy: 0.5343 - val_auc: 0.4577 - val_loss: 0.0438
Epoch 2/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6104 - auc: 0.5720 - loss: 0.0416 - val_accuracy: 0.5347 - val_auc: 0.4425 - val_loss: 0.0440
Epoch 3/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6093 - auc: 0.6018 - loss: 0.0410 - val_accuracy: 0.5682 - val_auc: 0.4858 - val_loss: 0.0434
Epoch 4/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6156 - auc: 0.6292 - loss: 0.0404 - val_accuracy: 0.5353 - val_auc: 0.4737 - val_loss: 0.0437
Epoch 5/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6247 - auc: 0.6462 - loss: 0.0400 - val_accuracy: 0.5127 - val_auc: 0.4938 - val_loss: 0.0450
Epoch 6/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6380 - auc: 0.6797 - loss: 0.0388 - val_accuracy: 0.4660 - val_auc: 0.4815 - val_loss: 0.0457
Epoch 7/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6614 - auc: 0.7171 - loss: 0.0376 - val_accuracy: 0.4574 - val_auc: 0.4659 - val_loss: 0.0462
Epoch 8/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6778 - auc: 0.7338 - loss: 0.0369 - val_accuracy: 0.5100 - val_auc: 0.4883 - val_loss: 0.0449
Epoch 9/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6940 - auc: 0.7597 - loss: 0.0355 - val_accuracy: 0.4827 - val_auc: 0.4758 - val_loss: 0.0479
Epoch 10/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7123 - auc: 0.7829 - loss: 0.0344 - val_accuracy: 0.4548 - val_auc: 0.4744 - val_loss: 0.0486
Epoch 11/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7192 - auc: 0.7929 - loss: 0.0337 - val_accuracy: 0.4781 - val_auc: 0.4863 - val_loss: 0.0475
Epoch 12/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7378 - auc: 0.8129 - loss: 0.0325 - val_accuracy: 0.4689 - val_auc: 0.4846 - val_loss: 0.0485
Epoch 13/50
381/381 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7452 - auc: 0.8231 - loss: 0.0321 - val_accuracy: 0.4709 - val_auc: 0.4689 - val_loss: 0.0525
2025-11-12 06:17:17.955 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 06:17:17.955 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0321, Accuracy: 0.7452, AUC: 0.8231
2025-11-12 06:17:17.957 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0525, Accuracy: 0.4709, AUC: 0.4689
2025-11-12 06:17:17.960 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:17:18.015 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:17:19.104 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15263 data points.
2025-11-12 06:17:19.190 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15243 sequences.
2025-11-12 06:17:20.951 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:17:20.970 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:17:20.971 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:17:20.971 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_999\GainX_999_M15'...
2025-11-12 06:17:21.052 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M15\random_forest.pkl
2025-11-12 06:17:21.081 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M15\gradient_boosting.pkl
2025-11-12 06:17:21.134 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_999\GainX_999_M15\lstm.keras and models\GainX_999\GainX_999_M15\lstm_scaler.pkl
2025-11-12 06:17:21.135 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_999\GainX_999_M15\feature_info.pkl
2025-11-12 06:17:21.137 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_999\GainX_999_M15\meta_model.pkl
2025-11-12 06:17:21.138 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_999\GainX_999_M15\training_metadata.json
2025-11-12 06:17:21.140 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 999 [15m] (38/50)
2025-11-12 06:17:21.140 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 999 [1h] ---
2025-11-12 06:17:21.318 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11980 candles for GainX 999 [1h] from MT5
2025-11-12 06:17:21.319 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 11980 candles (minimum: 2000)
2025-11-12 06:17:23.483 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 999\GainX 999_H1.csv (11980 records)
2025-11-12 06:17:23.483 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:17:24.209 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:17:26.364 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:17:26.365 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:17:31.870 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 9010 signals total, 5036 profitable (55.9% win rate), 3974 unprofitable
2025-11-12 06:17:31.918 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (9010, 110), Shape of y: (9010,)
2025-11-12 06:17:31.926 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 9010 data points.
2025-11-12 06:17:32.037 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 8960 sequences.
2025-11-12 06:17:32.097 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:17:32.097 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:17:32.102 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:17:32.102 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:17:32.118 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:17:35.667 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:17:35.668 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:19:12.513 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:19:12.513 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:19:12.515 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:19:12.557 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:19:12.558 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3952), np.float64(1.0): np.int64(5008)}
2025-11-12 06:19:12.559 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 8960
2025-11-12 06:19:12.564 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:19:12.564 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3952), np.float64(1.0): np.int64(5008)}
2025-11-12 06:19:12.565 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 8960
2025-11-12 06:19:12.565 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1336032388663968), 1: np.float64(0.8945686900958466)}
Epoch 1/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5381 - auc: 0.5274 - loss: 0.0450 - val_accuracy: 0.5089 - val_auc: 0.5296 - val_loss: 0.0430
Epoch 2/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5741 - auc: 0.5741 - loss: 0.0425 - val_accuracy: 0.5184 - val_auc: 0.5221 - val_loss: 0.0431
Epoch 3/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5901 - auc: 0.6127 - loss: 0.0415 - val_accuracy: 0.5195 - val_auc: 0.4945 - val_loss: 0.0436
Epoch 4/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6094 - auc: 0.6432 - loss: 0.0408 - val_accuracy: 0.5251 - val_auc: 0.5262 - val_loss: 0.0439
Epoch 5/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6313 - auc: 0.6712 - loss: 0.0400 - val_accuracy: 0.5446 - val_auc: 0.5311 - val_loss: 0.0440
Epoch 6/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6451 - auc: 0.7027 - loss: 0.0388 - val_accuracy: 0.5223 - val_auc: 0.5332 - val_loss: 0.0441
Epoch 7/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6614 - auc: 0.7207 - loss: 0.0380 - val_accuracy: 0.5474 - val_auc: 0.5505 - val_loss: 0.0439
Epoch 8/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.6865 - auc: 0.7514 - loss: 0.0366 - val_accuracy: 0.5167 - val_auc: 0.5266 - val_loss: 0.0473
Epoch 9/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7008 - auc: 0.7757 - loss: 0.0353 - val_accuracy: 0.5547 - val_auc: 0.5689 - val_loss: 0.0454
Epoch 10/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7235 - auc: 0.7947 - loss: 0.0346 - val_accuracy: 0.5385 - val_auc: 0.5518 - val_loss: 0.0472
Epoch 11/50
224/224 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.7281 - auc: 0.8090 - loss: 0.0333 - val_accuracy: 0.5396 - val_auc: 0.5484 - val_loss: 0.0513
2025-11-12 06:19:38.462 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:19:38.463 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0333, Accuracy: 0.7281, AUC: 0.8090
2025-11-12 06:19:38.465 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0513, Accuracy: 0.5396, AUC: 0.5484
2025-11-12 06:19:38.467 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:19:38.501 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:19:39.152 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 9010 data points.
2025-11-12 06:19:39.204 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 8990 sequences.
2025-11-12 06:19:40.347 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:19:40.367 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:19:40.368 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:19:40.368 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_999\GainX_999_H1'...
2025-11-12 06:19:40.515 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_H1\random_forest.pkl
2025-11-12 06:19:40.534 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_H1\gradient_boosting.pkl
2025-11-12 06:19:40.566 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_999\GainX_999_H1\lstm.keras and models\GainX_999\GainX_999_H1\lstm_scaler.pkl
2025-11-12 06:19:40.604 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_999\GainX_999_H1\feature_info.pkl
2025-11-12 06:19:40.605 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_999\GainX_999_H1\meta_model.pkl
2025-11-12 06:19:40.607 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_999\GainX_999_H1\training_metadata.json
2025-11-12 06:19:40.608 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 999 [1h] (39/50)
2025-11-12 06:19:40.609 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 999 [4h] ---
2025-11-12 06:19:40.673 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 2998 candles for GainX 999 [4h] from MT5
2025-11-12 06:19:40.675 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 2998 candles (minimum: 2000)
2025-11-12 06:19:42.790 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 999\GainX 999_H4.csv (2998 records)
2025-11-12 06:19:42.791 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:19:43.008 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:19:43.550 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:19:43.551 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:19:44.922 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2235 signals total, 1126 profitable (50.4% win rate), 1109 unprofitable
2025-11-12 06:19:44.938 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2235, 110), Shape of y: (2235,)
2025-11-12 06:19:44.943 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2235 data points.
2025-11-12 06:19:44.970 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2185 sequences.
2025-11-12 06:19:45.004 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:19:45.004 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:19:45.009 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:19:45.009 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:19:45.014 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:19:46.080 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:19:46.081 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:20:08.633 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:20:08.633 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:20:08.635 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:20:08.677 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:20:08.678 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1079), np.float64(1.0): np.int64(1106)}
2025-11-12 06:20:08.679 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2185
2025-11-12 06:20:08.681 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:20:08.682 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1079), np.float64(1.0): np.int64(1106)}
2025-11-12 06:20:08.682 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2185
2025-11-12 06:20:08.683 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.0125115848007413), 1: np.float64(0.9877938517179023)}
Epoch 1/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 3s 19ms/step - accuracy: 0.5206 - auc: 0.5238 - loss: 0.0480 - val_accuracy: 0.4508 - val_auc: 0.4705 - val_loss: 0.0449
Epoch 2/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.5978 - auc: 0.6362 - loss: 0.0419 - val_accuracy: 0.4554 - val_auc: 0.4875 - val_loss: 0.0448
Epoch 3/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6379 - auc: 0.6911 - loss: 0.0399 - val_accuracy: 0.4508 - val_auc: 0.4623 - val_loss: 0.0458
Epoch 4/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6281 - auc: 0.7078 - loss: 0.0389 - val_accuracy: 0.4462 - val_auc: 0.4514 - val_loss: 0.0475
Epoch 5/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6854 - auc: 0.7517 - loss: 0.0373 - val_accuracy: 0.4394 - val_auc: 0.4769 - val_loss: 0.0478
Epoch 6/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6934 - auc: 0.7780 - loss: 0.0355 - val_accuracy: 0.4233 - val_auc: 0.4520 - val_loss: 0.0481
Epoch 7/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7037 - auc: 0.7932 - loss: 0.0342 - val_accuracy: 0.3913 - val_auc: 0.4198 - val_loss: 0.0511
Epoch 8/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7334 - auc: 0.8180 - loss: 0.0327 - val_accuracy: 0.4165 - val_auc: 0.4388 - val_loss: 0.0499
Epoch 9/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7420 - auc: 0.8242 - loss: 0.0320 - val_accuracy: 0.4050 - val_auc: 0.4451 - val_loss: 0.0490
Epoch 10/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7740 - auc: 0.8566 - loss: 0.0300 - val_accuracy: 0.4050 - val_auc: 0.4373 - val_loss: 0.0507
Epoch 11/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7563 - auc: 0.8482 - loss: 0.0302 - val_accuracy: 0.4119 - val_auc: 0.4092 - val_loss: 0.0529
Epoch 12/50
55/55 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7895 - auc: 0.8681 - loss: 0.0289 - val_accuracy: 0.3776 - val_auc: 0.4137 - val_loss: 0.0547
2025-11-12 06:20:19.566 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 06:20:19.567 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0289, Accuracy: 0.7895, AUC: 0.8681
2025-11-12 06:20:19.567 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0547, Accuracy: 0.3776, AUC: 0.4137
2025-11-12 06:20:19.568 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:20:19.577 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:20:19.743 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2235 data points.
2025-11-12 06:20:19.756 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2215 sequences.
2025-11-12 06:20:20.414 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:20:20.421 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:20:20.421 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:20:20.422 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_999\GainX_999_H4'...
2025-11-12 06:20:20.527 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_H4\random_forest.pkl
2025-11-12 06:20:20.536 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_H4\gradient_boosting.pkl
2025-11-12 06:20:20.633 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_999\GainX_999_H4\lstm.keras and models\GainX_999\GainX_999_H4\lstm_scaler.pkl
2025-11-12 06:20:20.634 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_999\GainX_999_H4\feature_info.pkl
2025-11-12 06:20:20.643 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_999\GainX_999_H4\meta_model.pkl
2025-11-12 06:20:20.645 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_999\GainX_999_H4\training_metadata.json
2025-11-12 06:20:20.646 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 999 [4h] (40/50)
2025-11-12 06:20:20.647 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 1200 [1m] ---
2025-11-12 06:20:20.649 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 06:20:20.650 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 06:20:23.669 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 06:20:23.671 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 06:20:23.675 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 06:20:23.860 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [1m] from MT5
2025-11-12 06:20:23.861 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:20:26.122 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 1200\PainX 1200_M1.csv (20000 records)
2025-11-12 06:20:26.123 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:20:27.299 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:20:31.008 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:20:31.008 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:20:40.841 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16477 signals total, 12664 profitable (76.9% win rate), 3813 unprofitable
2025-11-12 06:20:40.927 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16477, 110), Shape of y: (16477,)
2025-11-12 06:20:40.939 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16477 data points.
2025-11-12 06:20:41.131 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16427 sequences.
2025-11-12 06:20:41.141 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:20:41.141 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:20:41.146 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:20:41.146 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:20:41.174 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:20:46.271 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:20:46.273 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:23:09.986 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:23:09.987 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:23:09.989 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:23:10.028 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:23:10.029 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3796), np.float64(1.0): np.int64(12631)}
2025-11-12 06:23:10.033 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16427
2025-11-12 06:23:10.160 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 12631 to 5694
2025-11-12 06:23:10.161 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3796), np.float64(1.0): np.int64(5694)}
2025-11-12 06:23:10.162 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9490
2025-11-12 06:23:10.165 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.6224 - auc: 0.6304 - loss: 0.0421 - val_accuracy: 0.6454 - val_auc: 0.6946 - val_loss: 0.0390
Epoch 2/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6455 - auc: 0.6715 - loss: 0.0402 - val_accuracy: 0.6644 - val_auc: 0.7014 - val_loss: 0.0390
Epoch 3/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6434 - auc: 0.6760 - loss: 0.0398 - val_accuracy: 0.6554 - val_auc: 0.7053 - val_loss: 0.0390
Epoch 4/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6506 - auc: 0.6865 - loss: 0.0395 - val_accuracy: 0.6712 - val_auc: 0.7182 - val_loss: 0.0386
Epoch 5/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6620 - auc: 0.6969 - loss: 0.0391 - val_accuracy: 0.6749 - val_auc: 0.7199 - val_loss: 0.0381
Epoch 6/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6624 - auc: 0.6974 - loss: 0.0390 - val_accuracy: 0.6686 - val_auc: 0.7192 - val_loss: 0.0381
Epoch 7/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6644 - auc: 0.7041 - loss: 0.0388 - val_accuracy: 0.6754 - val_auc: 0.7248 - val_loss: 0.0380
Epoch 8/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6675 - auc: 0.7066 - loss: 0.0387 - val_accuracy: 0.6776 - val_auc: 0.7282 - val_loss: 0.0378
Epoch 9/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6683 - auc: 0.7132 - loss: 0.0384 - val_accuracy: 0.6781 - val_auc: 0.7252 - val_loss: 0.0378
Epoch 10/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6802 - auc: 0.7174 - loss: 0.0382 - val_accuracy: 0.6913 - val_auc: 0.7345 - val_loss: 0.0376
Epoch 11/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6790 - auc: 0.7240 - loss: 0.0378 - val_accuracy: 0.6870 - val_auc: 0.7383 - val_loss: 0.0373
Epoch 12/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6787 - auc: 0.7314 - loss: 0.0375 - val_accuracy: 0.6828 - val_auc: 0.7396 - val_loss: 0.0371
Epoch 13/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6851 - auc: 0.7385 - loss: 0.0372 - val_accuracy: 0.6876 - val_auc: 0.7493 - val_loss: 0.0368
Epoch 14/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6876 - auc: 0.7483 - loss: 0.0367 - val_accuracy: 0.6844 - val_auc: 0.7447 - val_loss: 0.0369
Epoch 15/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6926 - auc: 0.7525 - loss: 0.0364 - val_accuracy: 0.6934 - val_auc: 0.7499 - val_loss: 0.0366
Epoch 16/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7031 - auc: 0.7630 - loss: 0.0361 - val_accuracy: 0.6902 - val_auc: 0.7461 - val_loss: 0.0369
Epoch 17/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7022 - auc: 0.7689 - loss: 0.0354 - val_accuracy: 0.7034 - val_auc: 0.7625 - val_loss: 0.0358
Epoch 18/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7084 - auc: 0.7781 - loss: 0.0349 - val_accuracy: 0.7023 - val_auc: 0.7634 - val_loss: 0.0357
Epoch 19/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7138 - auc: 0.7837 - loss: 0.0346 - val_accuracy: 0.6944 - val_auc: 0.7607 - val_loss: 0.0360
Epoch 20/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7172 - auc: 0.7847 - loss: 0.0346 - val_accuracy: 0.7139 - val_auc: 0.7693 - val_loss: 0.0358
Epoch 21/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7142 - auc: 0.7895 - loss: 0.0341 - val_accuracy: 0.7129 - val_auc: 0.7709 - val_loss: 0.0357
Epoch 22/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7229 - auc: 0.7952 - loss: 0.0337 - val_accuracy: 0.7065 - val_auc: 0.7770 - val_loss: 0.0348
Epoch 23/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7298 - auc: 0.8059 - loss: 0.0331 - val_accuracy: 0.7118 - val_auc: 0.7809 - val_loss: 0.0345
Epoch 24/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7248 - auc: 0.8047 - loss: 0.0332 - val_accuracy: 0.7160 - val_auc: 0.7870 - val_loss: 0.0342
Epoch 25/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7403 - auc: 0.8142 - loss: 0.0325 - val_accuracy: 0.7281 - val_auc: 0.7973 - val_loss: 0.0340
Epoch 26/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7388 - auc: 0.8237 - loss: 0.0318 - val_accuracy: 0.7297 - val_auc: 0.8021 - val_loss: 0.0336
Epoch 27/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7375 - auc: 0.8218 - loss: 0.0318 - val_accuracy: 0.7276 - val_auc: 0.7969 - val_loss: 0.0342
Epoch 28/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7426 - auc: 0.8292 - loss: 0.0313 - val_accuracy: 0.7255 - val_auc: 0.7985 - val_loss: 0.0336
Epoch 29/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7486 - auc: 0.8282 - loss: 0.0314 - val_accuracy: 0.7355 - val_auc: 0.8104 - val_loss: 0.0330
Epoch 30/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7561 - auc: 0.8412 - loss: 0.0304 - val_accuracy: 0.7397 - val_auc: 0.8121 - val_loss: 0.0330
Epoch 31/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7543 - auc: 0.8405 - loss: 0.0305 - val_accuracy: 0.7450 - val_auc: 0.8206 - val_loss: 0.0325
Epoch 32/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7536 - auc: 0.8411 - loss: 0.0303 - val_accuracy: 0.7397 - val_auc: 0.8061 - val_loss: 0.0338
Epoch 33/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7592 - auc: 0.8414 - loss: 0.0304 - val_accuracy: 0.7455 - val_auc: 0.8137 - val_loss: 0.0330
Epoch 34/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7670 - auc: 0.8522 - loss: 0.0296 - val_accuracy: 0.7513 - val_auc: 0.8303 - val_loss: 0.0315
Epoch 35/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7617 - auc: 0.8531 - loss: 0.0292 - val_accuracy: 0.7576 - val_auc: 0.8233 - val_loss: 0.0331
Epoch 36/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7741 - auc: 0.8618 - loss: 0.0287 - val_accuracy: 0.7545 - val_auc: 0.8353 - val_loss: 0.0311
Epoch 37/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7816 - auc: 0.8671 - loss: 0.0283 - val_accuracy: 0.7687 - val_auc: 0.8382 - val_loss: 0.0320
Epoch 38/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7787 - auc: 0.8675 - loss: 0.0281 - val_accuracy: 0.7619 - val_auc: 0.8407 - val_loss: 0.0311
Epoch 39/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7765 - auc: 0.8710 - loss: 0.0275 - val_accuracy: 0.7650 - val_auc: 0.8433 - val_loss: 0.0319
Epoch 40/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7831 - auc: 0.8701 - loss: 0.0278 - val_accuracy: 0.7576 - val_auc: 0.8371 - val_loss: 0.0312
Epoch 41/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7787 - auc: 0.8717 - loss: 0.0277 - val_accuracy: 0.7619 - val_auc: 0.8467 - val_loss: 0.0303
Epoch 42/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7883 - auc: 0.8790 - loss: 0.0272 - val_accuracy: 0.7682 - val_auc: 0.8461 - val_loss: 0.0305
Epoch 43/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7915 - auc: 0.8795 - loss: 0.0272 - val_accuracy: 0.7460 - val_auc: 0.8293 - val_loss: 0.0321
Epoch 44/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7852 - auc: 0.8795 - loss: 0.0268 - val_accuracy: 0.7576 - val_auc: 0.8470 - val_loss: 0.0302
Epoch 45/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7894 - auc: 0.8825 - loss: 0.0265 - val_accuracy: 0.7597 - val_auc: 0.8432 - val_loss: 0.0317
Epoch 46/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7900 - auc: 0.8839 - loss: 0.0264 - val_accuracy: 0.7671 - val_auc: 0.8480 - val_loss: 0.0316
Epoch 47/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7973 - auc: 0.8863 - loss: 0.0263 - val_accuracy: 0.7840 - val_auc: 0.8598 - val_loss: 0.0295
Epoch 48/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8027 - auc: 0.8956 - loss: 0.0252 - val_accuracy: 0.7650 - val_auc: 0.8488 - val_loss: 0.0303
Epoch 49/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8020 - auc: 0.8911 - loss: 0.0259 - val_accuracy: 0.7771 - val_auc: 0.8577 - val_loss: 0.0300
Epoch 50/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7969 - auc: 0.8897 - loss: 0.0259 - val_accuracy: 0.7608 - val_auc: 0.8533 - val_loss: 0.0300
2025-11-12 06:25:36.809 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 06:25:36.809 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0259, Accuracy: 0.7969, AUC: 0.8897
2025-11-12 06:25:36.811 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0300, Accuracy: 0.7608, AUC: 0.8533
2025-11-12 06:25:36.814 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:25:36.884 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:25:38.072 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16477 data points.
2025-11-12 06:25:38.162 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16457 sequences.
2025-11-12 06:25:40.032 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:25:40.053 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:25:40.055 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:25:40.055 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_1200\PainX_1200_M1'...
2025-11-12 06:25:40.249 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M1\random_forest.pkl
2025-11-12 06:25:40.268 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M1\gradient_boosting.pkl
2025-11-12 06:25:40.348 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_1200\PainX_1200_M1\lstm.keras and models\PainX_1200\PainX_1200_M1\lstm_scaler.pkl
2025-11-12 06:25:40.353 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_1200\PainX_1200_M1\feature_info.pkl
2025-11-12 06:25:40.360 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_1200\PainX_1200_M1\meta_model.pkl
2025-11-12 06:25:40.392 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_1200\PainX_1200_M1\training_metadata.json
2025-11-12 06:25:40.392 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 1200 [1m] (41/50)
2025-11-12 06:25:40.395 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 1200 [5m] ---
2025-11-12 06:25:40.544 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [5m] from MT5
2025-11-12 06:25:40.545 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:25:42.866 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 1200\PainX 1200_M5.csv (20000 records)
2025-11-12 06:25:42.867 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:25:44.026 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:25:47.615 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:25:47.616 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:25:56.881 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15427 signals total, 10169 profitable (65.9% win rate), 5258 unprofitable
2025-11-12 06:25:56.964 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15427, 110), Shape of y: (15427,)
2025-11-12 06:25:56.977 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15427 data points.
2025-11-12 06:25:57.157 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15377 sequences.
2025-11-12 06:25:57.220 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:25:57.220 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:25:57.225 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:25:57.225 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:25:57.253 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:26:02.793 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:26:02.794 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:28:40.316 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:28:40.318 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:28:40.318 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:28:40.360 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:28:40.361 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5224), np.float64(1.0): np.int64(10153)}
2025-11-12 06:28:40.362 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15377
2025-11-12 06:28:40.537 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 10153 to 7836
2025-11-12 06:28:40.537 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5224), np.float64(1.0): np.int64(7836)}
2025-11-12 06:28:40.538 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 13060
2025-11-12 06:28:40.542 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5551 - auc: 0.5359 - loss: 0.0450 - val_accuracy: 0.5980 - val_auc: 0.5886 - val_loss: 0.0417
Epoch 2/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6001 - auc: 0.5689 - loss: 0.0419 - val_accuracy: 0.6106 - val_auc: 0.5924 - val_loss: 0.0416
Epoch 3/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6141 - auc: 0.5951 - loss: 0.0415 - val_accuracy: 0.6087 - val_auc: 0.6005 - val_loss: 0.0415
Epoch 4/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6176 - auc: 0.5948 - loss: 0.0414 - val_accuracy: 0.6133 - val_auc: 0.6086 - val_loss: 0.0413
Epoch 5/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6198 - auc: 0.5988 - loss: 0.0413 - val_accuracy: 0.6122 - val_auc: 0.6006 - val_loss: 0.0414
Epoch 6/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6223 - auc: 0.6088 - loss: 0.0412 - val_accuracy: 0.6217 - val_auc: 0.6228 - val_loss: 0.0409
Epoch 7/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6318 - auc: 0.6261 - loss: 0.0407 - val_accuracy: 0.6260 - val_auc: 0.6209 - val_loss: 0.0410
Epoch 8/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6351 - auc: 0.6364 - loss: 0.0405 - val_accuracy: 0.6367 - val_auc: 0.6458 - val_loss: 0.0404
Epoch 9/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6445 - auc: 0.6490 - loss: 0.0402 - val_accuracy: 0.6447 - val_auc: 0.6389 - val_loss: 0.0403
Epoch 10/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6541 - auc: 0.6615 - loss: 0.0397 - val_accuracy: 0.6459 - val_auc: 0.6602 - val_loss: 0.0400
Epoch 11/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6631 - auc: 0.6763 - loss: 0.0393 - val_accuracy: 0.6593 - val_auc: 0.6624 - val_loss: 0.0397
Epoch 12/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6693 - auc: 0.6896 - loss: 0.0388 - val_accuracy: 0.6646 - val_auc: 0.6840 - val_loss: 0.0392
Epoch 13/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6777 - auc: 0.6982 - loss: 0.0385 - val_accuracy: 0.6608 - val_auc: 0.6780 - val_loss: 0.0392
Epoch 14/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6853 - auc: 0.7118 - loss: 0.0379 - val_accuracy: 0.6730 - val_auc: 0.7049 - val_loss: 0.0384
Epoch 15/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6924 - auc: 0.7278 - loss: 0.0373 - val_accuracy: 0.6838 - val_auc: 0.7048 - val_loss: 0.0382
Epoch 16/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7036 - auc: 0.7420 - loss: 0.0367 - val_accuracy: 0.6773 - val_auc: 0.7097 - val_loss: 0.0384
Epoch 17/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7056 - auc: 0.7542 - loss: 0.0362 - val_accuracy: 0.6849 - val_auc: 0.7226 - val_loss: 0.0378
Epoch 18/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7153 - auc: 0.7593 - loss: 0.0358 - val_accuracy: 0.6937 - val_auc: 0.7415 - val_loss: 0.0370
Epoch 19/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7244 - auc: 0.7776 - loss: 0.0349 - val_accuracy: 0.7071 - val_auc: 0.7536 - val_loss: 0.0365
Epoch 20/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7344 - auc: 0.7884 - loss: 0.0343 - val_accuracy: 0.7067 - val_auc: 0.7561 - val_loss: 0.0362
Epoch 21/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7432 - auc: 0.7962 - loss: 0.0338 - val_accuracy: 0.7075 - val_auc: 0.7641 - val_loss: 0.0363
Epoch 22/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7460 - auc: 0.8014 - loss: 0.0334 - val_accuracy: 0.7132 - val_auc: 0.7602 - val_loss: 0.0365
Epoch 23/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7536 - auc: 0.8112 - loss: 0.0327 - val_accuracy: 0.7121 - val_auc: 0.7723 - val_loss: 0.0358
Epoch 24/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7539 - auc: 0.8153 - loss: 0.0326 - val_accuracy: 0.7079 - val_auc: 0.7636 - val_loss: 0.0362
Epoch 25/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7594 - auc: 0.8211 - loss: 0.0322 - val_accuracy: 0.7316 - val_auc: 0.7902 - val_loss: 0.0348
Epoch 26/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7650 - auc: 0.8313 - loss: 0.0312 - val_accuracy: 0.7243 - val_auc: 0.7866 - val_loss: 0.0351
Epoch 27/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7695 - auc: 0.8360 - loss: 0.0312 - val_accuracy: 0.7289 - val_auc: 0.7935 - val_loss: 0.0346
Epoch 28/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7724 - auc: 0.8444 - loss: 0.0305 - val_accuracy: 0.7408 - val_auc: 0.7999 - val_loss: 0.0342
Epoch 29/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7836 - auc: 0.8505 - loss: 0.0300 - val_accuracy: 0.7370 - val_auc: 0.8038 - val_loss: 0.0340
Epoch 30/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7853 - auc: 0.8569 - loss: 0.0296 - val_accuracy: 0.7366 - val_auc: 0.8017 - val_loss: 0.0343
Epoch 31/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7891 - auc: 0.8606 - loss: 0.0292 - val_accuracy: 0.7557 - val_auc: 0.8167 - val_loss: 0.0335
Epoch 32/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7929 - auc: 0.8662 - loss: 0.0288 - val_accuracy: 0.7446 - val_auc: 0.8140 - val_loss: 0.0334
Epoch 33/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7912 - auc: 0.8679 - loss: 0.0285 - val_accuracy: 0.7550 - val_auc: 0.8249 - val_loss: 0.0327
Epoch 34/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7941 - auc: 0.8707 - loss: 0.0282 - val_accuracy: 0.7550 - val_auc: 0.8236 - val_loss: 0.0326
Epoch 35/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8058 - auc: 0.8767 - loss: 0.0277 - val_accuracy: 0.7496 - val_auc: 0.8286 - val_loss: 0.0329
Epoch 36/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8054 - auc: 0.8818 - loss: 0.0271 - val_accuracy: 0.7531 - val_auc: 0.8290 - val_loss: 0.0337
Epoch 37/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8069 - auc: 0.8844 - loss: 0.0268 - val_accuracy: 0.7592 - val_auc: 0.8308 - val_loss: 0.0325
Epoch 38/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8114 - auc: 0.8879 - loss: 0.0265 - val_accuracy: 0.7649 - val_auc: 0.8338 - val_loss: 0.0327
Epoch 39/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8105 - auc: 0.8886 - loss: 0.0263 - val_accuracy: 0.7577 - val_auc: 0.8318 - val_loss: 0.0330
Epoch 40/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8183 - auc: 0.8945 - loss: 0.0261 - val_accuracy: 0.7580 - val_auc: 0.8318 - val_loss: 0.0339
Epoch 41/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8248 - auc: 0.8967 - loss: 0.0258 - val_accuracy: 0.7634 - val_auc: 0.8354 - val_loss: 0.0331
Epoch 42/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8165 - auc: 0.8996 - loss: 0.0252 - val_accuracy: 0.7600 - val_auc: 0.8371 - val_loss: 0.0329
Epoch 43/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8184 - auc: 0.8993 - loss: 0.0255 - val_accuracy: 0.7776 - val_auc: 0.8458 - val_loss: 0.0322
Epoch 44/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8257 - auc: 0.9047 - loss: 0.0246 - val_accuracy: 0.7722 - val_auc: 0.8427 - val_loss: 0.0328
Epoch 45/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8260 - auc: 0.9027 - loss: 0.0249 - val_accuracy: 0.7753 - val_auc: 0.8457 - val_loss: 0.0326
Epoch 46/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8225 - auc: 0.9000 - loss: 0.0251 - val_accuracy: 0.7649 - val_auc: 0.8453 - val_loss: 0.0333
Epoch 47/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8224 - auc: 0.9063 - loss: 0.0244 - val_accuracy: 0.7734 - val_auc: 0.8440 - val_loss: 0.0325
Epoch 48/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8332 - auc: 0.9099 - loss: 0.0242 - val_accuracy: 0.7776 - val_auc: 0.8501 - val_loss: 0.0319
Epoch 49/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8340 - auc: 0.9106 - loss: 0.0240 - val_accuracy: 0.7753 - val_auc: 0.8458 - val_loss: 0.0324
Epoch 50/50
327/327 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8277 - auc: 0.9085 - loss: 0.0242 - val_accuracy: 0.7734 - val_auc: 0.8479 - val_loss: 0.0326
2025-11-12 06:31:56.333 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 06:31:56.333 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0242, Accuracy: 0.8277, AUC: 0.9085
2025-11-12 06:31:56.335 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0326, Accuracy: 0.7734, AUC: 0.8479
2025-11-12 06:31:56.335 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:31:56.451 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:31:57.567 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15427 data points.
2025-11-12 06:31:57.654 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15407 sequences.
2025-11-12 06:31:59.428 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:31:59.449 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:31:59.450 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:31:59.451 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_1200\PainX_1200_M5'...
2025-11-12 06:31:59.630 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M5\random_forest.pkl
2025-11-12 06:31:59.657 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M5\gradient_boosting.pkl
2025-11-12 06:31:59.719 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_1200\PainX_1200_M5\lstm.keras and models\PainX_1200\PainX_1200_M5\lstm_scaler.pkl
2025-11-12 06:31:59.745 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_1200\PainX_1200_M5\feature_info.pkl
2025-11-12 06:31:59.753 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_1200\PainX_1200_M5\meta_model.pkl
2025-11-12 06:31:59.759 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_1200\PainX_1200_M5\training_metadata.json
2025-11-12 06:31:59.760 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 1200 [5m] (42/50)
2025-11-12 06:31:59.760 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 1200 [15m] ---
2025-11-12 06:31:59.964 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [15m] from MT5
2025-11-12 06:31:59.965 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 06:32:02.151 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 1200\PainX 1200_M15.csv (20000 records)
2025-11-12 06:32:02.152 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:32:03.339 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:32:06.922 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:32:06.923 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:32:16.214 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15326 signals total, 8964 profitable (58.5% win rate), 6362 unprofitable
2025-11-12 06:32:16.297 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15326, 110), Shape of y: (15326,)
2025-11-12 06:32:16.310 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15326 data points.
2025-11-12 06:32:16.488 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15276 sequences.
2025-11-12 06:32:16.562 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:32:16.562 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:32:16.567 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:32:16.567 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:32:16.597 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:32:22.434 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:32:22.435 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:35:07.778 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:35:07.780 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:35:07.781 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:35:08.578 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:35:08.579 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(6350), np.float64(1.0): np.int64(8926)}
2025-11-12 06:35:08.580 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15276
2025-11-12 06:35:08.583 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:35:08.584 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(6350), np.float64(1.0): np.int64(8926)}
2025-11-12 06:35:08.584 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 15276
2025-11-12 06:35:08.584 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2028346456692913), 1: np.float64(0.8557024423033833)}
Epoch 1/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 7s 12ms/step - accuracy: 0.5476 - auc: 0.5213 - loss: 0.0453 - val_accuracy: 0.5779 - val_auc: 0.5290 - val_loss: 0.0428
Epoch 2/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5811 - auc: 0.5571 - loss: 0.0424 - val_accuracy: 0.5854 - val_auc: 0.5454 - val_loss: 0.0424
Epoch 3/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5833 - auc: 0.5681 - loss: 0.0421 - val_accuracy: 0.5730 - val_auc: 0.5180 - val_loss: 0.0426
Epoch 4/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5906 - auc: 0.5927 - loss: 0.0416 - val_accuracy: 0.5808 - val_auc: 0.5334 - val_loss: 0.0426
Epoch 5/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5957 - auc: 0.6035 - loss: 0.0415 - val_accuracy: 0.5740 - val_auc: 0.5185 - val_loss: 0.0428
Epoch 6/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5950 - auc: 0.6217 - loss: 0.0410 - val_accuracy: 0.5700 - val_auc: 0.5208 - val_loss: 0.0430
Epoch 7/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5989 - auc: 0.6423 - loss: 0.0403 - val_accuracy: 0.5651 - val_auc: 0.5325 - val_loss: 0.0430
Epoch 8/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6128 - auc: 0.6584 - loss: 0.0399 - val_accuracy: 0.5812 - val_auc: 0.5363 - val_loss: 0.0431
Epoch 9/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6171 - auc: 0.6739 - loss: 0.0393 - val_accuracy: 0.5429 - val_auc: 0.5421 - val_loss: 0.0437
Epoch 10/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6413 - auc: 0.6982 - loss: 0.0384 - val_accuracy: 0.5108 - val_auc: 0.5318 - val_loss: 0.0437
Epoch 11/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6478 - auc: 0.7098 - loss: 0.0378 - val_accuracy: 0.4971 - val_auc: 0.5200 - val_loss: 0.0438
Epoch 12/50
382/382 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6675 - auc: 0.7343 - loss: 0.0371 - val_accuracy: 0.4967 - val_auc: 0.5118 - val_loss: 0.0465
2025-11-12 06:36:05.996 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 06:36:05.996 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0371, Accuracy: 0.6675, AUC: 0.7343
2025-11-12 06:36:05.998 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0465, Accuracy: 0.4967, AUC: 0.5118
2025-11-12 06:36:06.000 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:36:06.065 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:36:07.167 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15326 data points.
2025-11-12 06:36:07.249 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15306 sequences.
2025-11-12 06:36:09.036 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:36:09.065 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:36:09.066 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:36:09.066 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_1200\PainX_1200_M15'...
2025-11-12 06:36:09.300 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M15\random_forest.pkl
2025-11-12 06:36:09.332 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M15\gradient_boosting.pkl
2025-11-12 06:36:09.480 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_1200\PainX_1200_M15\lstm.keras and models\PainX_1200\PainX_1200_M15\lstm_scaler.pkl
2025-11-12 06:36:09.505 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_1200\PainX_1200_M15\feature_info.pkl
2025-11-12 06:36:09.506 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_1200\PainX_1200_M15\meta_model.pkl
2025-11-12 06:36:09.508 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_1200\PainX_1200_M15\training_metadata.json
2025-11-12 06:36:09.510 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 1200 [15m] (43/50)
2025-11-12 06:36:09.510 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 1200 [1h] ---
2025-11-12 06:36:09.773 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16345 candles for PainX 1200 [1h] from MT5
2025-11-12 06:36:09.775 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16345 candles (minimum: 2000)
2025-11-12 06:36:12.068 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 1200\PainX 1200_H1.csv (16345 records)
2025-11-12 06:36:12.069 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:36:13.049 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:36:16.008 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:36:16.009 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:36:23.607 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12410 signals total, 6875 profitable (55.4% win rate), 5535 unprofitable
2025-11-12 06:36:23.678 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12410, 110), Shape of y: (12410,)
2025-11-12 06:36:23.692 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12410 data points.
2025-11-12 06:36:23.837 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12360 sequences.
2025-11-12 06:36:23.895 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:36:23.896 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:36:23.903 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:36:23.903 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:36:23.927 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:36:28.725 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:36:28.727 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:38:42.886 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:38:42.888 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:38:42.889 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:38:42.929 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:38:42.929 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5519), np.float64(1.0): np.int64(6841)}
2025-11-12 06:38:42.931 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12360
2025-11-12 06:38:42.934 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:38:42.934 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5519), np.float64(1.0): np.int64(6841)}
2025-11-12 06:38:42.935 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12360
2025-11-12 06:38:42.935 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.119768073926436), 1: np.float64(0.9033766993129659)}
Epoch 1/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5403 - auc: 0.5361 - loss: 0.0448 - val_accuracy: 0.5146 - val_auc: 0.4983 - val_loss: 0.0438
Epoch 2/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5834 - auc: 0.5953 - loss: 0.0422 - val_accuracy: 0.5061 - val_auc: 0.5108 - val_loss: 0.0442
Epoch 3/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.5914 - auc: 0.6070 - loss: 0.0419 - val_accuracy: 0.5320 - val_auc: 0.5396 - val_loss: 0.0440
Epoch 4/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6207 - auc: 0.6564 - loss: 0.0406 - val_accuracy: 0.5162 - val_auc: 0.5168 - val_loss: 0.0470
Epoch 5/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6395 - auc: 0.6839 - loss: 0.0397 - val_accuracy: 0.5267 - val_auc: 0.5231 - val_loss: 0.0482
Epoch 6/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6710 - auc: 0.7350 - loss: 0.0377 - val_accuracy: 0.5316 - val_auc: 0.5367 - val_loss: 0.0486
Epoch 7/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6925 - auc: 0.7649 - loss: 0.0362 - val_accuracy: 0.4640 - val_auc: 0.5063 - val_loss: 0.0561
Epoch 8/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7089 - auc: 0.7868 - loss: 0.0351 - val_accuracy: 0.5206 - val_auc: 0.5257 - val_loss: 0.0508
Epoch 9/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7327 - auc: 0.8139 - loss: 0.0335 - val_accuracy: 0.4947 - val_auc: 0.5045 - val_loss: 0.0566
Epoch 10/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7373 - auc: 0.8227 - loss: 0.0325 - val_accuracy: 0.4790 - val_auc: 0.4983 - val_loss: 0.0617
Epoch 11/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7502 - auc: 0.8344 - loss: 0.0317 - val_accuracy: 0.4814 - val_auc: 0.5019 - val_loss: 0.0637
2025-11-12 06:39:18.709 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:39:18.709 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0317, Accuracy: 0.7502, AUC: 0.8344
2025-11-12 06:39:18.711 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0637, Accuracy: 0.4814, AUC: 0.5019
2025-11-12 06:39:18.711 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:39:18.756 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:39:19.648 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12410 data points.
2025-11-12 06:39:19.715 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12390 sequences.
2025-11-12 06:39:21.186 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:39:21.208 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:39:21.209 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:39:21.209 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_1200\PainX_1200_H1'...
2025-11-12 06:39:21.295 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_H1\random_forest.pkl
2025-11-12 06:39:21.372 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_H1\gradient_boosting.pkl
2025-11-12 06:39:21.421 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_1200\PainX_1200_H1\lstm.keras and models\PainX_1200\PainX_1200_H1\lstm_scaler.pkl
2025-11-12 06:39:21.422 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_1200\PainX_1200_H1\feature_info.pkl
2025-11-12 06:39:21.424 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_1200\PainX_1200_H1\meta_model.pkl
2025-11-12 06:39:21.427 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_1200\PainX_1200_H1\training_metadata.json
2025-11-12 06:39:21.427 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 1200 [1h] (44/50)
2025-11-12 06:39:21.427 | INFO     | __main__:train_from_mt5:361 -
--- Training PainX 1200 [4h] ---
2025-11-12 06:39:21.522 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4090 candles for PainX 1200 [4h] from MT5
2025-11-12 06:39:21.523 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4090 candles (minimum: 2000)
2025-11-12 06:39:23.723 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\PainX 1200\PainX 1200_H4.csv (4090 records)
2025-11-12 06:39:23.724 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:39:24.005 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:39:24.758 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:39:24.758 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:39:26.619 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 3037 signals total, 1675 profitable (55.2% win rate), 1362 unprofitable
2025-11-12 06:39:26.639 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (3037, 110), Shape of y: (3037,)
2025-11-12 06:39:26.645 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 3037 data points.
2025-11-12 06:39:26.681 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2987 sequences.
2025-11-12 06:39:26.725 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:39:26.725 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:39:26.732 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:39:26.733 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:39:26.739 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:39:28.067 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:39:28.067 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:39:59.549 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:39:59.550 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:39:59.551 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:39:59.593 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:39:59.594 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1341), np.float64(1.0): np.int64(1646)}
2025-11-12 06:39:59.598 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2987
2025-11-12 06:39:59.598 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:39:59.599 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1341), np.float64(1.0): np.int64(1646)}
2025-11-12 06:39:59.599 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2987
2025-11-12 06:39:59.600 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1137211036539896), 1: np.float64(0.9073511543134872)}
Epoch 1/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 3s 17ms/step - accuracy: 0.5354 - auc: 0.5602 - loss: 0.0457 - val_accuracy: 0.5033 - val_auc: 0.4994 - val_loss: 0.0441
Epoch 2/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.6011 - auc: 0.6230 - loss: 0.0418 - val_accuracy: 0.5368 - val_auc: 0.5596 - val_loss: 0.0432
Epoch 3/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.6224 - auc: 0.6809 - loss: 0.0397 - val_accuracy: 0.5151 - val_auc: 0.5240 - val_loss: 0.0436
Epoch 4/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.6664 - auc: 0.7180 - loss: 0.0384 - val_accuracy: 0.5284 - val_auc: 0.5053 - val_loss: 0.0446
Epoch 5/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.6882 - auc: 0.7606 - loss: 0.0363 - val_accuracy: 0.4883 - val_auc: 0.4990 - val_loss: 0.0452
Epoch 6/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7108 - auc: 0.7809 - loss: 0.0356 - val_accuracy: 0.5151 - val_auc: 0.4958 - val_loss: 0.0462
Epoch 7/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7325 - auc: 0.8099 - loss: 0.0336 - val_accuracy: 0.4883 - val_auc: 0.4941 - val_loss: 0.0479
Epoch 8/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7576 - auc: 0.8271 - loss: 0.0325 - val_accuracy: 0.5017 - val_auc: 0.5068 - val_loss: 0.0467
Epoch 9/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7610 - auc: 0.8468 - loss: 0.0308 - val_accuracy: 0.5351 - val_auc: 0.5015 - val_loss: 0.0513
Epoch 10/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7815 - auc: 0.8655 - loss: 0.0292 - val_accuracy: 0.5318 - val_auc: 0.4826 - val_loss: 0.0558
Epoch 11/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7869 - auc: 0.8589 - loss: 0.0297 - val_accuracy: 0.4900 - val_auc: 0.4759 - val_loss: 0.0532
Epoch 12/50
75/75 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7991 - auc: 0.8818 - loss: 0.0279 - val_accuracy: 0.4916 - val_auc: 0.4679 - val_loss: 0.0570
2025-11-12 06:40:14.527 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 12
2025-11-12 06:40:14.528 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0279, Accuracy: 0.7991, AUC: 0.8818
2025-11-12 06:40:14.528 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0570, Accuracy: 0.4916, AUC: 0.4679
2025-11-12 06:40:14.529 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:40:14.540 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:40:14.761 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 3037 data points.
2025-11-12 06:40:14.778 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 3017 sequences.
2025-11-12 06:40:15.394 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:40:15.402 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:40:15.403 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:40:15.403 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\PainX_1200\PainX_1200_H4'...
2025-11-12 06:40:15.490 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_H4\random_forest.pkl
2025-11-12 06:40:15.553 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_H4\gradient_boosting.pkl
2025-11-12 06:40:15.579 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\PainX_1200\PainX_1200_H4\lstm.keras and models\PainX_1200\PainX_1200_H4\lstm_scaler.pkl
2025-11-12 06:40:15.580 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\PainX_1200\PainX_1200_H4\feature_info.pkl
2025-11-12 06:40:15.581 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\PainX_1200\PainX_1200_H4\meta_model.pkl
2025-11-12 06:40:15.582 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\PainX_1200\PainX_1200_H4\training_metadata.json
2025-11-12 06:40:15.584 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training PainX 1200 [4h] (45/50)
2025-11-12 06:40:15.584 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 1200 [1m] ---
2025-11-12 06:40:15.587 | INFO     | __main__:train_from_mt5:365 - Reconnecting to MT5 to prevent IPC errors...
2025-11-12 06:40:15.588 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-12 06:40:18.616 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-12 06:40:18.618 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-12 06:40:18.623 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 765.25, Server: Weltrade-Demo
2025-11-12 06:40:18.769 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [1m] from MT5
2025-11-12 06:40:18.771 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:40:21.006 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 1200\GainX 1200_M1.csv (20000 records)
2025-11-12 06:40:21.006 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:40:22.174 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:40:25.778 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:40:25.779 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:40:35.630 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 16738 signals total, 13116 profitable (78.4% win rate), 3622 unprofitable
2025-11-12 06:40:35.717 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (16738, 110), Shape of y: (16738,)
2025-11-12 06:40:35.729 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16738 data points.
2025-11-12 06:40:35.924 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16688 sequences.
2025-11-12 06:40:35.937 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:40:35.938 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:40:35.941 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:40:35.941 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:40:35.969 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:40:41.163 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:40:41.165 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:43:03.481 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:43:03.483 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:43:03.484 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:43:03.527 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:43:03.528 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(3609), np.float64(1.0): np.int64(13079)}
2025-11-12 06:43:03.529 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 16688
2025-11-12 06:43:03.657 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 13079 to 5413
2025-11-12 06:43:03.657 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(3609), np.float64(1.0): np.int64(5413)}
2025-11-12 06:43:03.659 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 9022
2025-11-12 06:43:03.662 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499307287337214), 1: np.float64(0.8333641234066137)}
Epoch 1/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 5s 14ms/step - accuracy: 0.5132 - auc: 0.4952 - loss: 0.0519 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0422
Epoch 2/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5569 - auc: 0.4932 - loss: 0.0438 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0424
Epoch 3/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5857 - auc: 0.5006 - loss: 0.0429 - val_accuracy: 0.6033 - val_auc: 0.5016 - val_loss: 0.0423
Epoch 4/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5897 - auc: 0.5180 - loss: 0.0425 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0422
Epoch 5/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5947 - auc: 0.5019 - loss: 0.0425 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0422
Epoch 6/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.4988 - loss: 0.0424 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0422
Epoch 7/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5982 - auc: 0.4890 - loss: 0.0424 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0422
Epoch 8/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.6009 - auc: 0.4892 - loss: 0.0424 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 9/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5993 - auc: 0.5010 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 10/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5986 - auc: 0.4984 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 11/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.5022 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 12/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.4934 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 13/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5989 - auc: 0.5043 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5009 - val_loss: 0.0421
Epoch 14/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.5039 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 15/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.5014 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 16/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5996 - auc: 0.5067 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 17/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.4900 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 18/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5998 - auc: 0.4953 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 19/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.5001 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 20/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.4912 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 21/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5989 - auc: 0.5053 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 22/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.5012 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 23/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4932 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 24/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4981 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 25/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5998 - auc: 0.4961 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 26/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.4851 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 27/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.5018 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 28/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.4919 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 29/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.4977 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 30/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5997 - auc: 0.4959 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 31/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5991 - auc: 0.4952 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 32/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.5034 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 33/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5997 - auc: 0.5060 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 34/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6001 - auc: 0.4966 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 35/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.4977 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 36/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.4866 - loss: 0.0423 - val_accuracy: 0.6028 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 37/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5997 - auc: 0.5044 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 38/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.4985 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 39/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5997 - auc: 0.4950 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 40/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5991 - auc: 0.5008 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 41/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4957 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 42/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.6000 - auc: 0.4898 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 43/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5996 - auc: 0.4979 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 44/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5991 - auc: 0.5049 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 45/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6001 - auc: 0.4954 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 46/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6001 - auc: 0.4998 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 47/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.4991 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 48/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 13ms/step - accuracy: 0.5994 - auc: 0.4999 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 49/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5997 - auc: 0.5044 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
Epoch 50/50
226/226 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.5029 - loss: 0.0423 - val_accuracy: 0.6039 - val_auc: 0.5016 - val_loss: 0.0421
2025-11-12 06:45:25.594 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 50
2025-11-12 06:45:25.595 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.5994, AUC: 0.5029
2025-11-12 06:45:25.598 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0421, Accuracy: 0.6039, AUC: 0.5016
2025-11-12 06:45:25.599 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:45:25.667 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:45:26.865 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16738 data points.
2025-11-12 06:45:26.956 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16718 sequences.
2025-11-12 06:45:28.858 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:45:28.880 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:45:28.882 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:45:28.882 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_1200\GainX_1200_M1'...
2025-11-12 06:45:28.971 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M1\random_forest.pkl
2025-11-12 06:45:29.006 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M1\gradient_boosting.pkl
2025-11-12 06:45:29.037 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_1200\GainX_1200_M1\lstm.keras and models\GainX_1200\GainX_1200_M1\lstm_scaler.pkl
2025-11-12 06:45:29.060 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_1200\GainX_1200_M1\feature_info.pkl
2025-11-12 06:45:29.061 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_1200\GainX_1200_M1\meta_model.pkl
2025-11-12 06:45:29.062 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_1200\GainX_1200_M1\training_metadata.json
2025-11-12 06:45:29.062 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 1200 [1m] (46/50)
2025-11-12 06:45:29.063 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 1200 [5m] ---
2025-11-12 06:45:29.225 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [5m] from MT5
2025-11-12 06:45:29.227 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-12 06:45:31.434 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 1200\GainX 1200_M5.csv (20000 records)
2025-11-12 06:45:31.434 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:45:32.596 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:45:36.184 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:45:36.185 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:45:45.508 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15403 signals total, 10118 profitable (65.7% win rate), 5285 unprofitable
2025-11-12 06:45:45.589 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15403, 110), Shape of y: (15403,)
2025-11-12 06:45:45.603 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15403 data points.
2025-11-12 06:45:45.783 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15353 sequences.
2025-11-12 06:45:45.846 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:45:45.846 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:45:45.851 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:45:45.851 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:45:45.877 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:45:51.302 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:45:51.304 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:48:31.264 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:48:31.265 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:48:31.266 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:48:31.307 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:48:31.307 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5281), np.float64(1.0): np.int64(10072)}
2025-11-12 06:48:31.309 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15353
2025-11-12 06:48:31.500 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 10072 to 7921
2025-11-12 06:48:31.501 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5281), np.float64(1.0): np.int64(7921)}
2025-11-12 06:48:31.502 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 13202
2025-11-12 06:48:31.505 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499526604809694), 1: np.float64(0.8333543744476708)}
Epoch 1/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.5259 - auc: 0.4978 - loss: 0.0475 - val_accuracy: 0.5960 - val_auc: 0.4995 - val_loss: 0.0427
Epoch 2/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5765 - auc: 0.4953 - loss: 0.0430 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 3/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5884 - auc: 0.5004 - loss: 0.0425 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 4/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.5965 - auc: 0.4992 - loss: 0.0424 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 5/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6001 - auc: 0.4920 - loss: 0.0424 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 6/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6007 - auc: 0.4783 - loss: 0.0424 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 7/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6008 - auc: 0.4948 - loss: 0.0423 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 8/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6011 - auc: 0.4989 - loss: 0.0423 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 9/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6010 - auc: 0.4968 - loss: 0.0423 - val_accuracy: 0.5967 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 10/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6013 - auc: 0.4952 - loss: 0.0423 - val_accuracy: 0.5956 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 11/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6012 - auc: 0.5011 - loss: 0.0422 - val_accuracy: 0.5960 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 12/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6012 - auc: 0.4940 - loss: 0.0422 - val_accuracy: 0.5960 - val_auc: 0.4995 - val_loss: 0.0423
Epoch 13/50
331/331 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6010 - auc: 0.4912 - loss: 0.0423 - val_accuracy: 0.5956 - val_auc: 0.4995 - val_loss: 0.0423
2025-11-12 06:49:27.458 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 13
2025-11-12 06:49:27.459 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0423, Accuracy: 0.6010, AUC: 0.4912
2025-11-12 06:49:27.460 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0423, Accuracy: 0.5956, AUC: 0.4995
2025-11-12 06:49:27.463 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:49:27.585 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:49:28.701 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15403 data points.
2025-11-12 06:49:28.787 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15383 sequences.
2025-11-12 06:49:30.621 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:49:30.636 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:49:30.637 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:49:30.638 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_1200\GainX_1200_M5'...
2025-11-12 06:49:30.849 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M5\random_forest.pkl
2025-11-12 06:49:30.864 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M5\gradient_boosting.pkl
2025-11-12 06:49:30.895 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_1200\GainX_1200_M5\lstm.keras and models\GainX_1200\GainX_1200_M5\lstm_scaler.pkl
2025-11-12 06:49:30.896 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_1200\GainX_1200_M5\feature_info.pkl
2025-11-12 06:49:30.898 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_1200\GainX_1200_M5\meta_model.pkl
2025-11-12 06:49:30.899 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_1200\GainX_1200_M5\training_metadata.json
2025-11-12 06:49:30.901 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 1200 [5m] (47/50)
2025-11-12 06:49:30.901 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 1200 [15m] ---
2025-11-12 06:49:31.133 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [15m] from MT5
2025-11-12 06:49:31.135 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-12 06:49:33.482 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 1200\GainX 1200_M15.csv (20000 records)
2025-11-12 06:49:33.483 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:49:34.665 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:49:38.280 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:49:38.281 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:49:47.445 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 15187 signals total, 9280 profitable (61.1% win rate), 5907 unprofitable
2025-11-12 06:49:47.521 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (15187, 110), Shape of y: (15187,)
2025-11-12 06:49:47.534 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 15187 data points.
2025-11-12 06:49:47.703 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15137 sequences.
2025-11-12 06:49:47.788 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:49:47.788 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:49:47.793 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:49:47.793 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:49:47.822 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:49:53.578 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:49:53.579 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:52:38.133 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:52:38.134 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:52:38.135 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:52:38.176 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:52:38.177 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5883), np.float64(1.0): np.int64(9254)}
2025-11-12 06:52:38.178 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 15137
2025-11-12 06:52:38.375 | INFO     | src.ai_engine.ai_models:fit:674 - Applied undersampling: Profitable (class 1) reduced from 9254 to 8824
2025-11-12 06:52:38.376 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5883), np.float64(1.0): np.int64(8824)}
2025-11-12 06:52:38.377 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 14707
2025-11-12 06:52:38.380 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.2499575046744857), 1: np.float64(0.8333522212148685)}
Epoch 1/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 7s 13ms/step - accuracy: 0.5584 - auc: 0.4914 - loss: 0.0440 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0423
Epoch 2/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5933 - auc: 0.5042 - loss: 0.0425 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 3/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6008 - auc: 0.5016 - loss: 0.0423 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 4/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6003 - auc: 0.4976 - loss: 0.0423 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 5/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6018 - auc: 0.5020 - loss: 0.0423 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 6/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6018 - auc: 0.5108 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 7/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6018 - auc: 0.5003 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 8/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6018 - auc: 0.4933 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 9/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6018 - auc: 0.5081 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5012 - val_loss: 0.0424
Epoch 10/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.6018 - auc: 0.4961 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5015 - val_loss: 0.0424
Epoch 11/50
368/368 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6015 - auc: 0.4976 - loss: 0.0422 - val_accuracy: 0.5928 - val_auc: 0.5012 - val_loss: 0.0424
2025-11-12 06:53:30.105 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:53:30.105 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0422, Accuracy: 0.6015, AUC: 0.4976
2025-11-12 06:53:30.108 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0424, Accuracy: 0.5928, AUC: 0.5012
2025-11-12 06:53:30.109 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:53:30.213 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:53:31.302 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 15187 data points.
2025-11-12 06:53:31.387 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 15167 sequences.
2025-11-12 06:53:33.457 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:53:33.475 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:53:33.476 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:53:33.477 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_1200\GainX_1200_M15'...
2025-11-12 06:53:33.563 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M15\random_forest.pkl
2025-11-12 06:53:33.572 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M15\gradient_boosting.pkl
2025-11-12 06:53:33.626 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_1200\GainX_1200_M15\lstm.keras and models\GainX_1200\GainX_1200_M15\lstm_scaler.pkl
2025-11-12 06:53:33.627 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_1200\GainX_1200_M15\feature_info.pkl
2025-11-12 06:53:33.628 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_1200\GainX_1200_M15\meta_model.pkl
2025-11-12 06:53:33.664 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_1200\GainX_1200_M15\training_metadata.json
2025-11-12 06:53:33.665 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 1200 [15m] (48/50)
2025-11-12 06:53:33.670 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 1200 [1h] ---
2025-11-12 06:53:33.868 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16345 candles for GainX 1200 [1h] from MT5
2025-11-12 06:53:33.869 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 16345 candles (minimum: 2000)
2025-11-12 06:53:36.085 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 1200\GainX 1200_H1.csv (16345 records)
2025-11-12 06:53:36.086 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:53:37.059 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:53:40.027 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:53:40.028 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:53:47.616 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 12475 signals total, 6929 profitable (55.5% win rate), 5546 unprofitable
2025-11-12 06:53:47.684 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (12475, 110), Shape of y: (12475,)
2025-11-12 06:53:47.694 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 12475 data points.
2025-11-12 06:53:47.842 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12425 sequences.
2025-11-12 06:53:47.893 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:53:47.893 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:53:47.898 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:53:47.898 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:53:47.918 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:53:52.785 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:53:52.786 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:56:12.461 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:56:12.462 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:56:12.463 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:56:12.505 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:56:12.506 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(5511), np.float64(1.0): np.int64(6914)}
2025-11-12 06:56:12.507 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 12425
2025-11-12 06:56:12.509 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:56:12.510 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(5511), np.float64(1.0): np.int64(6914)}
2025-11-12 06:56:12.510 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 12425
2025-11-12 06:56:12.511 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1272908727998547), 1: np.float64(0.8985391958345386)}
Epoch 1/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.5360 - auc: 0.5401 - loss: 0.0452 - val_accuracy: 0.4728 - val_auc: 0.4812 - val_loss: 0.0446
Epoch 2/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5679 - auc: 0.5759 - loss: 0.0426 - val_accuracy: 0.4777 - val_auc: 0.4703 - val_loss: 0.0451
Epoch 3/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5899 - auc: 0.6092 - loss: 0.0420 - val_accuracy: 0.4797 - val_auc: 0.4638 - val_loss: 0.0452
Epoch 4/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6014 - auc: 0.6268 - loss: 0.0413 - val_accuracy: 0.5058 - val_auc: 0.4785 - val_loss: 0.0445
Epoch 5/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6252 - auc: 0.6600 - loss: 0.0406 - val_accuracy: 0.4656 - val_auc: 0.4673 - val_loss: 0.0475
Epoch 6/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6451 - auc: 0.6865 - loss: 0.0396 - val_accuracy: 0.5070 - val_auc: 0.4900 - val_loss: 0.0453
Epoch 7/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6611 - auc: 0.7194 - loss: 0.0384 - val_accuracy: 0.4813 - val_auc: 0.4701 - val_loss: 0.0499
Epoch 8/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6755 - auc: 0.7366 - loss: 0.0377 - val_accuracy: 0.5030 - val_auc: 0.4843 - val_loss: 0.0468
Epoch 9/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6947 - auc: 0.7613 - loss: 0.0367 - val_accuracy: 0.5087 - val_auc: 0.4789 - val_loss: 0.0485
Epoch 10/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7168 - auc: 0.7895 - loss: 0.0350 - val_accuracy: 0.4922 - val_auc: 0.4687 - val_loss: 0.0527
Epoch 11/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7305 - auc: 0.8037 - loss: 0.0340 - val_accuracy: 0.5050 - val_auc: 0.4721 - val_loss: 0.0529
Epoch 12/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7449 - auc: 0.8219 - loss: 0.0329 - val_accuracy: 0.4877 - val_auc: 0.4734 - val_loss: 0.0536
Epoch 13/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7531 - auc: 0.8335 - loss: 0.0320 - val_accuracy: 0.4817 - val_auc: 0.4589 - val_loss: 0.0585
Epoch 14/50
311/311 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.7645 - auc: 0.8448 - loss: 0.0311 - val_accuracy: 0.4724 - val_auc: 0.4630 - val_loss: 0.0592
2025-11-12 06:57:07.761 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 14
2025-11-12 06:57:07.761 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0311, Accuracy: 0.7645, AUC: 0.8448
2025-11-12 06:57:07.763 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0592, Accuracy: 0.4724, AUC: 0.4630
2025-11-12 06:57:07.766 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:57:07.808 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:57:08.700 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 12475 data points.
2025-11-12 06:57:08.765 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 12455 sequences.
2025-11-12 06:57:10.267 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:57:10.287 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:57:10.288 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:57:10.288 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_1200\GainX_1200_H1'...
2025-11-12 06:57:10.331 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_H1\random_forest.pkl
2025-11-12 06:57:10.341 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_H1\gradient_boosting.pkl
2025-11-12 06:57:10.391 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_1200\GainX_1200_H1\lstm.keras and models\GainX_1200\GainX_1200_H1\lstm_scaler.pkl
2025-11-12 06:57:10.392 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_1200\GainX_1200_H1\feature_info.pkl
2025-11-12 06:57:10.394 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_1200\GainX_1200_H1\meta_model.pkl
2025-11-12 06:57:10.396 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_1200\GainX_1200_H1\training_metadata.json
2025-11-12 06:57:10.397 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 1200 [1h] (49/50)
2025-11-12 06:57:10.398 | INFO     | __main__:train_from_mt5:361 -
--- Training GainX 1200 [4h] ---
2025-11-12 06:57:10.517 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 4090 candles for GainX 1200 [4h] from MT5
2025-11-12 06:57:10.518 | INFO     | __main__:train_from_mt5:410 - ✓ Data validation passed: 4090 candles (minimum: 2000)
2025-11-12 06:57:12.559 | SUCCESS  | __main__:train_from_mt5:434 - Saved historical data to historical_data\GainX 1200\GainX 1200_H4.csv (4090 records)
2025-11-12 06:57:12.560 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-12 06:57:12.844 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 55 technical indicators
2025-11-12 06:57:13.594 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 110 features
2025-11-12 06:57:13.595 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-12 06:57:15.415 | INFO     | src.ai_engine.ai_models:create_meta_labels:929 - Meta-labeling stats: 2959 signals total, 1702 profitable (57.5% win rate), 1257 unprofitable
2025-11-12 06:57:15.435 | INFO     | __main__:prepare_training_data:208 - Data preparation complete. Shape of X: (2959, 110), Shape of y: (2959,)
2025-11-12 06:57:15.440 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 2959 data points.
2025-11-12 06:57:15.477 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2909 sequences.
2025-11-12 06:57:15.530 | INFO     | __main__:train_from_mt5:456 - Training Ensemble model...
2025-11-12 06:57:15.531 | INFO     | src.ai_engine.ai_models:__init__:342 - Initialized Stacking Ensemble.
2025-11-12 06:57:15.535 | INFO     | src.ai_engine.ai_models:fit:380 - Creating LSTM model...
2025-11-12 06:57:15.535 | INFO     | src.ai_engine.ai_models:fit:384 - Training base models...
2025-11-12 06:57:15.541 | INFO     | src.ai_engine.ai_models:fit:389 - Training random_forest...
2025-11-12 06:57:16.822 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-12 06:57:16.823 | INFO     | src.ai_engine.ai_models:fit:389 - Training gradient_boosting...
2025-11-12 06:57:47.038 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-12 06:57:47.038 | INFO     | src.ai_engine.ai_models:fit:389 - Training pattern_based...
2025-11-12 06:57:47.040 | INFO     | src.ai_engine.ai_models:fit:389 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-12 06:57:47.081 | INFO     | src.ai_engine.ai_models:_build_model:624 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-12 06:57:47.082 | INFO     | src.ai_engine.ai_models:fit:647 - Original class distribution: {np.float64(0.0): np.int64(1230), np.float64(1.0): np.int64(1679)}
2025-11-12 06:57:47.083 | INFO     | src.ai_engine.ai_models:fit:648 - Original total samples: 2909
2025-11-12 06:57:47.086 | INFO     | src.ai_engine.ai_models:fit:676 - Skipping undersampling (insufficient samples or already balanced)
2025-11-12 06:57:47.087 | INFO     | src.ai_engine.ai_models:fit:684 - Balanced class distribution: {np.float64(0.0): np.int64(1230), np.float64(1.0): np.int64(1679)}
2025-11-12 06:57:47.088 | INFO     | src.ai_engine.ai_models:fit:685 - Balanced total samples: 2909
2025-11-12 06:57:47.088 | INFO     | src.ai_engine.ai_models:fit:686 - Class weights: {0: np.float64(1.1825203252032521), 1: np.float64(0.8662894580107207)}
Epoch 1/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 3s 17ms/step - accuracy: 0.5535 - auc: 0.5671 - loss: 0.0461 - val_accuracy: 0.4158 - val_auc: 0.4445 - val_loss: 0.0514
Epoch 2/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.6343 - auc: 0.6575 - loss: 0.0411 - val_accuracy: 0.4330 - val_auc: 0.4524 - val_loss: 0.0520
Epoch 3/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6403 - auc: 0.6917 - loss: 0.0392 - val_accuracy: 0.4364 - val_auc: 0.4588 - val_loss: 0.0530
Epoch 4/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6811 - auc: 0.7338 - loss: 0.0376 - val_accuracy: 0.4467 - val_auc: 0.4601 - val_loss: 0.0566
Epoch 5/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.6953 - auc: 0.7646 - loss: 0.0359 - val_accuracy: 0.4742 - val_auc: 0.4892 - val_loss: 0.0547
Epoch 6/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7142 - auc: 0.7850 - loss: 0.0349 - val_accuracy: 0.4948 - val_auc: 0.4967 - val_loss: 0.0578
Epoch 7/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 13ms/step - accuracy: 0.7503 - auc: 0.8228 - loss: 0.0328 - val_accuracy: 0.4210 - val_auc: 0.4617 - val_loss: 0.0656
Epoch 8/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7486 - auc: 0.8368 - loss: 0.0313 - val_accuracy: 0.4777 - val_auc: 0.4834 - val_loss: 0.0556
Epoch 9/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7667 - auc: 0.8526 - loss: 0.0303 - val_accuracy: 0.4811 - val_auc: 0.4840 - val_loss: 0.0557
Epoch 10/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7847 - auc: 0.8747 - loss: 0.0281 - val_accuracy: 0.5653 - val_auc: 0.5120 - val_loss: 0.0608
Epoch 11/50
73/73 ━━━━━━━━━━━━━━━━━━━━ 1s 12ms/step - accuracy: 0.7924 - auc: 0.8857 - loss: 0.0269 - val_accuracy: 0.5017 - val_auc: 0.4933 - val_loss: 0.0608
2025-11-12 06:58:00.002 | INFO     | src.ai_engine.ai_models:fit:708 - Training stopped at epoch 11
2025-11-12 06:58:00.002 | INFO     | src.ai_engine.ai_models:fit:709 - Final metrics - Loss: 0.0269, Accuracy: 0.7924, AUC: 0.8857
2025-11-12 06:58:00.003 | INFO     | src.ai_engine.ai_models:fit:712 - Validation metrics - Loss: 0.0608, Accuracy: 0.5017, AUC: 0.4933
2025-11-12 06:58:00.003 | INFO     | src.ai_engine.ai_models:fit:717 - LSTM trained successfully.
2025-11-12 06:58:00.014 | INFO     | src.ai_engine.ai_models:fit:397 - Generating base model predictions for meta-model training...
2025-11-12 06:58:00.231 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 2959 data points.
2025-11-12 06:58:00.247 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 2939 sequences.
2025-11-12 06:58:00.957 | INFO     | src.ai_engine.ai_models:fit:409 - Training meta-model...
2025-11-12 06:58:00.964 | SUCCESS  | src.ai_engine.ai_models:fit:412 - Stacking Ensemble trained successfully.
2025-11-12 06:58:00.965 | SUCCESS  | __main__:train_from_mt5:459 - Ensemble model trained successfully
2025-11-12 06:58:00.967 | INFO     | __main__:train_from_mt5:470 - Saving models to 'models\GainX_1200\GainX_1200_H4'...
2025-11-12 06:58:01.040 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_H4\random_forest.pkl
2025-11-12 06:58:01.072 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_H4\gradient_boosting.pkl
2025-11-12 06:58:01.099 | INFO     | src.ai_engine.ai_models:save:776 - LSTM model saved to models\GainX_1200\GainX_1200_H4\lstm.keras and models\GainX_1200\GainX_1200_H4\lstm_scaler.pkl
2025-11-12 06:58:01.099 | INFO     | src.ai_engine.ai_models:save_all:454 - Feature information saved to models\GainX_1200\GainX_1200_H4\feature_info.pkl
2025-11-12 06:58:01.100 | INFO     | src.ai_engine.ai_models:save_all:459 - Meta-model saved to models\GainX_1200\GainX_1200_H4\meta_model.pkl
2025-11-12 06:58:01.101 | INFO     | __main__:save_training_metadata:290 - Training metadata saved to models\GainX_1200\GainX_1200_H4\training_metadata.json
2025-11-12 06:58:01.101 | SUCCESS  | __main__:train_from_mt5:478 - ✅ Finished training GainX 1200 [4h] (50/50)
2025-11-12 06:58:01.102 | INFO     | __main__:train_from_mt5:485 -
================================================================================
2025-11-12 06:58:01.102 | INFO     | __main__:train_from_mt5:486 - Training complete:
2025-11-12 06:58:01.103 | INFO     | __main__:train_from_mt5:487 -   ✅ 50 models trained successfully
2025-11-12 06:58:01.103 | INFO     | __main__:train_from_mt5:488 -   ⚠️  0 models skipped (insufficient historical data)
2025-11-12 06:58:01.104 | INFO     | __main__:train_from_mt5:489 -   ❌ 0 models failed
2025-11-12 06:58:01.109 | INFO     | __main__:train_from_mt5:490 -   📊 Total processed: 50/50
2025-11-12 06:58:01.109 | INFO     | __main__:train_from_mt5:495 - ================================================================================

2025-11-12 06:58:01.110 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
