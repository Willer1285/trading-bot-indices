(venv_trading) C:\Users\wille\Downloads\trading-bot-indices>python train_models.py --source mt5
2025-11-10 18:10:33.579790: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-10 18:10:35.386417: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-10 18:10:36.256 | INFO     | __main__:train_from_mt5:316 - ============================== Training Models from MT5 Data ==============================
2025-11-10 18:10:36.264 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 18:10:36.265 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 18:10:36.265 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 18:10:36.265 | INFO     | __main__:train_from_mt5:341 - Will train models for 10 symbols × 4 timeframes = 40 models
2025-11-10 18:10:36.265 | INFO     | __main__:train_from_mt5:342 - Requesting 20000 candles per symbol/timeframe
2025-11-10 18:10:36.266 | INFO     | __main__:train_from_mt5:343 - Minimum data thresholds: {'15m': 2000, '1h': 2000, '4h': 2000, '1d': 2000}
2025-11-10 18:10:36.266 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 400 [1m] ---
2025-11-10 18:10:36.274 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [1m] from MT5
2025-11-10 18:10:36.275 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 18:10:38.275 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:10:39.456 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:10:42.928 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:10:42.929 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:10:52.882 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17360 signals total, 13156 profitable (75.8% win rate), 4204 unprofitable
2025-11-10 18:10:52.971 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17360, 116), Shape of y: (17360,)
2025-11-10 18:10:52.983 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17360 data points.
2025-11-10 18:10:53.188 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17310 sequences.
2025-11-10 18:10:53.190 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:10:53.191 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:10:53.191 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:10:53.191 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:10:53.220 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:10:59.145 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:10:59.147 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:14:04.838 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:14:04.840 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:14:04.840 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
2025-11-10 18:14:04.844182: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: SSE3 SSE4.1 SSE4.2 AVX AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:14:04.939 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:14:04.940 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4189), np.float64(1.0): np.int64(13121)}
2025-11-10 18:14:04.940 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17310
2025-11-10 18:14:05.084 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13121 to 6283
2025-11-10 18:14:05.085 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4189), np.float64(1.0): np.int64(6283)}
2025-11-10 18:14:05.086 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 10472
2025-11-10 18:14:05.089 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499403198854142), 1: np.float64(0.8333598599395193)}
Epoch 1/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5858 - auc: 0.5849 - loss: 0.0433 - val_accuracy: 0.6439 - val_auc: 0.6610 - val_loss: 0.0404
Epoch 2/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6143 - auc: 0.6237 - loss: 0.0413 - val_accuracy: 0.6391 - val_auc: 0.6716 - val_loss: 0.0398
Epoch 3/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6305 - auc: 0.6412 - loss: 0.0408 - val_accuracy: 0.6554 - val_auc: 0.6786 - val_loss: 0.0396
Epoch 4/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6372 - auc: 0.6472 - loss: 0.0406 - val_accuracy: 0.6506 - val_auc: 0.6751 - val_loss: 0.0401
Epoch 5/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6218 - auc: 0.6444 - loss: 0.0406 - val_accuracy: 0.6640 - val_auc: 0.6846 - val_loss: 0.0398
Epoch 6/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6370 - auc: 0.6575 - loss: 0.0404 - val_accuracy: 0.6592 - val_auc: 0.6904 - val_loss: 0.0394
Epoch 7/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6404 - auc: 0.6601 - loss: 0.0402 - val_accuracy: 0.6630 - val_auc: 0.6907 - val_loss: 0.0394
Epoch 8/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6483 - auc: 0.6698 - loss: 0.0398 - val_accuracy: 0.6649 - val_auc: 0.6905 - val_loss: 0.0393
Epoch 9/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6483 - auc: 0.6664 - loss: 0.0400 - val_accuracy: 0.6601 - val_auc: 0.6903 - val_loss: 0.0394
Epoch 10/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6518 - auc: 0.6711 - loss: 0.0398 - val_accuracy: 0.6764 - val_auc: 0.6992 - val_loss: 0.0391
Epoch 11/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6524 - auc: 0.6760 - loss: 0.0396 - val_accuracy: 0.6678 - val_auc: 0.6958 - val_loss: 0.0388
Epoch 12/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6576 - auc: 0.6846 - loss: 0.0393 - val_accuracy: 0.6726 - val_auc: 0.7011 - val_loss: 0.0385
Epoch 13/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6687 - auc: 0.6957 - loss: 0.0390 - val_accuracy: 0.6768 - val_auc: 0.7064 - val_loss: 0.0384
Epoch 14/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6681 - auc: 0.6967 - loss: 0.0388 - val_accuracy: 0.6850 - val_auc: 0.7159 - val_loss: 0.0379
Epoch 15/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6739 - auc: 0.7032 - loss: 0.0386 - val_accuracy: 0.6759 - val_auc: 0.7062 - val_loss: 0.0383
Epoch 16/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6803 - auc: 0.7142 - loss: 0.0382 - val_accuracy: 0.6902 - val_auc: 0.7161 - val_loss: 0.0378
Epoch 17/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6789 - auc: 0.7208 - loss: 0.0378 - val_accuracy: 0.6893 - val_auc: 0.7229 - val_loss: 0.0377
Epoch 18/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6828 - auc: 0.7234 - loss: 0.0377 - val_accuracy: 0.6988 - val_auc: 0.7280 - val_loss: 0.0373
Epoch 19/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6930 - auc: 0.7330 - loss: 0.0370 - val_accuracy: 0.6883 - val_auc: 0.7283 - val_loss: 0.0374
Epoch 20/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6937 - auc: 0.7404 - loss: 0.0369 - val_accuracy: 0.6831 - val_auc: 0.7247 - val_loss: 0.0374
Epoch 21/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6983 - auc: 0.7532 - loss: 0.0361 - val_accuracy: 0.6864 - val_auc: 0.7289 - val_loss: 0.0373
Epoch 22/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7063 - auc: 0.7568 - loss: 0.0360 - val_accuracy: 0.7045 - val_auc: 0.7409 - val_loss: 0.0367
Epoch 23/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7111 - auc: 0.7662 - loss: 0.0354 - val_accuracy: 0.7007 - val_auc: 0.7441 - val_loss: 0.0368
Epoch 24/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7155 - auc: 0.7695 - loss: 0.0353 - val_accuracy: 0.7060 - val_auc: 0.7477 - val_loss: 0.0364
Epoch 25/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7179 - auc: 0.7769 - loss: 0.0348 - val_accuracy: 0.7026 - val_auc: 0.7436 - val_loss: 0.0367
Epoch 26/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7239 - auc: 0.7814 - loss: 0.0345 - val_accuracy: 0.7031 - val_auc: 0.7524 - val_loss: 0.0361
Epoch 27/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7245 - auc: 0.7915 - loss: 0.0340 - val_accuracy: 0.7107 - val_auc: 0.7528 - val_loss: 0.0359
Epoch 28/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7310 - auc: 0.7944 - loss: 0.0338 - val_accuracy: 0.7136 - val_auc: 0.7625 - val_loss: 0.0356
Epoch 29/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7319 - auc: 0.7951 - loss: 0.0335 - val_accuracy: 0.7112 - val_auc: 0.7571 - val_loss: 0.0361
Epoch 30/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7369 - auc: 0.8045 - loss: 0.0331 - val_accuracy: 0.7107 - val_auc: 0.7451 - val_loss: 0.0362
Epoch 31/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7398 - auc: 0.8106 - loss: 0.0326 - val_accuracy: 0.7136 - val_auc: 0.7617 - val_loss: 0.0359
Epoch 32/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7432 - auc: 0.8171 - loss: 0.0322 - val_accuracy: 0.7274 - val_auc: 0.7693 - val_loss: 0.0359
Epoch 33/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7567 - auc: 0.8270 - loss: 0.0313 - val_accuracy: 0.7117 - val_auc: 0.7690 - val_loss: 0.0356
Epoch 34/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7468 - auc: 0.8246 - loss: 0.0314 - val_accuracy: 0.7203 - val_auc: 0.7654 - val_loss: 0.0368
Epoch 35/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7533 - auc: 0.8306 - loss: 0.0311 - val_accuracy: 0.7236 - val_auc: 0.7755 - val_loss: 0.0357
Epoch 36/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7544 - auc: 0.8348 - loss: 0.0307 - val_accuracy: 0.7289 - val_auc: 0.7865 - val_loss: 0.0360
Epoch 37/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7571 - auc: 0.8357 - loss: 0.0308 - val_accuracy: 0.7308 - val_auc: 0.7797 - val_loss: 0.0356
Epoch 38/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7593 - auc: 0.8411 - loss: 0.0302 - val_accuracy: 0.7246 - val_auc: 0.7814 - val_loss: 0.0361
Epoch 39/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7651 - auc: 0.8437 - loss: 0.0300 - val_accuracy: 0.7313 - val_auc: 0.7874 - val_loss: 0.0354
Epoch 40/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7628 - auc: 0.8428 - loss: 0.0302 - val_accuracy: 0.7308 - val_auc: 0.7830 - val_loss: 0.0358
Epoch 41/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7709 - auc: 0.8499 - loss: 0.0296 - val_accuracy: 0.7394 - val_auc: 0.7900 - val_loss: 0.0362
Epoch 42/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7718 - auc: 0.8560 - loss: 0.0291 - val_accuracy: 0.7298 - val_auc: 0.7847 - val_loss: 0.0360
Epoch 43/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7788 - auc: 0.8590 - loss: 0.0290 - val_accuracy: 0.7332 - val_auc: 0.7851 - val_loss: 0.0357
Epoch 44/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7740 - auc: 0.8565 - loss: 0.0291 - val_accuracy: 0.7432 - val_auc: 0.7946 - val_loss: 0.0358
Epoch 45/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7850 - auc: 0.8657 - loss: 0.0282 - val_accuracy: 0.7379 - val_auc: 0.7940 - val_loss: 0.0367
Epoch 46/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7845 - auc: 0.8647 - loss: 0.0283 - val_accuracy: 0.7351 - val_auc: 0.7942 - val_loss: 0.0364
Epoch 47/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7771 - auc: 0.8594 - loss: 0.0288 - val_accuracy: 0.7351 - val_auc: 0.7964 - val_loss: 0.0349
Epoch 48/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7844 - auc: 0.8694 - loss: 0.0277 - val_accuracy: 0.7379 - val_auc: 0.7987 - val_loss: 0.0367
Epoch 49/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7893 - auc: 0.8747 - loss: 0.0274 - val_accuracy: 0.7351 - val_auc: 0.7960 - val_loss: 0.0364
Epoch 50/50
262/262 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7854 - auc: 0.8712 - loss: 0.0275 - val_accuracy: 0.7427 - val_auc: 0.8035 - val_loss: 0.0361
2025-11-10 18:16:32.786 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 18:16:32.787 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0275, Accuracy: 0.7854, AUC: 0.8712
2025-11-10 18:16:32.791 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0361, Accuracy: 0.7427, AUC: 0.8035
2025-11-10 18:16:32.791 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:16:32.879 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:16:34.092 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17360 data points.
2025-11-10 18:16:34.183 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17340 sequences.
2025-11-10 18:16:36.098 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:16:36.119 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:16:36.121 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:16:36.121 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_400\PainX_400_M1'...
2025-11-10 18:16:36.163 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M1\random_forest.pkl
2025-11-10 18:16:36.172 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M1\gradient_boosting.pkl
2025-11-10 18:16:36.205 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_400\PainX_400_M1\lstm.keras and models\PainX_400\PainX_400_M1\lstm_scaler.pkl
2025-11-10 18:16:36.206 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_400\PainX_400_M1\feature_info.pkl
2025-11-10 18:16:36.208 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_400\PainX_400_M1\meta_model.pkl
2025-11-10 18:16:36.212 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_400\PainX_400_M1\training_metadata.json
2025-11-10 18:16:36.212 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 400 [1m] (1/40)
2025-11-10 18:16:36.213 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 400 [5m] ---
2025-11-10 18:16:37.804 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [5m] from MT5
2025-11-10 18:16:37.805 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 18:16:39.807 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:16:41.014 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:16:44.528 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:16:44.531 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:16:54.483 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17130 signals total, 11751 profitable (68.6% win rate), 5379 unprofitable
2025-11-10 18:16:54.572 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17130, 116), Shape of y: (17130,)
2025-11-10 18:16:54.589 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17130 data points.
2025-11-10 18:16:54.792 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17080 sequences.
2025-11-10 18:16:54.893 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:16:54.894 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:16:54.896 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:16:54.898 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:16:54.933 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:17:01.255 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:17:01.257 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:20:17.185 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:20:17.188 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:20:17.188 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:20:17.225 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:20:17.226 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5359), np.float64(1.0): np.int64(11721)}
2025-11-10 18:20:17.227 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17080
2025-11-10 18:20:17.411 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11721 to 8038
2025-11-10 18:20:17.412 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5359), np.float64(1.0): np.int64(8038)}
2025-11-10 18:20:17.413 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 13397
2025-11-10 18:20:17.416 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499533495055049), 1: np.float64(0.8333540681761632)}
Epoch 1/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5600 - auc: 0.5197 - loss: 0.0445 - val_accuracy: 0.5877 - val_auc: 0.5562 - val_loss: 0.0421
Epoch 2/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5931 - auc: 0.5588 - loss: 0.0422 - val_accuracy: 0.5933 - val_auc: 0.5650 - val_loss: 0.0420
Epoch 3/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5990 - auc: 0.5675 - loss: 0.0419 - val_accuracy: 0.5948 - val_auc: 0.5793 - val_loss: 0.0419
Epoch 4/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6060 - auc: 0.5765 - loss: 0.0417 - val_accuracy: 0.5989 - val_auc: 0.5723 - val_loss: 0.0418
Epoch 5/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6086 - auc: 0.5906 - loss: 0.0414 - val_accuracy: 0.5966 - val_auc: 0.5830 - val_loss: 0.0418
Epoch 6/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6142 - auc: 0.5985 - loss: 0.0413 - val_accuracy: 0.6063 - val_auc: 0.6016 - val_loss: 0.0414
Epoch 7/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6186 - auc: 0.6080 - loss: 0.0411 - val_accuracy: 0.6049 - val_auc: 0.6020 - val_loss: 0.0414
Epoch 8/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6221 - auc: 0.6160 - loss: 0.0409 - val_accuracy: 0.6108 - val_auc: 0.6116 - val_loss: 0.0411
Epoch 9/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6271 - auc: 0.6311 - loss: 0.0405 - val_accuracy: 0.6205 - val_auc: 0.6202 - val_loss: 0.0410
Epoch 10/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6343 - auc: 0.6419 - loss: 0.0402 - val_accuracy: 0.6216 - val_auc: 0.6256 - val_loss: 0.0407
Epoch 11/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6381 - auc: 0.6478 - loss: 0.0401 - val_accuracy: 0.6250 - val_auc: 0.6383 - val_loss: 0.0405
Epoch 12/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6464 - auc: 0.6588 - loss: 0.0396 - val_accuracy: 0.6358 - val_auc: 0.6429 - val_loss: 0.0402
Epoch 13/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6512 - auc: 0.6770 - loss: 0.0391 - val_accuracy: 0.6377 - val_auc: 0.6582 - val_loss: 0.0397
Epoch 14/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6594 - auc: 0.6932 - loss: 0.0386 - val_accuracy: 0.6451 - val_auc: 0.6644 - val_loss: 0.0396
Epoch 15/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6631 - auc: 0.6908 - loss: 0.0385 - val_accuracy: 0.6478 - val_auc: 0.6802 - val_loss: 0.0390
Epoch 16/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6679 - auc: 0.7081 - loss: 0.0379 - val_accuracy: 0.6493 - val_auc: 0.6894 - val_loss: 0.0389
Epoch 17/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6731 - auc: 0.7219 - loss: 0.0373 - val_accuracy: 0.6575 - val_auc: 0.6956 - val_loss: 0.0386
Epoch 18/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6830 - auc: 0.7340 - loss: 0.0369 - val_accuracy: 0.6616 - val_auc: 0.7068 - val_loss: 0.0384
Epoch 19/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6862 - auc: 0.7389 - loss: 0.0367 - val_accuracy: 0.6646 - val_auc: 0.7203 - val_loss: 0.0377
Epoch 20/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6970 - auc: 0.7544 - loss: 0.0359 - val_accuracy: 0.6769 - val_auc: 0.7293 - val_loss: 0.0374
Epoch 21/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7008 - auc: 0.7667 - loss: 0.0351 - val_accuracy: 0.6698 - val_auc: 0.7252 - val_loss: 0.0376
Epoch 22/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7045 - auc: 0.7728 - loss: 0.0347 - val_accuracy: 0.6888 - val_auc: 0.7399 - val_loss: 0.0372
Epoch 23/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7130 - auc: 0.7814 - loss: 0.0344 - val_accuracy: 0.6854 - val_auc: 0.7471 - val_loss: 0.0369
Epoch 24/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7134 - auc: 0.7902 - loss: 0.0340 - val_accuracy: 0.6922 - val_auc: 0.7456 - val_loss: 0.0370
Epoch 25/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7211 - auc: 0.7959 - loss: 0.0335 - val_accuracy: 0.7004 - val_auc: 0.7583 - val_loss: 0.0361
Epoch 26/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7277 - auc: 0.8074 - loss: 0.0329 - val_accuracy: 0.6963 - val_auc: 0.7608 - val_loss: 0.0363
Epoch 27/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7306 - auc: 0.8148 - loss: 0.0323 - val_accuracy: 0.7026 - val_auc: 0.7698 - val_loss: 0.0359
Epoch 28/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7353 - auc: 0.8121 - loss: 0.0324 - val_accuracy: 0.6996 - val_auc: 0.7665 - val_loss: 0.0364
Epoch 29/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7418 - auc: 0.8224 - loss: 0.0317 - val_accuracy: 0.6978 - val_auc: 0.7652 - val_loss: 0.0361
Epoch 30/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7398 - auc: 0.8270 - loss: 0.0313 - val_accuracy: 0.7082 - val_auc: 0.7758 - val_loss: 0.0358
Epoch 31/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7536 - auc: 0.8368 - loss: 0.0309 - val_accuracy: 0.7146 - val_auc: 0.7815 - val_loss: 0.0352
Epoch 32/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7547 - auc: 0.8408 - loss: 0.0302 - val_accuracy: 0.7164 - val_auc: 0.7874 - val_loss: 0.0353
Epoch 33/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7545 - auc: 0.8391 - loss: 0.0306 - val_accuracy: 0.7216 - val_auc: 0.7914 - val_loss: 0.0350
Epoch 34/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7639 - auc: 0.8484 - loss: 0.0298 - val_accuracy: 0.7257 - val_auc: 0.7925 - val_loss: 0.0353
Epoch 35/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7698 - auc: 0.8558 - loss: 0.0293 - val_accuracy: 0.7194 - val_auc: 0.7873 - val_loss: 0.0361
Epoch 36/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7664 - auc: 0.8530 - loss: 0.0295 - val_accuracy: 0.7243 - val_auc: 0.7945 - val_loss: 0.0356
Epoch 37/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7681 - auc: 0.8552 - loss: 0.0294 - val_accuracy: 0.7194 - val_auc: 0.7977 - val_loss: 0.0354
Epoch 38/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7829 - auc: 0.8655 - loss: 0.0286 - val_accuracy: 0.7280 - val_auc: 0.7964 - val_loss: 0.0356
Epoch 39/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7820 - auc: 0.8661 - loss: 0.0285 - val_accuracy: 0.7291 - val_auc: 0.8002 - val_loss: 0.0354
Epoch 40/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7797 - auc: 0.8681 - loss: 0.0281 - val_accuracy: 0.7347 - val_auc: 0.8033 - val_loss: 0.0354
Epoch 41/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7814 - auc: 0.8703 - loss: 0.0278 - val_accuracy: 0.7332 - val_auc: 0.8064 - val_loss: 0.0352
Epoch 42/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7791 - auc: 0.8693 - loss: 0.0279 - val_accuracy: 0.7321 - val_auc: 0.8026 - val_loss: 0.0365
Epoch 43/50
335/335 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7900 - auc: 0.8763 - loss: 0.0275 - val_accuracy: 0.7354 - val_auc: 0.8080 - val_loss: 0.0353
2025-11-10 18:22:49.853 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 43
2025-11-10 18:22:49.853 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0275, Accuracy: 0.7900, AUC: 0.8763
2025-11-10 18:22:49.855 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0353, Accuracy: 0.7354, AUC: 0.8080
2025-11-10 18:22:49.858 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:22:49.987 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:22:51.178 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17130 data points.
2025-11-10 18:22:51.268 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17110 sequences.
2025-11-10 18:22:53.145 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:22:53.164 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:22:53.165 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:22:53.166 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_400\PainX_400_M5'...
2025-11-10 18:22:53.203 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M5\random_forest.pkl
2025-11-10 18:22:53.221 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M5\gradient_boosting.pkl
2025-11-10 18:22:53.249 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_400\PainX_400_M5\lstm.keras and models\PainX_400\PainX_400_M5\lstm_scaler.pkl
2025-11-10 18:22:53.250 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_400\PainX_400_M5\feature_info.pkl
2025-11-10 18:22:53.252 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_400\PainX_400_M5\meta_model.pkl
2025-11-10 18:22:53.254 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_400\PainX_400_M5\training_metadata.json
2025-11-10 18:22:53.255 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 400 [5m] (2/40)
2025-11-10 18:22:53.257 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 400 [15m] ---
2025-11-10 18:22:53.352 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 400 [15m] from MT5
2025-11-10 18:22:53.352 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 18:22:55.354 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:22:56.569 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:23:00.050 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:23:00.053 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:23:10.023 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17135 signals total, 11386 profitable (66.4% win rate), 5749 unprofitable
2025-11-10 18:23:10.111 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17135, 116), Shape of y: (17135,)
2025-11-10 18:23:10.124 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17135 data points.
2025-11-10 18:23:10.323 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17085 sequences.
2025-11-10 18:23:10.408 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:23:10.409 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:23:10.413 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:23:10.413 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:23:10.447 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:23:16.935 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:23:16.937 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:26:48.090 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:26:48.091 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:26:48.092 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:26:48.130 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:26:48.131 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5725), np.float64(1.0): np.int64(11360)}
2025-11-10 18:26:48.132 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17085
2025-11-10 18:26:48.328 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11360 to 8587
2025-11-10 18:26:48.329 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5725), np.float64(1.0): np.int64(8587)}
2025-11-10 18:26:48.330 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 14312
2025-11-10 18:26:48.333 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499563318777294), 1: np.float64(0.8333527425177594)}
Epoch 1/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5612 - auc: 0.5104 - loss: 0.0445 - val_accuracy: 0.5917 - val_auc: 0.5442 - val_loss: 0.0422
Epoch 2/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5945 - auc: 0.5310 - loss: 0.0424 - val_accuracy: 0.5952 - val_auc: 0.5494 - val_loss: 0.0422
Epoch 3/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6003 - auc: 0.5447 - loss: 0.0421 - val_accuracy: 0.5941 - val_auc: 0.5659 - val_loss: 0.0421
Epoch 4/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6002 - auc: 0.5555 - loss: 0.0419 - val_accuracy: 0.5987 - val_auc: 0.5849 - val_loss: 0.0418
Epoch 5/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6102 - auc: 0.5795 - loss: 0.0416 - val_accuracy: 0.6126 - val_auc: 0.6069 - val_loss: 0.0414
Epoch 6/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6136 - auc: 0.5933 - loss: 0.0413 - val_accuracy: 0.6053 - val_auc: 0.6141 - val_loss: 0.0413
Epoch 7/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6163 - auc: 0.6017 - loss: 0.0410 - val_accuracy: 0.6144 - val_auc: 0.6385 - val_loss: 0.0409
Epoch 8/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6255 - auc: 0.6210 - loss: 0.0407 - val_accuracy: 0.6119 - val_auc: 0.6312 - val_loss: 0.0408
Epoch 9/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6325 - auc: 0.6360 - loss: 0.0404 - val_accuracy: 0.6207 - val_auc: 0.6370 - val_loss: 0.0406
Epoch 10/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6331 - auc: 0.6460 - loss: 0.0401 - val_accuracy: 0.6235 - val_auc: 0.6554 - val_loss: 0.0402
Epoch 11/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6465 - auc: 0.6673 - loss: 0.0395 - val_accuracy: 0.6294 - val_auc: 0.6684 - val_loss: 0.0398
Epoch 12/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6478 - auc: 0.6817 - loss: 0.0390 - val_accuracy: 0.6329 - val_auc: 0.6732 - val_loss: 0.0394
Epoch 13/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6612 - auc: 0.6991 - loss: 0.0384 - val_accuracy: 0.6567 - val_auc: 0.6954 - val_loss: 0.0389
Epoch 14/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6655 - auc: 0.7091 - loss: 0.0380 - val_accuracy: 0.6500 - val_auc: 0.6981 - val_loss: 0.0388
Epoch 15/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6780 - auc: 0.7269 - loss: 0.0373 - val_accuracy: 0.6626 - val_auc: 0.7068 - val_loss: 0.0384
Epoch 16/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6858 - auc: 0.7384 - loss: 0.0369 - val_accuracy: 0.6581 - val_auc: 0.7205 - val_loss: 0.0378
Epoch 17/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6913 - auc: 0.7473 - loss: 0.0364 - val_accuracy: 0.6804 - val_auc: 0.7283 - val_loss: 0.0375
Epoch 18/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6979 - auc: 0.7591 - loss: 0.0359 - val_accuracy: 0.6734 - val_auc: 0.7336 - val_loss: 0.0375
Epoch 19/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7116 - auc: 0.7712 - loss: 0.0353 - val_accuracy: 0.6724 - val_auc: 0.7318 - val_loss: 0.0374
Epoch 20/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7131 - auc: 0.7752 - loss: 0.0348 - val_accuracy: 0.6825 - val_auc: 0.7394 - val_loss: 0.0372
Epoch 21/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7137 - auc: 0.7845 - loss: 0.0343 - val_accuracy: 0.6794 - val_auc: 0.7482 - val_loss: 0.0366
Epoch 22/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7200 - auc: 0.7895 - loss: 0.0342 - val_accuracy: 0.6877 - val_auc: 0.7483 - val_loss: 0.0367
Epoch 23/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7285 - auc: 0.8003 - loss: 0.0334 - val_accuracy: 0.6860 - val_auc: 0.7577 - val_loss: 0.0361
Epoch 24/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7299 - auc: 0.8047 - loss: 0.0332 - val_accuracy: 0.6895 - val_auc: 0.7603 - val_loss: 0.0361
Epoch 25/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7341 - auc: 0.8072 - loss: 0.0330 - val_accuracy: 0.6860 - val_auc: 0.7563 - val_loss: 0.0366
Epoch 26/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7381 - auc: 0.8202 - loss: 0.0320 - val_accuracy: 0.6989 - val_auc: 0.7702 - val_loss: 0.0355
Epoch 27/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7499 - auc: 0.8273 - loss: 0.0316 - val_accuracy: 0.7007 - val_auc: 0.7765 - val_loss: 0.0352
Epoch 28/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7517 - auc: 0.8274 - loss: 0.0316 - val_accuracy: 0.7021 - val_auc: 0.7780 - val_loss: 0.0351
Epoch 29/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7519 - auc: 0.8324 - loss: 0.0312 - val_accuracy: 0.7000 - val_auc: 0.7750 - val_loss: 0.0358
Epoch 30/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7556 - auc: 0.8373 - loss: 0.0308 - val_accuracy: 0.7007 - val_auc: 0.7732 - val_loss: 0.0358
Epoch 31/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7632 - auc: 0.8453 - loss: 0.0303 - val_accuracy: 0.6986 - val_auc: 0.7715 - val_loss: 0.0360
Epoch 32/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7670 - auc: 0.8460 - loss: 0.0303 - val_accuracy: 0.7157 - val_auc: 0.7832 - val_loss: 0.0357
Epoch 33/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7631 - auc: 0.8479 - loss: 0.0299 - val_accuracy: 0.7150 - val_auc: 0.7871 - val_loss: 0.0353
Epoch 34/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7683 - auc: 0.8519 - loss: 0.0297 - val_accuracy: 0.7167 - val_auc: 0.7856 - val_loss: 0.0353
Epoch 35/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7754 - auc: 0.8581 - loss: 0.0293 - val_accuracy: 0.7153 - val_auc: 0.7882 - val_loss: 0.0354
Epoch 36/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7777 - auc: 0.8600 - loss: 0.0289 - val_accuracy: 0.7223 - val_auc: 0.7936 - val_loss: 0.0348
Epoch 37/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7785 - auc: 0.8617 - loss: 0.0288 - val_accuracy: 0.7206 - val_auc: 0.7971 - val_loss: 0.0349
Epoch 38/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7804 - auc: 0.8639 - loss: 0.0287 - val_accuracy: 0.7255 - val_auc: 0.7998 - val_loss: 0.0345
Epoch 39/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7780 - auc: 0.8639 - loss: 0.0285 - val_accuracy: 0.7258 - val_auc: 0.8010 - val_loss: 0.0349
Epoch 40/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7900 - auc: 0.8732 - loss: 0.0279 - val_accuracy: 0.7311 - val_auc: 0.8042 - val_loss: 0.0346
Epoch 41/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7889 - auc: 0.8736 - loss: 0.0278 - val_accuracy: 0.7363 - val_auc: 0.8067 - val_loss: 0.0342
Epoch 42/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7876 - auc: 0.8750 - loss: 0.0275 - val_accuracy: 0.7300 - val_auc: 0.8035 - val_loss: 0.0355
Epoch 43/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7929 - auc: 0.8821 - loss: 0.0270 - val_accuracy: 0.7328 - val_auc: 0.8050 - val_loss: 0.0350
Epoch 44/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7924 - auc: 0.8786 - loss: 0.0272 - val_accuracy: 0.7314 - val_auc: 0.8049 - val_loss: 0.0343
Epoch 45/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7947 - auc: 0.8815 - loss: 0.0268 - val_accuracy: 0.7248 - val_auc: 0.8049 - val_loss: 0.0351
Epoch 46/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8002 - auc: 0.8859 - loss: 0.0266 - val_accuracy: 0.7359 - val_auc: 0.8108 - val_loss: 0.0347
Epoch 47/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7983 - auc: 0.8876 - loss: 0.0262 - val_accuracy: 0.7300 - val_auc: 0.8055 - val_loss: 0.0362
Epoch 48/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7992 - auc: 0.8865 - loss: 0.0266 - val_accuracy: 0.7373 - val_auc: 0.8144 - val_loss: 0.0344
Epoch 49/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8100 - auc: 0.8935 - loss: 0.0257 - val_accuracy: 0.7363 - val_auc: 0.8110 - val_loss: 0.0353
Epoch 50/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8083 - auc: 0.8934 - loss: 0.0257 - val_accuracy: 0.7331 - val_auc: 0.8139 - val_loss: 0.0350
2025-11-10 18:30:03.344 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 18:30:03.344 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0257, Accuracy: 0.8083, AUC: 0.8934
2025-11-10 18:30:03.346 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0350, Accuracy: 0.7331, AUC: 0.8139
2025-11-10 18:30:03.348 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:30:03.540 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:30:04.752 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17135 data points.
2025-11-10 18:30:04.845 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17115 sequences.
2025-11-10 18:30:06.689 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:30:06.710 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:30:06.712 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:30:06.712 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_400\PainX_400_M15'...
2025-11-10 18:30:06.751 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_M15\random_forest.pkl
2025-11-10 18:30:06.763 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_M15\gradient_boosting.pkl
2025-11-10 18:30:06.791 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_400\PainX_400_M15\lstm.keras and models\PainX_400\PainX_400_M15\lstm_scaler.pkl
2025-11-10 18:30:06.792 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_400\PainX_400_M15\feature_info.pkl
2025-11-10 18:30:06.794 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_400\PainX_400_M15\meta_model.pkl
2025-11-10 18:30:06.795 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_400\PainX_400_M15\training_metadata.json
2025-11-10 18:30:06.796 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 400 [15m] (3/40)
2025-11-10 18:30:06.797 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 400 [1h] ---
2025-11-10 18:30:06.826 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16309 candles for PainX 400 [1h] from MT5
2025-11-10 18:30:06.826 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16309 candles (minimum: 2000)
2025-11-10 18:30:08.828 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:30:09.812 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:30:12.677 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:30:12.680 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:30:20.744 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13791 signals total, 8947 profitable (64.9% win rate), 4844 unprofitable
2025-11-10 18:30:20.820 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13791, 116), Shape of y: (13791,)
2025-11-10 18:30:20.833 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13791 data points.
2025-11-10 18:30:20.998 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13741 sequences.
2025-11-10 18:30:21.074 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:30:21.075 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:30:21.080 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:30:21.081 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:30:21.106 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:30:26.372 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:30:26.373 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:33:06.010 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:33:06.011 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:33:06.011 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:33:06.048 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:33:06.048 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4833), np.float64(1.0): np.int64(8908)}
2025-11-10 18:33:06.049 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13741
2025-11-10 18:33:06.215 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 8908 to 7249
2025-11-10 18:33:06.215 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4833), np.float64(1.0): np.int64(7249)}
2025-11-10 18:33:06.217 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12082
2025-11-10 18:33:06.219 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499482722946411), 1: np.float64(0.8333563250103463)}
Epoch 1/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5553 - auc: 0.5056 - loss: 0.0452 - val_accuracy: 0.5883 - val_auc: 0.5349 - val_loss: 0.0424
Epoch 2/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5945 - auc: 0.5387 - loss: 0.0424 - val_accuracy: 0.5945 - val_auc: 0.5572 - val_loss: 0.0421
Epoch 3/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6026 - auc: 0.5552 - loss: 0.0420 - val_accuracy: 0.5921 - val_auc: 0.5735 - val_loss: 0.0420
Epoch 4/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6041 - auc: 0.5596 - loss: 0.0419 - val_accuracy: 0.5933 - val_auc: 0.5766 - val_loss: 0.0420
Epoch 5/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6126 - auc: 0.5737 - loss: 0.0416 - val_accuracy: 0.5937 - val_auc: 0.5944 - val_loss: 0.0417
Epoch 6/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6156 - auc: 0.5929 - loss: 0.0414 - val_accuracy: 0.6103 - val_auc: 0.6066 - val_loss: 0.0414
Epoch 7/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6235 - auc: 0.6059 - loss: 0.0410 - val_accuracy: 0.6078 - val_auc: 0.6206 - val_loss: 0.0413
Epoch 8/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6349 - auc: 0.6333 - loss: 0.0405 - val_accuracy: 0.6165 - val_auc: 0.6274 - val_loss: 0.0409
Epoch 9/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6363 - auc: 0.6473 - loss: 0.0401 - val_accuracy: 0.6214 - val_auc: 0.6487 - val_loss: 0.0404
Epoch 10/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6505 - auc: 0.6749 - loss: 0.0391 - val_accuracy: 0.6326 - val_auc: 0.6767 - val_loss: 0.0398
Epoch 11/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6599 - auc: 0.6925 - loss: 0.0385 - val_accuracy: 0.6434 - val_auc: 0.6875 - val_loss: 0.0392
Epoch 12/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6698 - auc: 0.7137 - loss: 0.0379 - val_accuracy: 0.6450 - val_auc: 0.6918 - val_loss: 0.0390
Epoch 13/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6790 - auc: 0.7295 - loss: 0.0369 - val_accuracy: 0.6570 - val_auc: 0.7146 - val_loss: 0.0384
Epoch 14/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6895 - auc: 0.7437 - loss: 0.0364 - val_accuracy: 0.6740 - val_auc: 0.7359 - val_loss: 0.0374
Epoch 15/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7013 - auc: 0.7652 - loss: 0.0354 - val_accuracy: 0.6649 - val_auc: 0.7197 - val_loss: 0.0382
Epoch 16/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7089 - auc: 0.7742 - loss: 0.0348 - val_accuracy: 0.6823 - val_auc: 0.7479 - val_loss: 0.0369
Epoch 17/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7155 - auc: 0.7891 - loss: 0.0341 - val_accuracy: 0.6885 - val_auc: 0.7528 - val_loss: 0.0368
Epoch 18/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7305 - auc: 0.8047 - loss: 0.0332 - val_accuracy: 0.6938 - val_auc: 0.7611 - val_loss: 0.0364
Epoch 19/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7312 - auc: 0.8088 - loss: 0.0327 - val_accuracy: 0.6901 - val_auc: 0.7589 - val_loss: 0.0366
Epoch 20/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7450 - auc: 0.8232 - loss: 0.0319 - val_accuracy: 0.7100 - val_auc: 0.7775 - val_loss: 0.0361
Epoch 21/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7451 - auc: 0.8256 - loss: 0.0316 - val_accuracy: 0.7100 - val_auc: 0.7803 - val_loss: 0.0357
Epoch 22/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7558 - auc: 0.8336 - loss: 0.0311 - val_accuracy: 0.7199 - val_auc: 0.7952 - val_loss: 0.0348
Epoch 23/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7608 - auc: 0.8448 - loss: 0.0302 - val_accuracy: 0.7145 - val_auc: 0.7867 - val_loss: 0.0366
Epoch 24/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7633 - auc: 0.8440 - loss: 0.0304 - val_accuracy: 0.7290 - val_auc: 0.8011 - val_loss: 0.0350
Epoch 25/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7769 - auc: 0.8605 - loss: 0.0291 - val_accuracy: 0.7282 - val_auc: 0.7965 - val_loss: 0.0353
Epoch 26/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7766 - auc: 0.8603 - loss: 0.0289 - val_accuracy: 0.7369 - val_auc: 0.8078 - val_loss: 0.0353
Epoch 27/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7779 - auc: 0.8648 - loss: 0.0285 - val_accuracy: 0.7385 - val_auc: 0.8119 - val_loss: 0.0346
Epoch 28/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7865 - auc: 0.8707 - loss: 0.0282 - val_accuracy: 0.7273 - val_auc: 0.8021 - val_loss: 0.0357
Epoch 29/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7848 - auc: 0.8718 - loss: 0.0279 - val_accuracy: 0.7269 - val_auc: 0.8064 - val_loss: 0.0350
Epoch 30/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7850 - auc: 0.8724 - loss: 0.0277 - val_accuracy: 0.7385 - val_auc: 0.8098 - val_loss: 0.0350
Epoch 31/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7976 - auc: 0.8819 - loss: 0.0271 - val_accuracy: 0.7393 - val_auc: 0.8163 - val_loss: 0.0348
Epoch 32/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8003 - auc: 0.8868 - loss: 0.0265 - val_accuracy: 0.7290 - val_auc: 0.8094 - val_loss: 0.0356
Epoch 33/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8032 - auc: 0.8895 - loss: 0.0262 - val_accuracy: 0.7414 - val_auc: 0.8139 - val_loss: 0.0355
Epoch 34/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8024 - auc: 0.8876 - loss: 0.0262 - val_accuracy: 0.7443 - val_auc: 0.8156 - val_loss: 0.0346
Epoch 35/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8100 - auc: 0.8903 - loss: 0.0262 - val_accuracy: 0.7414 - val_auc: 0.8161 - val_loss: 0.0350
Epoch 36/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8101 - auc: 0.8937 - loss: 0.0257 - val_accuracy: 0.7464 - val_auc: 0.8213 - val_loss: 0.0349
Epoch 37/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8086 - auc: 0.8956 - loss: 0.0255 - val_accuracy: 0.7439 - val_auc: 0.8233 - val_loss: 0.0354
Epoch 38/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8110 - auc: 0.8988 - loss: 0.0251 - val_accuracy: 0.7381 - val_auc: 0.8175 - val_loss: 0.0368
Epoch 39/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8183 - auc: 0.9001 - loss: 0.0251 - val_accuracy: 0.7518 - val_auc: 0.8265 - val_loss: 0.0349
Epoch 40/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8181 - auc: 0.9052 - loss: 0.0245 - val_accuracy: 0.7567 - val_auc: 0.8330 - val_loss: 0.0353
Epoch 41/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8198 - auc: 0.9043 - loss: 0.0246 - val_accuracy: 0.7538 - val_auc: 0.8291 - val_loss: 0.0360
Epoch 42/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8175 - auc: 0.9043 - loss: 0.0245 - val_accuracy: 0.7551 - val_auc: 0.8272 - val_loss: 0.0358
Epoch 43/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8278 - auc: 0.9124 - loss: 0.0236 - val_accuracy: 0.7547 - val_auc: 0.8283 - val_loss: 0.0363
Epoch 44/50
303/303 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8264 - auc: 0.9140 - loss: 0.0232 - val_accuracy: 0.7555 - val_auc: 0.8309 - val_loss: 0.0366
2025-11-10 18:35:32.257 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 44
2025-11-10 18:35:32.257 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0232, Accuracy: 0.8264, AUC: 0.9140
2025-11-10 18:35:32.259 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0366, Accuracy: 0.7555, AUC: 0.8309
2025-11-10 18:35:32.261 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:35:32.351 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:35:33.313 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13791 data points.
2025-11-10 18:35:33.387 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13771 sequences.
2025-11-10 18:35:34.967 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:35:34.982 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:35:34.983 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:35:34.983 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_400\PainX_400_H1'...
2025-11-10 18:35:35.008 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_400\PainX_400_H1\random_forest.pkl
2025-11-10 18:35:35.026 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_400\PainX_400_H1\gradient_boosting.pkl
2025-11-10 18:35:35.052 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_400\PainX_400_H1\lstm.keras and models\PainX_400\PainX_400_H1\lstm_scaler.pkl
2025-11-10 18:35:35.053 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_400\PainX_400_H1\feature_info.pkl
2025-11-10 18:35:35.055 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_400\PainX_400_H1\meta_model.pkl
2025-11-10 18:35:35.058 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_400\PainX_400_H1\training_metadata.json
2025-11-10 18:35:35.058 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 400 [1h] (4/40)
2025-11-10 18:35:35.059 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 400 [1m] ---
2025-11-10 18:35:35.067 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [1m] from MT5
2025-11-10 18:35:35.067 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 18:35:37.068 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:35:38.275 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:35:41.774 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:35:41.777 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:35:51.759 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17300 signals total, 12987 profitable (75.1% win rate), 4313 unprofitable
2025-11-10 18:35:51.848 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17300, 116), Shape of y: (17300,)
2025-11-10 18:35:51.862 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17300 data points.
2025-11-10 18:35:52.066 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17250 sequences.
2025-11-10 18:35:52.121 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:35:52.122 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:35:52.127 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:35:52.127 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:35:52.159 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:35:57.947 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:35:57.948 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:38:55.561 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:38:55.562 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:38:55.564 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:38:55.603 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:38:55.603 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4300), np.float64(1.0): np.int64(12950)}
2025-11-10 18:38:55.605 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17250
2025-11-10 18:38:55.752 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12950 to 6450
2025-11-10 18:38:55.752 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4300), np.float64(1.0): np.int64(6450)}
2025-11-10 18:38:55.754 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 10750
2025-11-10 18:38:55.756 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5421 - auc: 0.4932 - loss: 0.0497 - val_accuracy: 0.6037 - val_auc: 0.4968 - val_loss: 0.0425
Epoch 2/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5686 - auc: 0.4913 - loss: 0.0434 - val_accuracy: 0.6042 - val_auc: 0.4980 - val_loss: 0.0426
Epoch 3/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5926 - auc: 0.5063 - loss: 0.0427 - val_accuracy: 0.6047 - val_auc: 0.5002 - val_loss: 0.0425
Epoch 4/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5962 - auc: 0.4960 - loss: 0.0426 - val_accuracy: 0.6047 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 5/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5976 - auc: 0.4987 - loss: 0.0425 - val_accuracy: 0.6047 - val_auc: 0.5006 - val_loss: 0.0422
Epoch 6/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5978 - auc: 0.4938 - loss: 0.0424 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0422
Epoch 7/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5994 - auc: 0.4909 - loss: 0.0424 - val_accuracy: 0.6042 - val_auc: 0.4988 - val_loss: 0.0422
Epoch 8/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5979 - auc: 0.5020 - loss: 0.0424 - val_accuracy: 0.6047 - val_auc: 0.4998 - val_loss: 0.0421
Epoch 9/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5981 - auc: 0.4954 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4996 - val_loss: 0.0421
Epoch 10/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5986 - auc: 0.4919 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 11/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5976 - auc: 0.5019 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 12/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5992 - auc: 0.4998 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 13/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5997 - auc: 0.4959 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 14/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5986 - auc: 0.5084 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 15/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5993 - auc: 0.5047 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4994 - val_loss: 0.0421
Epoch 16/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5985 - auc: 0.4909 - loss: 0.0423 - val_accuracy: 0.6042 - val_auc: 0.4994 - val_loss: 0.0421
Epoch 17/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5995 - auc: 0.5065 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4994 - val_loss: 0.0421
Epoch 18/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5994 - auc: 0.4997 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 19/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5991 - auc: 0.5006 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 20/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5993 - auc: 0.4978 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 21/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5999 - auc: 0.5019 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4994 - val_loss: 0.0421
Epoch 22/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5991 - auc: 0.5032 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 23/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5994 - auc: 0.4916 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4988 - val_loss: 0.0421
Epoch 24/50
269/269 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5997 - auc: 0.4979 - loss: 0.0423 - val_accuracy: 0.6047 - val_auc: 0.4994 - val_loss: 0.0421
2025-11-10 18:40:07.530 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 24
2025-11-10 18:40:07.531 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0423, Accuracy: 0.5997, AUC: 0.4979
2025-11-10 18:40:07.532 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0421, Accuracy: 0.6047, AUC: 0.4994
2025-11-10 18:40:07.535 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:40:07.624 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:40:08.833 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17300 data points.
2025-11-10 18:40:08.927 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17280 sequences.
2025-11-10 18:40:10.688 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:40:10.708 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:40:10.709 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:40:10.709 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_400\GainX_400_M1'...
2025-11-10 18:40:10.771 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M1\random_forest.pkl
2025-11-10 18:40:10.783 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M1\gradient_boosting.pkl
2025-11-10 18:40:10.810 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_400\GainX_400_M1\lstm.keras and models\GainX_400\GainX_400_M1\lstm_scaler.pkl
2025-11-10 18:40:10.811 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_400\GainX_400_M1\feature_info.pkl
2025-11-10 18:40:10.812 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_400\GainX_400_M1\meta_model.pkl
2025-11-10 18:40:10.813 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_400\GainX_400_M1\training_metadata.json
2025-11-10 18:40:10.813 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 400 [1m] (5/40)
2025-11-10 18:40:10.816 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 400 [5m] ---
2025-11-10 18:40:10.816 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 18:40:10.819 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 18:40:13.839 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 18:40:13.841 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 18:40:13.865 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 18:40:15.329 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [5m] from MT5
2025-11-10 18:40:15.330 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 18:40:17.335 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:40:18.566 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:40:22.113 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:40:22.115 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:40:31.934 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 16951 signals total, 11790 profitable (69.6% win rate), 5161 unprofitable
2025-11-10 18:40:32.022 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (16951, 116), Shape of y: (16951,)
2025-11-10 18:40:32.038 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16951 data points.
2025-11-10 18:40:32.236 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16901 sequences.
2025-11-10 18:40:32.307 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:40:32.307 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:40:32.310 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:40:32.312 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:40:32.343 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:40:38.605 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:40:38.606 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:43:50.359 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:43:50.360 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:43:50.361 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:43:50.399 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:43:50.400 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5144), np.float64(1.0): np.int64(11757)}
2025-11-10 18:43:50.401 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 16901
2025-11-10 18:43:50.578 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11757 to 7716
2025-11-10 18:43:50.579 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5144), np.float64(1.0): np.int64(7716)}
2025-11-10 18:43:50.580 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12860
2025-11-10 18:43:50.582 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5647 - auc: 0.5113 - loss: 0.0446 - val_accuracy: 0.5863 - val_auc: 0.5151 - val_loss: 0.0425
Epoch 2/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5945 - auc: 0.5330 - loss: 0.0424 - val_accuracy: 0.5937 - val_auc: 0.5428 - val_loss: 0.0423
Epoch 3/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5970 - auc: 0.5436 - loss: 0.0421 - val_accuracy: 0.5933 - val_auc: 0.5666 - val_loss: 0.0420
Epoch 4/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6015 - auc: 0.5551 - loss: 0.0419 - val_accuracy: 0.5933 - val_auc: 0.5659 - val_loss: 0.0419
Epoch 5/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6003 - auc: 0.5631 - loss: 0.0418 - val_accuracy: 0.5937 - val_auc: 0.5587 - val_loss: 0.0419
Epoch 6/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6031 - auc: 0.5683 - loss: 0.0418 - val_accuracy: 0.5925 - val_auc: 0.5760 - val_loss: 0.0419
Epoch 7/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6020 - auc: 0.5713 - loss: 0.0416 - val_accuracy: 0.5964 - val_auc: 0.5982 - val_loss: 0.0416
Epoch 8/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.6076 - auc: 0.5923 - loss: 0.0414 - val_accuracy: 0.5999 - val_auc: 0.6046 - val_loss: 0.0415
Epoch 9/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6098 - auc: 0.5944 - loss: 0.0412 - val_accuracy: 0.5984 - val_auc: 0.6068 - val_loss: 0.0414
Epoch 10/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6095 - auc: 0.6100 - loss: 0.0410 - val_accuracy: 0.5991 - val_auc: 0.5956 - val_loss: 0.0414
Epoch 11/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6127 - auc: 0.6152 - loss: 0.0407 - val_accuracy: 0.6007 - val_auc: 0.6050 - val_loss: 0.0413
Epoch 12/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6238 - auc: 0.6312 - loss: 0.0405 - val_accuracy: 0.6081 - val_auc: 0.6398 - val_loss: 0.0406
Epoch 13/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6179 - auc: 0.6313 - loss: 0.0403 - val_accuracy: 0.6065 - val_auc: 0.6447 - val_loss: 0.0407
Epoch 14/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6296 - auc: 0.6601 - loss: 0.0396 - val_accuracy: 0.6174 - val_auc: 0.6388 - val_loss: 0.0405
Epoch 15/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6337 - auc: 0.6644 - loss: 0.0395 - val_accuracy: 0.6135 - val_auc: 0.6245 - val_loss: 0.0408
Epoch 16/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6410 - auc: 0.6779 - loss: 0.0391 - val_accuracy: 0.6201 - val_auc: 0.6413 - val_loss: 0.0404
Epoch 17/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6418 - auc: 0.6873 - loss: 0.0389 - val_accuracy: 0.6279 - val_auc: 0.6738 - val_loss: 0.0396
Epoch 18/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6510 - auc: 0.6985 - loss: 0.0383 - val_accuracy: 0.6349 - val_auc: 0.6799 - val_loss: 0.0394
Epoch 19/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6614 - auc: 0.7141 - loss: 0.0377 - val_accuracy: 0.6314 - val_auc: 0.6778 - val_loss: 0.0392
Epoch 20/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6670 - auc: 0.7259 - loss: 0.0371 - val_accuracy: 0.6334 - val_auc: 0.6807 - val_loss: 0.0392
Epoch 21/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6719 - auc: 0.7329 - loss: 0.0370 - val_accuracy: 0.6524 - val_auc: 0.6981 - val_loss: 0.0388
Epoch 22/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6822 - auc: 0.7422 - loss: 0.0364 - val_accuracy: 0.6466 - val_auc: 0.7032 - val_loss: 0.0387
Epoch 23/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6853 - auc: 0.7564 - loss: 0.0357 - val_accuracy: 0.6516 - val_auc: 0.7103 - val_loss: 0.0383
Epoch 24/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6910 - auc: 0.7601 - loss: 0.0356 - val_accuracy: 0.6497 - val_auc: 0.7037 - val_loss: 0.0386
Epoch 25/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6901 - auc: 0.7608 - loss: 0.0354 - val_accuracy: 0.6571 - val_auc: 0.7185 - val_loss: 0.0382
Epoch 26/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6956 - auc: 0.7714 - loss: 0.0350 - val_accuracy: 0.6645 - val_auc: 0.7267 - val_loss: 0.0379
Epoch 27/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7145 - auc: 0.7837 - loss: 0.0344 - val_accuracy: 0.6687 - val_auc: 0.7301 - val_loss: 0.0376
Epoch 28/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7168 - auc: 0.7930 - loss: 0.0339 - val_accuracy: 0.6719 - val_auc: 0.7243 - val_loss: 0.0380
Epoch 29/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7137 - auc: 0.7934 - loss: 0.0337 - val_accuracy: 0.6800 - val_auc: 0.7411 - val_loss: 0.0373
Epoch 30/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7241 - auc: 0.8045 - loss: 0.0331 - val_accuracy: 0.6816 - val_auc: 0.7429 - val_loss: 0.0378
Epoch 31/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7296 - auc: 0.8080 - loss: 0.0328 - val_accuracy: 0.6870 - val_auc: 0.7463 - val_loss: 0.0371
Epoch 32/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7292 - auc: 0.8088 - loss: 0.0328 - val_accuracy: 0.6823 - val_auc: 0.7532 - val_loss: 0.0367
Epoch 33/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7339 - auc: 0.8190 - loss: 0.0320 - val_accuracy: 0.6862 - val_auc: 0.7559 - val_loss: 0.0369
Epoch 34/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7422 - auc: 0.8233 - loss: 0.0317 - val_accuracy: 0.6882 - val_auc: 0.7593 - val_loss: 0.0366
Epoch 35/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7502 - auc: 0.8337 - loss: 0.0309 - val_accuracy: 0.6940 - val_auc: 0.7651 - val_loss: 0.0368
Epoch 36/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7478 - auc: 0.8300 - loss: 0.0312 - val_accuracy: 0.6823 - val_auc: 0.7520 - val_loss: 0.0378
Epoch 37/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7480 - auc: 0.8329 - loss: 0.0311 - val_accuracy: 0.7026 - val_auc: 0.7716 - val_loss: 0.0367
Epoch 38/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7501 - auc: 0.8343 - loss: 0.0310 - val_accuracy: 0.6983 - val_auc: 0.7693 - val_loss: 0.0361
Epoch 39/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7591 - auc: 0.8433 - loss: 0.0302 - val_accuracy: 0.7068 - val_auc: 0.7733 - val_loss: 0.0363
Epoch 40/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7603 - auc: 0.8449 - loss: 0.0302 - val_accuracy: 0.7026 - val_auc: 0.7720 - val_loss: 0.0365
Epoch 41/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7627 - auc: 0.8487 - loss: 0.0297 - val_accuracy: 0.7049 - val_auc: 0.7786 - val_loss: 0.0361
Epoch 42/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7676 - auc: 0.8527 - loss: 0.0296 - val_accuracy: 0.7158 - val_auc: 0.7821 - val_loss: 0.0361
Epoch 43/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7739 - auc: 0.8560 - loss: 0.0295 - val_accuracy: 0.7201 - val_auc: 0.7850 - val_loss: 0.0364
Epoch 44/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7691 - auc: 0.8581 - loss: 0.0291 - val_accuracy: 0.7057 - val_auc: 0.7758 - val_loss: 0.0362
Epoch 45/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7671 - auc: 0.8561 - loss: 0.0290 - val_accuracy: 0.7096 - val_auc: 0.7788 - val_loss: 0.0369
Epoch 46/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7699 - auc: 0.8634 - loss: 0.0284 - val_accuracy: 0.7138 - val_auc: 0.7903 - val_loss: 0.0359
Epoch 47/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7790 - auc: 0.8667 - loss: 0.0284 - val_accuracy: 0.6987 - val_auc: 0.7789 - val_loss: 0.0373
Epoch 48/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7793 - auc: 0.8663 - loss: 0.0283 - val_accuracy: 0.7154 - val_auc: 0.7849 - val_loss: 0.0370
Epoch 49/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7863 - auc: 0.8709 - loss: 0.0280 - val_accuracy: 0.7197 - val_auc: 0.7918 - val_loss: 0.0356
Epoch 50/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7898 - auc: 0.8753 - loss: 0.0274 - val_accuracy: 0.7216 - val_auc: 0.7933 - val_loss: 0.0376
2025-11-10 18:46:43.142 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 18:46:43.142 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0274, Accuracy: 0.7898, AUC: 0.8753
2025-11-10 18:46:43.144 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0376, Accuracy: 0.7216, AUC: 0.7933
2025-11-10 18:46:43.144 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:46:43.252 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:46:44.441 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16951 data points.
2025-11-10 18:46:44.532 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16931 sequences.
2025-11-10 18:46:46.385 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:46:46.406 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:46:46.408 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:46:46.409 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_400\GainX_400_M5'...
2025-11-10 18:46:46.461 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M5\random_forest.pkl
2025-11-10 18:46:46.475 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M5\gradient_boosting.pkl
2025-11-10 18:46:46.503 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_400\GainX_400_M5\lstm.keras and models\GainX_400\GainX_400_M5\lstm_scaler.pkl
2025-11-10 18:46:46.504 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_400\GainX_400_M5\feature_info.pkl
2025-11-10 18:46:46.505 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_400\GainX_400_M5\meta_model.pkl
2025-11-10 18:46:46.508 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_400\GainX_400_M5\training_metadata.json
2025-11-10 18:46:46.508 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 400 [5m] (6/40)
2025-11-10 18:46:46.508 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 400 [15m] ---
2025-11-10 18:46:46.767 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 400 [15m] from MT5
2025-11-10 18:46:46.768 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 18:46:48.770 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:46:50.017 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:46:53.538 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:46:53.539 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:47:03.442 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 16984 signals total, 11407 profitable (67.2% win rate), 5577 unprofitable
2025-11-10 18:47:03.531 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (16984, 116), Shape of y: (16984,)
2025-11-10 18:47:03.547 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 16984 data points.
2025-11-10 18:47:03.751 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16934 sequences.
2025-11-10 18:47:03.827 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:47:03.828 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:47:03.831 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:47:03.832 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:47:03.866 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:47:10.241 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:47:10.243 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:50:29.977 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:50:29.978 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:50:29.979 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:50:30.018 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:50:30.018 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5559), np.float64(1.0): np.int64(11375)}
2025-11-10 18:50:30.023 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 16934
2025-11-10 18:50:30.208 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11375 to 8338
2025-11-10 18:50:30.209 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5559), np.float64(1.0): np.int64(8338)}
2025-11-10 18:50:30.210 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 13897
2025-11-10 18:50:30.213 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499550278827127), 1: np.float64(0.8333533221396018)}
Epoch 1/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5629 - auc: 0.5087 - loss: 0.0439 - val_accuracy: 0.5978 - val_auc: 0.5507 - val_loss: 0.0420
Epoch 2/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5959 - auc: 0.5505 - loss: 0.0421 - val_accuracy: 0.5993 - val_auc: 0.5641 - val_loss: 0.0419
Epoch 3/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5986 - auc: 0.5573 - loss: 0.0420 - val_accuracy: 0.6000 - val_auc: 0.5620 - val_loss: 0.0418
Epoch 4/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6029 - auc: 0.5724 - loss: 0.0418 - val_accuracy: 0.6065 - val_auc: 0.5730 - val_loss: 0.0417
Epoch 5/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6077 - auc: 0.5851 - loss: 0.0415 - val_accuracy: 0.6126 - val_auc: 0.5950 - val_loss: 0.0414
Epoch 6/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6128 - auc: 0.5992 - loss: 0.0413 - val_accuracy: 0.6122 - val_auc: 0.6001 - val_loss: 0.0413
Epoch 7/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6178 - auc: 0.6176 - loss: 0.0409 - val_accuracy: 0.6201 - val_auc: 0.6168 - val_loss: 0.0408
Epoch 8/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6248 - auc: 0.6405 - loss: 0.0404 - val_accuracy: 0.6201 - val_auc: 0.6359 - val_loss: 0.0405
Epoch 9/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6333 - auc: 0.6517 - loss: 0.0400 - val_accuracy: 0.6230 - val_auc: 0.6430 - val_loss: 0.0403
Epoch 10/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6352 - auc: 0.6630 - loss: 0.0396 - val_accuracy: 0.6302 - val_auc: 0.6494 - val_loss: 0.0402
Epoch 11/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6414 - auc: 0.6781 - loss: 0.0391 - val_accuracy: 0.6371 - val_auc: 0.6706 - val_loss: 0.0395
Epoch 12/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6518 - auc: 0.6972 - loss: 0.0384 - val_accuracy: 0.6399 - val_auc: 0.6753 - val_loss: 0.0392
Epoch 13/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6608 - auc: 0.7100 - loss: 0.0378 - val_accuracy: 0.6540 - val_auc: 0.6941 - val_loss: 0.0388
Epoch 14/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6676 - auc: 0.7262 - loss: 0.0373 - val_accuracy: 0.6561 - val_auc: 0.7047 - val_loss: 0.0385
Epoch 15/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6730 - auc: 0.7351 - loss: 0.0369 - val_accuracy: 0.6529 - val_auc: 0.7082 - val_loss: 0.0382
Epoch 16/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6943 - auc: 0.7501 - loss: 0.0362 - val_accuracy: 0.6525 - val_auc: 0.7086 - val_loss: 0.0382
Epoch 17/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6978 - auc: 0.7637 - loss: 0.0353 - val_accuracy: 0.6683 - val_auc: 0.7204 - val_loss: 0.0382
Epoch 18/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6940 - auc: 0.7657 - loss: 0.0353 - val_accuracy: 0.6737 - val_auc: 0.7273 - val_loss: 0.0374
Epoch 19/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7118 - auc: 0.7852 - loss: 0.0343 - val_accuracy: 0.6727 - val_auc: 0.7342 - val_loss: 0.0380
Epoch 20/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7161 - auc: 0.7892 - loss: 0.0342 - val_accuracy: 0.6845 - val_auc: 0.7433 - val_loss: 0.0371
Epoch 21/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7184 - auc: 0.7978 - loss: 0.0336 - val_accuracy: 0.6986 - val_auc: 0.7568 - val_loss: 0.0369
Epoch 22/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7285 - auc: 0.8086 - loss: 0.0329 - val_accuracy: 0.6885 - val_auc: 0.7512 - val_loss: 0.0366
Epoch 23/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7362 - auc: 0.8150 - loss: 0.0326 - val_accuracy: 0.6899 - val_auc: 0.7549 - val_loss: 0.0371
Epoch 24/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7422 - auc: 0.8236 - loss: 0.0318 - val_accuracy: 0.6989 - val_auc: 0.7631 - val_loss: 0.0369
Epoch 25/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7507 - auc: 0.8293 - loss: 0.0316 - val_accuracy: 0.7000 - val_auc: 0.7644 - val_loss: 0.0368
Epoch 26/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7573 - auc: 0.8342 - loss: 0.0311 - val_accuracy: 0.7032 - val_auc: 0.7675 - val_loss: 0.0368
Epoch 27/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7581 - auc: 0.8437 - loss: 0.0303 - val_accuracy: 0.7011 - val_auc: 0.7720 - val_loss: 0.0365
Epoch 28/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7607 - auc: 0.8434 - loss: 0.0306 - val_accuracy: 0.7014 - val_auc: 0.7726 - val_loss: 0.0367
Epoch 29/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7686 - auc: 0.8517 - loss: 0.0296 - val_accuracy: 0.6989 - val_auc: 0.7688 - val_loss: 0.0378
Epoch 30/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7674 - auc: 0.8510 - loss: 0.0297 - val_accuracy: 0.7144 - val_auc: 0.7814 - val_loss: 0.0370
Epoch 31/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7785 - auc: 0.8570 - loss: 0.0295 - val_accuracy: 0.7094 - val_auc: 0.7833 - val_loss: 0.0370
Epoch 32/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7749 - auc: 0.8608 - loss: 0.0290 - val_accuracy: 0.7104 - val_auc: 0.7825 - val_loss: 0.0370
Epoch 33/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7810 - auc: 0.8656 - loss: 0.0286 - val_accuracy: 0.7133 - val_auc: 0.7815 - val_loss: 0.0372
Epoch 34/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7843 - auc: 0.8686 - loss: 0.0283 - val_accuracy: 0.7201 - val_auc: 0.7910 - val_loss: 0.0361
Epoch 35/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7894 - auc: 0.8753 - loss: 0.0278 - val_accuracy: 0.7219 - val_auc: 0.7887 - val_loss: 0.0365
Epoch 36/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7915 - auc: 0.8738 - loss: 0.0280 - val_accuracy: 0.7212 - val_auc: 0.7890 - val_loss: 0.0363
Epoch 37/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7969 - auc: 0.8804 - loss: 0.0272 - val_accuracy: 0.7216 - val_auc: 0.7899 - val_loss: 0.0366
Epoch 38/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7988 - auc: 0.8840 - loss: 0.0267 - val_accuracy: 0.7230 - val_auc: 0.7841 - val_loss: 0.0380
Epoch 39/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7981 - auc: 0.8860 - loss: 0.0265 - val_accuracy: 0.7205 - val_auc: 0.7896 - val_loss: 0.0375
Epoch 40/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8035 - auc: 0.8883 - loss: 0.0266 - val_accuracy: 0.7180 - val_auc: 0.7904 - val_loss: 0.0381
Epoch 41/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7990 - auc: 0.8852 - loss: 0.0267 - val_accuracy: 0.7158 - val_auc: 0.7921 - val_loss: 0.0373
Epoch 42/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8023 - auc: 0.8888 - loss: 0.0262 - val_accuracy: 0.7309 - val_auc: 0.7950 - val_loss: 0.0375
Epoch 43/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8121 - auc: 0.8963 - loss: 0.0255 - val_accuracy: 0.7212 - val_auc: 0.7951 - val_loss: 0.0382
Epoch 44/50
348/348 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8080 - auc: 0.8946 - loss: 0.0257 - val_accuracy: 0.7248 - val_auc: 0.7981 - val_loss: 0.0382
2025-11-10 18:53:14.831 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 44
2025-11-10 18:53:14.832 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0257, Accuracy: 0.8080, AUC: 0.8946
2025-11-10 18:53:14.833 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0382, Accuracy: 0.7248, AUC: 0.7981
2025-11-10 18:53:14.836 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:53:14.964 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:53:16.162 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 16984 data points.
2025-11-10 18:53:16.254 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16964 sequences.
2025-11-10 18:53:18.121 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:53:18.140 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:53:18.141 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:53:18.142 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_400\GainX_400_M15'...
2025-11-10 18:53:18.182 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_M15\random_forest.pkl
2025-11-10 18:53:18.192 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_M15\gradient_boosting.pkl
2025-11-10 18:53:18.223 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_400\GainX_400_M15\lstm.keras and models\GainX_400\GainX_400_M15\lstm_scaler.pkl
2025-11-10 18:53:18.224 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_400\GainX_400_M15\feature_info.pkl
2025-11-10 18:53:18.226 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_400\GainX_400_M15\meta_model.pkl
2025-11-10 18:53:18.227 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_400\GainX_400_M15\training_metadata.json
2025-11-10 18:53:18.228 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 400 [15m] (7/40)
2025-11-10 18:53:18.229 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 400 [1h] ---
2025-11-10 18:53:18.418 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16309 candles for GainX 400 [1h] from MT5
2025-11-10 18:53:18.419 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16309 candles (minimum: 2000)
2025-11-10 18:53:20.422 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:53:21.419 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:53:24.301 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:53:24.302 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:53:32.366 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13803 signals total, 8928 profitable (64.7% win rate), 4875 unprofitable
2025-11-10 18:53:32.440 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13803, 116), Shape of y: (13803,)
2025-11-10 18:53:32.451 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13803 data points.
2025-11-10 18:53:32.615 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13753 sequences.
2025-11-10 18:53:32.688 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:53:32.688 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:53:32.694 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:53:32.694 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:53:32.722 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:53:38.100 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:53:38.102 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 18:56:20.120 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 18:56:20.121 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 18:56:20.122 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 18:56:20.466 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 18:56:20.467 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4856), np.float64(1.0): np.int64(8897)}
2025-11-10 18:56:20.468 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13753
2025-11-10 18:56:20.634 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 8897 to 7284
2025-11-10 18:56:20.635 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4856), np.float64(1.0): np.int64(7284)}
2025-11-10 18:56:20.636 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12140
2025-11-10 18:56:20.639 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5653 - auc: 0.5082 - loss: 0.0445 - val_accuracy: 0.5894 - val_auc: 0.5666 - val_loss: 0.0422
Epoch 2/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5962 - auc: 0.5316 - loss: 0.0423 - val_accuracy: 0.5877 - val_auc: 0.5657 - val_loss: 0.0421
Epoch 3/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6039 - auc: 0.5600 - loss: 0.0419 - val_accuracy: 0.5906 - val_auc: 0.5976 - val_loss: 0.0420
Epoch 4/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6092 - auc: 0.5617 - loss: 0.0417 - val_accuracy: 0.5935 - val_auc: 0.6027 - val_loss: 0.0419
Epoch 5/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6073 - auc: 0.5711 - loss: 0.0416 - val_accuracy: 0.5939 - val_auc: 0.5985 - val_loss: 0.0418
Epoch 6/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6148 - auc: 0.5895 - loss: 0.0413 - val_accuracy: 0.6063 - val_auc: 0.6205 - val_loss: 0.0415
Epoch 7/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6222 - auc: 0.6064 - loss: 0.0410 - val_accuracy: 0.6116 - val_auc: 0.6421 - val_loss: 0.0411
Epoch 8/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6296 - auc: 0.6222 - loss: 0.0406 - val_accuracy: 0.6083 - val_auc: 0.6356 - val_loss: 0.0410
Epoch 9/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6312 - auc: 0.6411 - loss: 0.0402 - val_accuracy: 0.6178 - val_auc: 0.6711 - val_loss: 0.0405
Epoch 10/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6390 - auc: 0.6522 - loss: 0.0397 - val_accuracy: 0.6334 - val_auc: 0.6697 - val_loss: 0.0400
Epoch 11/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6458 - auc: 0.6693 - loss: 0.0393 - val_accuracy: 0.6347 - val_auc: 0.6610 - val_loss: 0.0405
Epoch 12/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6565 - auc: 0.6852 - loss: 0.0387 - val_accuracy: 0.6512 - val_auc: 0.6903 - val_loss: 0.0394
Epoch 13/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6692 - auc: 0.7024 - loss: 0.0380 - val_accuracy: 0.6557 - val_auc: 0.7014 - val_loss: 0.0389
Epoch 14/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6767 - auc: 0.7243 - loss: 0.0373 - val_accuracy: 0.6520 - val_auc: 0.6924 - val_loss: 0.0390
Epoch 15/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6872 - auc: 0.7366 - loss: 0.0368 - val_accuracy: 0.6656 - val_auc: 0.7156 - val_loss: 0.0383
Epoch 16/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6939 - auc: 0.7487 - loss: 0.0361 - val_accuracy: 0.6800 - val_auc: 0.7358 - val_loss: 0.0375
Epoch 17/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7006 - auc: 0.7603 - loss: 0.0355 - val_accuracy: 0.6722 - val_auc: 0.7320 - val_loss: 0.0376
Epoch 18/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7153 - auc: 0.7737 - loss: 0.0350 - val_accuracy: 0.6833 - val_auc: 0.7422 - val_loss: 0.0372
Epoch 19/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7187 - auc: 0.7847 - loss: 0.0342 - val_accuracy: 0.6866 - val_auc: 0.7499 - val_loss: 0.0371
Epoch 20/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7259 - auc: 0.7976 - loss: 0.0335 - val_accuracy: 0.6928 - val_auc: 0.7595 - val_loss: 0.0369
Epoch 21/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7381 - auc: 0.8119 - loss: 0.0327 - val_accuracy: 0.7133 - val_auc: 0.7737 - val_loss: 0.0363
Epoch 22/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7430 - auc: 0.8182 - loss: 0.0323 - val_accuracy: 0.7051 - val_auc: 0.7692 - val_loss: 0.0362
Epoch 23/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7463 - auc: 0.8236 - loss: 0.0317 - val_accuracy: 0.7047 - val_auc: 0.7807 - val_loss: 0.0359
Epoch 24/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7542 - auc: 0.8307 - loss: 0.0313 - val_accuracy: 0.7166 - val_auc: 0.7921 - val_loss: 0.0361
Epoch 25/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7600 - auc: 0.8402 - loss: 0.0306 - val_accuracy: 0.7335 - val_auc: 0.8034 - val_loss: 0.0347
Epoch 26/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7608 - auc: 0.8404 - loss: 0.0306 - val_accuracy: 0.7327 - val_auc: 0.8021 - val_loss: 0.0346
Epoch 27/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7688 - auc: 0.8512 - loss: 0.0296 - val_accuracy: 0.7261 - val_auc: 0.8065 - val_loss: 0.0348
Epoch 28/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7741 - auc: 0.8546 - loss: 0.0293 - val_accuracy: 0.7323 - val_auc: 0.8015 - val_loss: 0.0357
Epoch 29/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7771 - auc: 0.8592 - loss: 0.0291 - val_accuracy: 0.7348 - val_auc: 0.8109 - val_loss: 0.0350
Epoch 30/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7776 - auc: 0.8663 - loss: 0.0283 - val_accuracy: 0.7339 - val_auc: 0.8090 - val_loss: 0.0352
Epoch 31/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7809 - auc: 0.8667 - loss: 0.0284 - val_accuracy: 0.7397 - val_auc: 0.8144 - val_loss: 0.0350
Epoch 32/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7848 - auc: 0.8730 - loss: 0.0277 - val_accuracy: 0.7360 - val_auc: 0.8058 - val_loss: 0.0362
Epoch 33/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7930 - auc: 0.8799 - loss: 0.0271 - val_accuracy: 0.7422 - val_auc: 0.8164 - val_loss: 0.0356
Epoch 34/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7912 - auc: 0.8781 - loss: 0.0273 - val_accuracy: 0.7500 - val_auc: 0.8173 - val_loss: 0.0350
Epoch 35/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7924 - auc: 0.8801 - loss: 0.0271 - val_accuracy: 0.7393 - val_auc: 0.8163 - val_loss: 0.0358
Epoch 36/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8042 - auc: 0.8901 - loss: 0.0264 - val_accuracy: 0.7512 - val_auc: 0.8259 - val_loss: 0.0346
2025-11-10 18:58:17.471 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 36
2025-11-10 18:58:17.472 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0264, Accuracy: 0.8042, AUC: 0.8901
2025-11-10 18:58:17.473 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0346, Accuracy: 0.7512, AUC: 0.8259
2025-11-10 18:58:17.476 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 18:58:17.570 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 18:58:18.536 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13803 data points.
2025-11-10 18:58:18.610 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13783 sequences.
2025-11-10 18:58:20.196 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 18:58:20.212 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 18:58:20.213 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 18:58:20.214 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_400\GainX_400_H1'...
2025-11-10 18:58:20.265 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_400\GainX_400_H1\random_forest.pkl
2025-11-10 18:58:20.280 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_400\GainX_400_H1\gradient_boosting.pkl
2025-11-10 18:58:20.307 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_400\GainX_400_H1\lstm.keras and models\GainX_400\GainX_400_H1\lstm_scaler.pkl
2025-11-10 18:58:20.308 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_400\GainX_400_H1\feature_info.pkl
2025-11-10 18:58:20.309 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_400\GainX_400_H1\meta_model.pkl
2025-11-10 18:58:20.310 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_400\GainX_400_H1\training_metadata.json
2025-11-10 18:58:20.312 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 400 [1h] (8/40)
2025-11-10 18:58:20.312 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 600 [1m] ---
2025-11-10 18:58:20.321 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [1m] from MT5
2025-11-10 18:58:20.322 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 18:58:22.325 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 18:58:23.532 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 18:58:26.978 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 18:58:26.979 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 18:58:37.049 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17425 signals total, 13489 profitable (77.4% win rate), 3936 unprofitable
2025-11-10 18:58:37.140 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17425, 116), Shape of y: (17425,)
2025-11-10 18:58:37.156 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17425 data points.
2025-11-10 18:58:37.361 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17375 sequences.
2025-11-10 18:58:37.444 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 18:58:37.445 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 18:58:37.450 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 18:58:37.451 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 18:58:37.484 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 18:58:43.150 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 18:58:43.151 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:01:38.486 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:01:38.488 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:01:38.489 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:01:38.527 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:01:38.528 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3923), np.float64(1.0): np.int64(13452)}
2025-11-10 19:01:38.529 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17375
2025-11-10 19:01:38.664 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13452 to 5884
2025-11-10 19:01:38.665 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3923), np.float64(1.0): np.int64(5884)}
2025-11-10 19:01:38.668 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9807
2025-11-10 19:01:38.669 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.24993627326026), 1: np.float64(0.833361658735554)}
Epoch 1/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6205 - auc: 0.6415 - loss: 0.0417 - val_accuracy: 0.6692 - val_auc: 0.6977 - val_loss: 0.0389
Epoch 2/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6519 - auc: 0.6815 - loss: 0.0397 - val_accuracy: 0.6723 - val_auc: 0.7118 - val_loss: 0.0388
Epoch 3/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6498 - auc: 0.6892 - loss: 0.0394 - val_accuracy: 0.6738 - val_auc: 0.7081 - val_loss: 0.0388
Epoch 4/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6605 - auc: 0.6937 - loss: 0.0394 - val_accuracy: 0.6733 - val_auc: 0.7165 - val_loss: 0.0383
Epoch 5/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6585 - auc: 0.6960 - loss: 0.0393 - val_accuracy: 0.6667 - val_auc: 0.7138 - val_loss: 0.0385
Epoch 6/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6604 - auc: 0.7045 - loss: 0.0388 - val_accuracy: 0.6743 - val_auc: 0.7188 - val_loss: 0.0382
Epoch 7/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6662 - auc: 0.7068 - loss: 0.0387 - val_accuracy: 0.6764 - val_auc: 0.7191 - val_loss: 0.0385
Epoch 8/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6723 - auc: 0.7125 - loss: 0.0385 - val_accuracy: 0.6881 - val_auc: 0.7254 - val_loss: 0.0381
Epoch 9/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6710 - auc: 0.7143 - loss: 0.0383 - val_accuracy: 0.6804 - val_auc: 0.7221 - val_loss: 0.0379
Epoch 10/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6858 - auc: 0.7229 - loss: 0.0381 - val_accuracy: 0.6825 - val_auc: 0.7268 - val_loss: 0.0377
Epoch 11/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6795 - auc: 0.7225 - loss: 0.0380 - val_accuracy: 0.6743 - val_auc: 0.7238 - val_loss: 0.0382
Epoch 12/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6869 - auc: 0.7307 - loss: 0.0376 - val_accuracy: 0.6840 - val_auc: 0.7302 - val_loss: 0.0376
Epoch 13/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6901 - auc: 0.7307 - loss: 0.0376 - val_accuracy: 0.6804 - val_auc: 0.7299 - val_loss: 0.0376
Epoch 14/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6938 - auc: 0.7342 - loss: 0.0373 - val_accuracy: 0.6886 - val_auc: 0.7310 - val_loss: 0.0374
Epoch 15/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6987 - auc: 0.7434 - loss: 0.0369 - val_accuracy: 0.6901 - val_auc: 0.7379 - val_loss: 0.0370
Epoch 16/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7006 - auc: 0.7453 - loss: 0.0369 - val_accuracy: 0.6922 - val_auc: 0.7420 - val_loss: 0.0369
Epoch 17/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7018 - auc: 0.7526 - loss: 0.0363 - val_accuracy: 0.6962 - val_auc: 0.7414 - val_loss: 0.0370
Epoch 18/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7071 - auc: 0.7608 - loss: 0.0358 - val_accuracy: 0.6922 - val_auc: 0.7409 - val_loss: 0.0371
Epoch 19/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7101 - auc: 0.7600 - loss: 0.0359 - val_accuracy: 0.7013 - val_auc: 0.7473 - val_loss: 0.0368
Epoch 20/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7179 - auc: 0.7658 - loss: 0.0355 - val_accuracy: 0.7034 - val_auc: 0.7447 - val_loss: 0.0367
Epoch 21/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7229 - auc: 0.7763 - loss: 0.0348 - val_accuracy: 0.7074 - val_auc: 0.7461 - val_loss: 0.0365
Epoch 22/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7244 - auc: 0.7777 - loss: 0.0348 - val_accuracy: 0.7074 - val_auc: 0.7511 - val_loss: 0.0364
Epoch 23/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7281 - auc: 0.7850 - loss: 0.0343 - val_accuracy: 0.7034 - val_auc: 0.7513 - val_loss: 0.0362
Epoch 24/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7319 - auc: 0.7889 - loss: 0.0341 - val_accuracy: 0.7130 - val_auc: 0.7613 - val_loss: 0.0356
Epoch 25/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7380 - auc: 0.8016 - loss: 0.0333 - val_accuracy: 0.7166 - val_auc: 0.7694 - val_loss: 0.0358
Epoch 26/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7419 - auc: 0.8044 - loss: 0.0330 - val_accuracy: 0.7151 - val_auc: 0.7648 - val_loss: 0.0361
Epoch 27/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7438 - auc: 0.8062 - loss: 0.0328 - val_accuracy: 0.7110 - val_auc: 0.7691 - val_loss: 0.0357
Epoch 28/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7451 - auc: 0.8105 - loss: 0.0325 - val_accuracy: 0.7069 - val_auc: 0.7607 - val_loss: 0.0375
Epoch 29/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7462 - auc: 0.8152 - loss: 0.0322 - val_accuracy: 0.7176 - val_auc: 0.7732 - val_loss: 0.0356
Epoch 30/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7518 - auc: 0.8209 - loss: 0.0318 - val_accuracy: 0.7176 - val_auc: 0.7708 - val_loss: 0.0358
Epoch 31/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7518 - auc: 0.8268 - loss: 0.0314 - val_accuracy: 0.7222 - val_auc: 0.7745 - val_loss: 0.0355
Epoch 32/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7619 - auc: 0.8314 - loss: 0.0309 - val_accuracy: 0.7217 - val_auc: 0.7741 - val_loss: 0.0362
Epoch 33/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7609 - auc: 0.8341 - loss: 0.0307 - val_accuracy: 0.7187 - val_auc: 0.7836 - val_loss: 0.0352
Epoch 34/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7703 - auc: 0.8401 - loss: 0.0304 - val_accuracy: 0.7212 - val_auc: 0.7772 - val_loss: 0.0376
Epoch 35/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7612 - auc: 0.8347 - loss: 0.0307 - val_accuracy: 0.7304 - val_auc: 0.7863 - val_loss: 0.0357
Epoch 36/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7689 - auc: 0.8449 - loss: 0.0299 - val_accuracy: 0.7222 - val_auc: 0.7883 - val_loss: 0.0354
Epoch 37/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7688 - auc: 0.8440 - loss: 0.0298 - val_accuracy: 0.7217 - val_auc: 0.7789 - val_loss: 0.0354
Epoch 38/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7746 - auc: 0.8510 - loss: 0.0292 - val_accuracy: 0.7304 - val_auc: 0.7892 - val_loss: 0.0352
Epoch 39/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7751 - auc: 0.8559 - loss: 0.0290 - val_accuracy: 0.7278 - val_auc: 0.7904 - val_loss: 0.0356
Epoch 40/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7816 - auc: 0.8606 - loss: 0.0283 - val_accuracy: 0.7283 - val_auc: 0.7952 - val_loss: 0.0349
Epoch 41/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7813 - auc: 0.8595 - loss: 0.0287 - val_accuracy: 0.7299 - val_auc: 0.7813 - val_loss: 0.0355
Epoch 42/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7864 - auc: 0.8645 - loss: 0.0283 - val_accuracy: 0.7360 - val_auc: 0.7950 - val_loss: 0.0364
Epoch 43/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7911 - auc: 0.8696 - loss: 0.0278 - val_accuracy: 0.7431 - val_auc: 0.8019 - val_loss: 0.0357
Epoch 44/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7837 - auc: 0.8665 - loss: 0.0280 - val_accuracy: 0.7513 - val_auc: 0.8015 - val_loss: 0.0360
Epoch 45/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7874 - auc: 0.8696 - loss: 0.0278 - val_accuracy: 0.7462 - val_auc: 0.8033 - val_loss: 0.0362
Epoch 46/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7987 - auc: 0.8785 - loss: 0.0267 - val_accuracy: 0.7370 - val_auc: 0.8053 - val_loss: 0.0352
Epoch 47/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7941 - auc: 0.8750 - loss: 0.0271 - val_accuracy: 0.7446 - val_auc: 0.8027 - val_loss: 0.0364
Epoch 48/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7904 - auc: 0.8777 - loss: 0.0269 - val_accuracy: 0.7446 - val_auc: 0.8032 - val_loss: 0.0367
Epoch 49/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8015 - auc: 0.8880 - loss: 0.0258 - val_accuracy: 0.7477 - val_auc: 0.8099 - val_loss: 0.0361
Epoch 50/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.8045 - auc: 0.8880 - loss: 0.0260 - val_accuracy: 0.7421 - val_auc: 0.8059 - val_loss: 0.0365
2025-11-10 19:03:49.603 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 19:03:49.604 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0260, Accuracy: 0.8045, AUC: 0.8880
2025-11-10 19:03:49.605 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0365, Accuracy: 0.7421, AUC: 0.8059
2025-11-10 19:03:49.608 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:03:49.682 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:03:50.905 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17425 data points.
2025-11-10 19:03:50.999 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17405 sequences.
2025-11-10 19:03:52.903 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:03:52.923 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:03:52.925 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:03:52.925 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_600\PainX_600_M1'...
2025-11-10 19:03:52.948 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M1\random_forest.pkl
2025-11-10 19:03:52.957 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M1\gradient_boosting.pkl
2025-11-10 19:03:53.031 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_600\PainX_600_M1\lstm.keras and models\PainX_600\PainX_600_M1\lstm_scaler.pkl
2025-11-10 19:03:53.032 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_600\PainX_600_M1\feature_info.pkl
2025-11-10 19:03:53.034 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_600\PainX_600_M1\meta_model.pkl
2025-11-10 19:03:53.035 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_600\PainX_600_M1\training_metadata.json
2025-11-10 19:03:53.036 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 600 [1m] (9/40)
2025-11-10 19:03:53.037 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 600 [5m] ---
2025-11-10 19:03:54.250 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [5m] from MT5
2025-11-10 19:03:54.250 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 19:03:56.253 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:03:57.456 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:04:00.974 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:04:00.975 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:04:10.909 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17063 signals total, 12135 profitable (71.1% win rate), 4928 unprofitable
2025-11-10 19:04:10.999 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17063, 116), Shape of y: (17063,)
2025-11-10 19:04:11.016 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17063 data points.
2025-11-10 19:04:11.216 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17013 sequences.
2025-11-10 19:04:11.310 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:04:11.311 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:04:11.314 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:04:11.315 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:04:11.348 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:04:17.564 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:04:17.565 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:07:29.474 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:07:29.476 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:07:29.477 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:07:29.517 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:07:29.517 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4910), np.float64(1.0): np.int64(12103)}
2025-11-10 19:07:29.519 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17013
2025-11-10 19:07:29.686 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12103 to 7365
2025-11-10 19:07:29.687 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4910), np.float64(1.0): np.int64(7365)}
2025-11-10 19:07:29.688 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12275
2025-11-10 19:07:29.691 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5692 - auc: 0.5510 - loss: 0.0441 - val_accuracy: 0.6069 - val_auc: 0.6045 - val_loss: 0.0413
Epoch 2/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5962 - auc: 0.5906 - loss: 0.0419 - val_accuracy: 0.6098 - val_auc: 0.6247 - val_loss: 0.0411
Epoch 3/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5980 - auc: 0.6016 - loss: 0.0415 - val_accuracy: 0.6073 - val_auc: 0.6199 - val_loss: 0.0410
Epoch 4/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.5956 - auc: 0.5969 - loss: 0.0414 - val_accuracy: 0.6049 - val_auc: 0.6209 - val_loss: 0.0409
Epoch 5/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6015 - auc: 0.6094 - loss: 0.0411 - val_accuracy: 0.6045 - val_auc: 0.6227 - val_loss: 0.0408
Epoch 6/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6019 - auc: 0.6180 - loss: 0.0409 - val_accuracy: 0.6069 - val_auc: 0.6247 - val_loss: 0.0406
Epoch 7/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6116 - auc: 0.6311 - loss: 0.0406 - val_accuracy: 0.6143 - val_auc: 0.6324 - val_loss: 0.0405
Epoch 8/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6069 - auc: 0.6365 - loss: 0.0403 - val_accuracy: 0.6126 - val_auc: 0.6325 - val_loss: 0.0405
Epoch 9/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6072 - auc: 0.6402 - loss: 0.0401 - val_accuracy: 0.6000 - val_auc: 0.6350 - val_loss: 0.0404
Epoch 10/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6103 - auc: 0.6493 - loss: 0.0398 - val_accuracy: 0.6090 - val_auc: 0.6482 - val_loss: 0.0398
Epoch 11/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6218 - auc: 0.6635 - loss: 0.0394 - val_accuracy: 0.6061 - val_auc: 0.6537 - val_loss: 0.0396
Epoch 12/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6280 - auc: 0.6702 - loss: 0.0390 - val_accuracy: 0.6200 - val_auc: 0.6619 - val_loss: 0.0393
Epoch 13/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6288 - auc: 0.6761 - loss: 0.0389 - val_accuracy: 0.6273 - val_auc: 0.6694 - val_loss: 0.0391
Epoch 14/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6362 - auc: 0.6892 - loss: 0.0383 - val_accuracy: 0.6236 - val_auc: 0.6730 - val_loss: 0.0391
Epoch 15/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6394 - auc: 0.6976 - loss: 0.0377 - val_accuracy: 0.6387 - val_auc: 0.6852 - val_loss: 0.0386
Epoch 16/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6450 - auc: 0.7024 - loss: 0.0376 - val_accuracy: 0.6367 - val_auc: 0.6912 - val_loss: 0.0392
Epoch 17/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6447 - auc: 0.7082 - loss: 0.0373 - val_accuracy: 0.6444 - val_auc: 0.6920 - val_loss: 0.0384
Epoch 18/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6533 - auc: 0.7179 - loss: 0.0370 - val_accuracy: 0.6460 - val_auc: 0.7003 - val_loss: 0.0380
Epoch 19/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6586 - auc: 0.7265 - loss: 0.0364 - val_accuracy: 0.6371 - val_auc: 0.6989 - val_loss: 0.0383
Epoch 20/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6515 - auc: 0.7226 - loss: 0.0366 - val_accuracy: 0.6485 - val_auc: 0.7027 - val_loss: 0.0386
Epoch 21/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6615 - auc: 0.7353 - loss: 0.0360 - val_accuracy: 0.6578 - val_auc: 0.7095 - val_loss: 0.0385
Epoch 22/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6706 - auc: 0.7425 - loss: 0.0357 - val_accuracy: 0.6538 - val_auc: 0.7208 - val_loss: 0.0381
Epoch 23/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6786 - auc: 0.7526 - loss: 0.0353 - val_accuracy: 0.6574 - val_auc: 0.7235 - val_loss: 0.0376
Epoch 24/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6782 - auc: 0.7547 - loss: 0.0353 - val_accuracy: 0.6501 - val_auc: 0.7104 - val_loss: 0.0390
Epoch 25/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6781 - auc: 0.7553 - loss: 0.0351 - val_accuracy: 0.6570 - val_auc: 0.7231 - val_loss: 0.0378
Epoch 26/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6884 - auc: 0.7674 - loss: 0.0346 - val_accuracy: 0.6676 - val_auc: 0.7336 - val_loss: 0.0384
Epoch 27/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6897 - auc: 0.7729 - loss: 0.0345 - val_accuracy: 0.6745 - val_auc: 0.7317 - val_loss: 0.0385
Epoch 28/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6980 - auc: 0.7828 - loss: 0.0337 - val_accuracy: 0.6688 - val_auc: 0.7411 - val_loss: 0.0383
Epoch 29/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7068 - auc: 0.7881 - loss: 0.0337 - val_accuracy: 0.6668 - val_auc: 0.7364 - val_loss: 0.0382
Epoch 30/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7125 - auc: 0.7934 - loss: 0.0334 - val_accuracy: 0.6668 - val_auc: 0.7346 - val_loss: 0.0380
Epoch 31/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7178 - auc: 0.8004 - loss: 0.0328 - val_accuracy: 0.6729 - val_auc: 0.7396 - val_loss: 0.0387
Epoch 32/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7184 - auc: 0.8005 - loss: 0.0329 - val_accuracy: 0.6827 - val_auc: 0.7505 - val_loss: 0.0380
Epoch 33/50
307/307 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7214 - auc: 0.8061 - loss: 0.0325 - val_accuracy: 0.6819 - val_auc: 0.7475 - val_loss: 0.0377
2025-11-10 19:09:21.880 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 33
2025-11-10 19:09:21.880 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0325, Accuracy: 0.7214, AUC: 0.8061
2025-11-10 19:09:21.882 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0377, Accuracy: 0.6819, AUC: 0.7475
2025-11-10 19:09:21.885 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:09:21.970 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:09:23.172 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17063 data points.
2025-11-10 19:09:23.263 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17043 sequences.
2025-11-10 19:09:25.131 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:09:25.157 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:09:25.159 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:09:25.160 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_600\PainX_600_M5'...
2025-11-10 19:09:25.185 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M5\random_forest.pkl
2025-11-10 19:09:25.218 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M5\gradient_boosting.pkl
2025-11-10 19:09:25.246 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_600\PainX_600_M5\lstm.keras and models\PainX_600\PainX_600_M5\lstm_scaler.pkl
2025-11-10 19:09:25.248 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_600\PainX_600_M5\feature_info.pkl
2025-11-10 19:09:25.249 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_600\PainX_600_M5\meta_model.pkl
2025-11-10 19:09:25.250 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_600\PainX_600_M5\training_metadata.json
2025-11-10 19:09:25.251 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 600 [5m] (10/40)
2025-11-10 19:09:25.253 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 600 [15m] ---
2025-11-10 19:09:25.255 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 19:09:25.256 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 19:09:28.274 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 19:09:28.276 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 19:09:28.280 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 19:09:28.341 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 600 [15m] from MT5
2025-11-10 19:09:28.343 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 19:09:30.348 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:09:31.552 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:09:35.080 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:09:35.081 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:09:45.043 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17044 signals total, 11302 profitable (66.3% win rate), 5742 unprofitable
2025-11-10 19:09:45.132 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17044, 116), Shape of y: (17044,)
2025-11-10 19:09:45.148 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17044 data points.
2025-11-10 19:09:45.347 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 16994 sequences.
2025-11-10 19:09:45.415 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:09:45.415 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:09:45.419 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:09:45.419 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:09:45.453 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:09:51.891 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:09:51.893 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:13:16.683 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:13:16.685 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:13:16.685 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:13:16.725 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:13:16.725 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5725), np.float64(1.0): np.int64(11269)}
2025-11-10 19:13:16.727 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 16994
2025-11-10 19:13:16.925 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11269 to 8587
2025-11-10 19:13:16.926 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5725), np.float64(1.0): np.int64(8587)}
2025-11-10 19:13:16.927 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 14312
2025-11-10 19:13:16.930 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499563318777294), 1: np.float64(0.8333527425177594)}
Epoch 1/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 6s 11ms/step - accuracy: 0.5724 - auc: 0.5256 - loss: 0.0437 - val_accuracy: 0.6064 - val_auc: 0.5679 - val_loss: 0.0418
Epoch 2/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.5980 - auc: 0.5525 - loss: 0.0421 - val_accuracy: 0.6057 - val_auc: 0.5864 - val_loss: 0.0416
Epoch 3/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6028 - auc: 0.5602 - loss: 0.0419 - val_accuracy: 0.6029 - val_auc: 0.5782 - val_loss: 0.0416
Epoch 4/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6044 - auc: 0.5758 - loss: 0.0417 - val_accuracy: 0.6060 - val_auc: 0.5678 - val_loss: 0.0418
Epoch 5/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6069 - auc: 0.5849 - loss: 0.0415 - val_accuracy: 0.6081 - val_auc: 0.5834 - val_loss: 0.0415
Epoch 6/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6182 - auc: 0.5993 - loss: 0.0412 - val_accuracy: 0.6165 - val_auc: 0.5875 - val_loss: 0.0413
Epoch 7/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6174 - auc: 0.6028 - loss: 0.0411 - val_accuracy: 0.6147 - val_auc: 0.5969 - val_loss: 0.0412
Epoch 8/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6302 - auc: 0.6252 - loss: 0.0406 - val_accuracy: 0.6182 - val_auc: 0.6058 - val_loss: 0.0411
Epoch 9/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6298 - auc: 0.6359 - loss: 0.0404 - val_accuracy: 0.6182 - val_auc: 0.6114 - val_loss: 0.0410
Epoch 10/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6339 - auc: 0.6507 - loss: 0.0400 - val_accuracy: 0.6175 - val_auc: 0.6212 - val_loss: 0.0407
Epoch 11/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6424 - auc: 0.6615 - loss: 0.0396 - val_accuracy: 0.6326 - val_auc: 0.6391 - val_loss: 0.0403
Epoch 12/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6504 - auc: 0.6789 - loss: 0.0390 - val_accuracy: 0.6329 - val_auc: 0.6444 - val_loss: 0.0401
Epoch 13/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6542 - auc: 0.6927 - loss: 0.0385 - val_accuracy: 0.6444 - val_auc: 0.6701 - val_loss: 0.0395
Epoch 14/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6636 - auc: 0.7036 - loss: 0.0380 - val_accuracy: 0.6416 - val_auc: 0.6731 - val_loss: 0.0393
Epoch 15/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6691 - auc: 0.7214 - loss: 0.0373 - val_accuracy: 0.6409 - val_auc: 0.6731 - val_loss: 0.0394
Epoch 16/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6819 - auc: 0.7338 - loss: 0.0368 - val_accuracy: 0.6601 - val_auc: 0.7026 - val_loss: 0.0385
Epoch 17/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6869 - auc: 0.7522 - loss: 0.0361 - val_accuracy: 0.6629 - val_auc: 0.7053 - val_loss: 0.0386
Epoch 18/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6958 - auc: 0.7664 - loss: 0.0353 - val_accuracy: 0.6650 - val_auc: 0.7204 - val_loss: 0.0383
Epoch 19/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7100 - auc: 0.7782 - loss: 0.0347 - val_accuracy: 0.6661 - val_auc: 0.7239 - val_loss: 0.0379
Epoch 20/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7101 - auc: 0.7834 - loss: 0.0342 - val_accuracy: 0.6755 - val_auc: 0.7262 - val_loss: 0.0381
Epoch 21/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7183 - auc: 0.7934 - loss: 0.0338 - val_accuracy: 0.6835 - val_auc: 0.7380 - val_loss: 0.0374
Epoch 22/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7316 - auc: 0.8063 - loss: 0.0330 - val_accuracy: 0.6811 - val_auc: 0.7409 - val_loss: 0.0378
Epoch 23/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7365 - auc: 0.8148 - loss: 0.0325 - val_accuracy: 0.6954 - val_auc: 0.7484 - val_loss: 0.0374
Epoch 24/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7368 - auc: 0.8176 - loss: 0.0323 - val_accuracy: 0.7038 - val_auc: 0.7620 - val_loss: 0.0374
Epoch 25/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7443 - auc: 0.8235 - loss: 0.0320 - val_accuracy: 0.6923 - val_auc: 0.7472 - val_loss: 0.0374
Epoch 26/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7565 - auc: 0.8320 - loss: 0.0313 - val_accuracy: 0.7017 - val_auc: 0.7617 - val_loss: 0.0371
Epoch 27/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7610 - auc: 0.8401 - loss: 0.0307 - val_accuracy: 0.7104 - val_auc: 0.7706 - val_loss: 0.0365
Epoch 28/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7656 - auc: 0.8436 - loss: 0.0303 - val_accuracy: 0.7090 - val_auc: 0.7741 - val_loss: 0.0364
Epoch 29/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7602 - auc: 0.8445 - loss: 0.0302 - val_accuracy: 0.7171 - val_auc: 0.7757 - val_loss: 0.0368
Epoch 30/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7701 - auc: 0.8543 - loss: 0.0295 - val_accuracy: 0.7136 - val_auc: 0.7742 - val_loss: 0.0367
Epoch 31/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7678 - auc: 0.8536 - loss: 0.0295 - val_accuracy: 0.7087 - val_auc: 0.7752 - val_loss: 0.0371
Epoch 32/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7716 - auc: 0.8581 - loss: 0.0292 - val_accuracy: 0.7157 - val_auc: 0.7836 - val_loss: 0.0368
Epoch 33/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7743 - auc: 0.8580 - loss: 0.0293 - val_accuracy: 0.7241 - val_auc: 0.7855 - val_loss: 0.0367
Epoch 34/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7788 - auc: 0.8671 - loss: 0.0283 - val_accuracy: 0.7181 - val_auc: 0.7868 - val_loss: 0.0368
Epoch 35/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7797 - auc: 0.8663 - loss: 0.0283 - val_accuracy: 0.7241 - val_auc: 0.7941 - val_loss: 0.0363
Epoch 36/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7814 - auc: 0.8728 - loss: 0.0278 - val_accuracy: 0.7164 - val_auc: 0.7886 - val_loss: 0.0366
Epoch 37/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7864 - auc: 0.8737 - loss: 0.0279 - val_accuracy: 0.7304 - val_auc: 0.7966 - val_loss: 0.0365
Epoch 38/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7927 - auc: 0.8807 - loss: 0.0270 - val_accuracy: 0.7244 - val_auc: 0.7937 - val_loss: 0.0371
Epoch 39/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7862 - auc: 0.8764 - loss: 0.0275 - val_accuracy: 0.7227 - val_auc: 0.7956 - val_loss: 0.0372
Epoch 40/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7933 - auc: 0.8849 - loss: 0.0265 - val_accuracy: 0.7237 - val_auc: 0.7907 - val_loss: 0.0389
Epoch 41/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7936 - auc: 0.8836 - loss: 0.0267 - val_accuracy: 0.7237 - val_auc: 0.7993 - val_loss: 0.0375
Epoch 42/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7957 - auc: 0.8875 - loss: 0.0262 - val_accuracy: 0.7265 - val_auc: 0.8010 - val_loss: 0.0379
Epoch 43/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8036 - auc: 0.8910 - loss: 0.0260 - val_accuracy: 0.7276 - val_auc: 0.7999 - val_loss: 0.0382
Epoch 44/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8068 - auc: 0.8930 - loss: 0.0259 - val_accuracy: 0.7209 - val_auc: 0.7904 - val_loss: 0.0411
Epoch 45/50
358/358 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.8112 - auc: 0.9007 - loss: 0.0249 - val_accuracy: 0.7290 - val_auc: 0.7934 - val_loss: 0.0413
2025-11-10 19:16:13.098 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 45
2025-11-10 19:16:13.099 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0249, Accuracy: 0.8112, AUC: 0.9007
2025-11-10 19:16:13.101 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0413, Accuracy: 0.7290, AUC: 0.7934
2025-11-10 19:16:13.104 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:16:13.250 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:16:14.446 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17044 data points.
2025-11-10 19:16:14.537 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17024 sequences.
2025-11-10 19:16:16.285 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:16:16.302 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:16:16.304 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:16:16.304 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_600\PainX_600_M15'...
2025-11-10 19:16:16.384 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_M15\random_forest.pkl
2025-11-10 19:16:16.443 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_M15\gradient_boosting.pkl
2025-11-10 19:16:16.564 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_600\PainX_600_M15\lstm.keras and models\PainX_600\PainX_600_M15\lstm_scaler.pkl
2025-11-10 19:16:16.566 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_600\PainX_600_M15\feature_info.pkl
2025-11-10 19:16:16.568 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_600\PainX_600_M15\meta_model.pkl
2025-11-10 19:16:16.571 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_600\PainX_600_M15\training_metadata.json
2025-11-10 19:16:16.571 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 600 [15m] (11/40)
2025-11-10 19:16:16.572 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 600 [1h] ---
2025-11-10 19:16:16.639 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11945 candles for PainX 600 [1h] from MT5
2025-11-10 19:16:16.640 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 11945 candles (minimum: 2000)
2025-11-10 19:16:18.642 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:16:19.443 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:16:21.552 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:16:21.553 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:16:27.469 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 10080 signals total, 6538 profitable (64.9% win rate), 3542 unprofitable
2025-11-10 19:16:27.522 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (10080, 116), Shape of y: (10080,)
2025-11-10 19:16:27.531 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 10080 data points.
2025-11-10 19:16:27.664 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10030 sequences.
2025-11-10 19:16:27.738 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:16:27.739 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:16:27.742 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:16:27.742 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:16:27.764 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:16:31.661 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:16:31.662 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:18:28.480 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:18:28.481 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:18:28.481 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:18:28.518 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:18:28.518 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3527), np.float64(1.0): np.int64(6503)}
2025-11-10 19:18:28.519 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 10030
2025-11-10 19:18:28.644 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 6503 to 5290
2025-11-10 19:18:28.644 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3527), np.float64(1.0): np.int64(5290)}
2025-11-10 19:18:28.646 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 8817
2025-11-10 19:18:28.649 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.249929118230791), 1: np.float64(0.8333648393194707)}
Epoch 1/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.5684 - auc: 0.5268 - loss: 0.0451 - val_accuracy: 0.6117 - val_auc: 0.5737 - val_loss: 0.0419
Epoch 2/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5973 - auc: 0.5544 - loss: 0.0423 - val_accuracy: 0.6037 - val_auc: 0.5658 - val_loss: 0.0420
Epoch 3/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6033 - auc: 0.5702 - loss: 0.0419 - val_accuracy: 0.6015 - val_auc: 0.5753 - val_loss: 0.0418
Epoch 4/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6124 - auc: 0.5821 - loss: 0.0416 - val_accuracy: 0.6088 - val_auc: 0.6027 - val_loss: 0.0414
Epoch 5/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6169 - auc: 0.6091 - loss: 0.0411 - val_accuracy: 0.6015 - val_auc: 0.6118 - val_loss: 0.0414
Epoch 6/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6224 - auc: 0.6094 - loss: 0.0411 - val_accuracy: 0.6117 - val_auc: 0.6181 - val_loss: 0.0411
Epoch 7/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6355 - auc: 0.6303 - loss: 0.0403 - val_accuracy: 0.6213 - val_auc: 0.6406 - val_loss: 0.0407
Epoch 8/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6355 - auc: 0.6513 - loss: 0.0399 - val_accuracy: 0.6276 - val_auc: 0.6443 - val_loss: 0.0403
Epoch 9/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6400 - auc: 0.6527 - loss: 0.0398 - val_accuracy: 0.6338 - val_auc: 0.6650 - val_loss: 0.0401
Epoch 10/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6514 - auc: 0.6791 - loss: 0.0390 - val_accuracy: 0.6400 - val_auc: 0.6799 - val_loss: 0.0394
Epoch 11/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6626 - auc: 0.7076 - loss: 0.0380 - val_accuracy: 0.6587 - val_auc: 0.6928 - val_loss: 0.0389
Epoch 12/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6728 - auc: 0.7119 - loss: 0.0377 - val_accuracy: 0.6446 - val_auc: 0.6857 - val_loss: 0.0390
Epoch 13/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6804 - auc: 0.7278 - loss: 0.0369 - val_accuracy: 0.6582 - val_auc: 0.7024 - val_loss: 0.0384
Epoch 14/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6946 - auc: 0.7496 - loss: 0.0361 - val_accuracy: 0.6774 - val_auc: 0.7308 - val_loss: 0.0375
Epoch 15/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6935 - auc: 0.7510 - loss: 0.0361 - val_accuracy: 0.6763 - val_auc: 0.7223 - val_loss: 0.0378
Epoch 16/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7092 - auc: 0.7698 - loss: 0.0352 - val_accuracy: 0.6871 - val_auc: 0.7488 - val_loss: 0.0368
Epoch 17/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7150 - auc: 0.7822 - loss: 0.0345 - val_accuracy: 0.6973 - val_auc: 0.7545 - val_loss: 0.0368
Epoch 18/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7274 - auc: 0.7926 - loss: 0.0339 - val_accuracy: 0.6933 - val_auc: 0.7544 - val_loss: 0.0369
Epoch 19/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7228 - auc: 0.8004 - loss: 0.0332 - val_accuracy: 0.7035 - val_auc: 0.7586 - val_loss: 0.0365
Epoch 20/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7439 - auc: 0.8200 - loss: 0.0321 - val_accuracy: 0.7029 - val_auc: 0.7654 - val_loss: 0.0371
Epoch 21/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7441 - auc: 0.8214 - loss: 0.0320 - val_accuracy: 0.7137 - val_auc: 0.7674 - val_loss: 0.0362
Epoch 22/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7516 - auc: 0.8336 - loss: 0.0312 - val_accuracy: 0.7256 - val_auc: 0.7846 - val_loss: 0.0355
Epoch 23/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7605 - auc: 0.8429 - loss: 0.0304 - val_accuracy: 0.7279 - val_auc: 0.7894 - val_loss: 0.0352
Epoch 24/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7557 - auc: 0.8430 - loss: 0.0304 - val_accuracy: 0.7285 - val_auc: 0.7892 - val_loss: 0.0357
Epoch 25/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7663 - auc: 0.8488 - loss: 0.0300 - val_accuracy: 0.7302 - val_auc: 0.7995 - val_loss: 0.0351
Epoch 26/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7729 - auc: 0.8594 - loss: 0.0290 - val_accuracy: 0.7126 - val_auc: 0.7856 - val_loss: 0.0358
Epoch 27/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7835 - auc: 0.8682 - loss: 0.0282 - val_accuracy: 0.7398 - val_auc: 0.8045 - val_loss: 0.0357
Epoch 28/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7899 - auc: 0.8744 - loss: 0.0277 - val_accuracy: 0.7330 - val_auc: 0.8033 - val_loss: 0.0355
Epoch 29/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7981 - auc: 0.8813 - loss: 0.0270 - val_accuracy: 0.7217 - val_auc: 0.7952 - val_loss: 0.0366
Epoch 30/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7994 - auc: 0.8871 - loss: 0.0265 - val_accuracy: 0.7421 - val_auc: 0.8100 - val_loss: 0.0361
Epoch 31/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7940 - auc: 0.8854 - loss: 0.0265 - val_accuracy: 0.7409 - val_auc: 0.8137 - val_loss: 0.0347
Epoch 32/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8031 - auc: 0.8910 - loss: 0.0261 - val_accuracy: 0.7472 - val_auc: 0.8194 - val_loss: 0.0353
Epoch 33/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8111 - auc: 0.8942 - loss: 0.0257 - val_accuracy: 0.7460 - val_auc: 0.8152 - val_loss: 0.0371
Epoch 34/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8116 - auc: 0.8986 - loss: 0.0251 - val_accuracy: 0.7545 - val_auc: 0.8197 - val_loss: 0.0363
Epoch 35/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8117 - auc: 0.8996 - loss: 0.0249 - val_accuracy: 0.7557 - val_auc: 0.8232 - val_loss: 0.0354
Epoch 36/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8215 - auc: 0.9048 - loss: 0.0244 - val_accuracy: 0.7568 - val_auc: 0.8261 - val_loss: 0.0368
Epoch 37/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8238 - auc: 0.9054 - loss: 0.0247 - val_accuracy: 0.7540 - val_auc: 0.8159 - val_loss: 0.0385
Epoch 38/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8222 - auc: 0.9088 - loss: 0.0240 - val_accuracy: 0.7517 - val_auc: 0.8213 - val_loss: 0.0377
Epoch 39/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8257 - auc: 0.9109 - loss: 0.0238 - val_accuracy: 0.7483 - val_auc: 0.8167 - val_loss: 0.0367
Epoch 40/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8311 - auc: 0.9182 - loss: 0.0229 - val_accuracy: 0.7596 - val_auc: 0.8233 - val_loss: 0.0372
Epoch 41/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.8280 - auc: 0.9119 - loss: 0.0238 - val_accuracy: 0.7596 - val_auc: 0.8220 - val_loss: 0.0362
2025-11-10 19:20:12.513 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 41
2025-11-10 19:20:12.513 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0238, Accuracy: 0.8280, AUC: 0.9119
2025-11-10 19:20:12.515 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0362, Accuracy: 0.7596, AUC: 0.8220
2025-11-10 19:20:12.518 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:20:12.593 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:20:13.652 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 10080 data points.
2025-11-10 19:20:13.713 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10060 sequences.
2025-11-10 19:20:14.969 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:20:14.982 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:20:14.983 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:20:14.983 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_600\PainX_600_H1'...
2025-11-10 19:20:15.004 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_600\PainX_600_H1\random_forest.pkl
2025-11-10 19:20:15.014 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_600\PainX_600_H1\gradient_boosting.pkl
2025-11-10 19:20:15.105 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_600\PainX_600_H1\lstm.keras and models\PainX_600\PainX_600_H1\lstm_scaler.pkl
2025-11-10 19:20:15.106 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_600\PainX_600_H1\feature_info.pkl
2025-11-10 19:20:15.107 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_600\PainX_600_H1\meta_model.pkl
2025-11-10 19:20:15.108 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_600\PainX_600_H1\training_metadata.json
2025-11-10 19:20:15.110 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 600 [1h] (12/40)
2025-11-10 19:20:15.110 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 600 [1m] ---
2025-11-10 19:20:15.119 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [1m] from MT5
2025-11-10 19:20:15.120 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 19:20:17.122 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:20:18.343 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:20:21.823 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:20:21.825 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:20:31.877 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17394 signals total, 13456 profitable (77.4% win rate), 3938 unprofitable
2025-11-10 19:20:31.967 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17394, 116), Shape of y: (17394,)
2025-11-10 19:20:31.982 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17394 data points.
2025-11-10 19:20:32.184 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17344 sequences.
2025-11-10 19:20:32.226 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:20:32.227 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:20:32.236 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:20:32.237 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:20:32.270 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:20:37.939 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:20:37.941 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:23:30.487 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:23:30.489 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:23:30.490 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:23:30.530 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:23:30.530 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3932), np.float64(1.0): np.int64(13412)}
2025-11-10 19:23:30.534 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17344
2025-11-10 19:23:30.669 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13412 to 5898
2025-11-10 19:23:30.669 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3932), np.float64(1.0): np.int64(5898)}
2025-11-10 19:23:30.671 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9830
2025-11-10 19:23:30.671 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5167 - auc: 0.4963 - loss: 0.0481 - val_accuracy: 0.6017 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 2/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5589 - auc: 0.5016 - loss: 0.0435 - val_accuracy: 0.6017 - val_auc: 0.5019 - val_loss: 0.0422
Epoch 3/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5828 - auc: 0.4899 - loss: 0.0429 - val_accuracy: 0.6017 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 4/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5918 - auc: 0.5014 - loss: 0.0425 - val_accuracy: 0.6017 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 5/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5964 - auc: 0.4949 - loss: 0.0424 - val_accuracy: 0.6017 - val_auc: 0.5025 - val_loss: 0.0422
Epoch 6/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5965 - auc: 0.5057 - loss: 0.0424 - val_accuracy: 0.6017 - val_auc: 0.5019 - val_loss: 0.0422
Epoch 7/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.4990 - loss: 0.0424 - val_accuracy: 0.6017 - val_auc: 0.5019 - val_loss: 0.0422
Epoch 8/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5983 - auc: 0.4977 - loss: 0.0424 - val_accuracy: 0.6017 - val_auc: 0.5019 - val_loss: 0.0422
Epoch 9/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5993 - auc: 0.4957 - loss: 0.0423 - val_accuracy: 0.6017 - val_auc: 0.5025 - val_loss: 0.0422
Epoch 10/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5996 - auc: 0.4883 - loss: 0.0423 - val_accuracy: 0.6017 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 11/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5996 - auc: 0.4923 - loss: 0.0423 - val_accuracy: 0.6017 - val_auc: 0.5019 - val_loss: 0.0422
Epoch 12/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5996 - auc: 0.4967 - loss: 0.0423 - val_accuracy: 0.6017 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 13/50
246/246 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5996 - auc: 0.5001 - loss: 0.0423 - val_accuracy: 0.6017 - val_auc: 0.5025 - val_loss: 0.0422
2025-11-10 19:24:11.693 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 13
2025-11-10 19:24:11.694 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0423, Accuracy: 0.5996, AUC: 0.5001
2025-11-10 19:24:11.695 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0422, Accuracy: 0.6017, AUC: 0.5025
2025-11-10 19:24:11.699 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:24:11.774 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:24:12.995 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17394 data points.
2025-11-10 19:24:13.087 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17374 sequences.
2025-11-10 19:24:15.023 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:24:15.043 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:24:15.045 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:24:15.045 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_600\GainX_600_M1'...
2025-11-10 19:24:15.097 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M1\random_forest.pkl
2025-11-10 19:24:15.112 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M1\gradient_boosting.pkl
2025-11-10 19:24:15.139 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_600\GainX_600_M1\lstm.keras and models\GainX_600\GainX_600_M1\lstm_scaler.pkl
2025-11-10 19:24:15.140 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_600\GainX_600_M1\feature_info.pkl
2025-11-10 19:24:15.142 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_600\GainX_600_M1\meta_model.pkl
2025-11-10 19:24:15.155 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_600\GainX_600_M1\training_metadata.json
2025-11-10 19:24:15.155 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 600 [1m] (13/40)
2025-11-10 19:24:15.156 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 600 [5m] ---
2025-11-10 19:24:16.717 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [5m] from MT5
2025-11-10 19:24:16.717 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 19:24:18.719 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:24:19.937 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:24:23.487 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:24:23.488 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:24:33.463 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17150 signals total, 12058 profitable (70.3% win rate), 5092 unprofitable
2025-11-10 19:24:33.551 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17150, 116), Shape of y: (17150,)
2025-11-10 19:24:33.566 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17150 data points.
2025-11-10 19:24:33.766 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17100 sequences.
2025-11-10 19:24:33.841 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:24:33.841 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:24:33.849 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:24:33.849 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:24:33.885 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:24:40.064 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:24:40.066 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:27:50.591 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:27:50.593 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:27:50.594 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:27:50.632 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:27:50.633 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5076), np.float64(1.0): np.int64(12024)}
2025-11-10 19:27:50.634 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17100
2025-11-10 19:27:50.805 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12024 to 7614
2025-11-10 19:27:50.806 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5076), np.float64(1.0): np.int64(7614)}
2025-11-10 19:27:50.807 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12690
2025-11-10 19:27:50.810 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5790 - auc: 0.5411 - loss: 0.0435 - val_accuracy: 0.6044 - val_auc: 0.5801 - val_loss: 0.0418
Epoch 2/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5984 - auc: 0.5679 - loss: 0.0420 - val_accuracy: 0.6040 - val_auc: 0.5773 - val_loss: 0.0418
Epoch 3/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6076 - auc: 0.5810 - loss: 0.0418 - val_accuracy: 0.6087 - val_auc: 0.5832 - val_loss: 0.0416
Epoch 4/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6061 - auc: 0.5839 - loss: 0.0418 - val_accuracy: 0.6147 - val_auc: 0.5963 - val_loss: 0.0416
Epoch 5/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6105 - auc: 0.5976 - loss: 0.0415 - val_accuracy: 0.6151 - val_auc: 0.5988 - val_loss: 0.0414
Epoch 6/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6151 - auc: 0.5956 - loss: 0.0415 - val_accuracy: 0.6269 - val_auc: 0.6036 - val_loss: 0.0413
Epoch 7/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6192 - auc: 0.6088 - loss: 0.0412 - val_accuracy: 0.6304 - val_auc: 0.6094 - val_loss: 0.0411
Epoch 8/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6240 - auc: 0.6184 - loss: 0.0409 - val_accuracy: 0.6237 - val_auc: 0.6056 - val_loss: 0.0411
Epoch 9/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6321 - auc: 0.6334 - loss: 0.0406 - val_accuracy: 0.6316 - val_auc: 0.6145 - val_loss: 0.0409
Epoch 10/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6358 - auc: 0.6398 - loss: 0.0404 - val_accuracy: 0.6328 - val_auc: 0.6288 - val_loss: 0.0408
Epoch 11/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6412 - auc: 0.6547 - loss: 0.0401 - val_accuracy: 0.6355 - val_auc: 0.6302 - val_loss: 0.0404
Epoch 12/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6496 - auc: 0.6633 - loss: 0.0396 - val_accuracy: 0.6426 - val_auc: 0.6441 - val_loss: 0.0403
Epoch 13/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6514 - auc: 0.6747 - loss: 0.0393 - val_accuracy: 0.6391 - val_auc: 0.6525 - val_loss: 0.0400
Epoch 14/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6602 - auc: 0.6898 - loss: 0.0389 - val_accuracy: 0.6422 - val_auc: 0.6666 - val_loss: 0.0397
Epoch 15/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6658 - auc: 0.7012 - loss: 0.0383 - val_accuracy: 0.6485 - val_auc: 0.6759 - val_loss: 0.0394
Epoch 16/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6707 - auc: 0.7110 - loss: 0.0379 - val_accuracy: 0.6513 - val_auc: 0.6782 - val_loss: 0.0393
Epoch 17/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6774 - auc: 0.7293 - loss: 0.0372 - val_accuracy: 0.6509 - val_auc: 0.6857 - val_loss: 0.0388
Epoch 18/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6860 - auc: 0.7404 - loss: 0.0366 - val_accuracy: 0.6635 - val_auc: 0.6990 - val_loss: 0.0386
Epoch 19/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.6912 - auc: 0.7552 - loss: 0.0360 - val_accuracy: 0.6517 - val_auc: 0.6964 - val_loss: 0.0388
Epoch 20/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7006 - auc: 0.7594 - loss: 0.0358 - val_accuracy: 0.6517 - val_auc: 0.7057 - val_loss: 0.0383
Epoch 21/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7041 - auc: 0.7649 - loss: 0.0356 - val_accuracy: 0.6757 - val_auc: 0.7180 - val_loss: 0.0378
Epoch 22/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7077 - auc: 0.7725 - loss: 0.0350 - val_accuracy: 0.6690 - val_auc: 0.7226 - val_loss: 0.0379
Epoch 23/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7198 - auc: 0.7882 - loss: 0.0343 - val_accuracy: 0.6745 - val_auc: 0.7323 - val_loss: 0.0371
Epoch 24/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7219 - auc: 0.7956 - loss: 0.0338 - val_accuracy: 0.6848 - val_auc: 0.7410 - val_loss: 0.0369
Epoch 25/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7267 - auc: 0.8019 - loss: 0.0335 - val_accuracy: 0.6726 - val_auc: 0.7304 - val_loss: 0.0381
Epoch 26/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7309 - auc: 0.8069 - loss: 0.0331 - val_accuracy: 0.6868 - val_auc: 0.7472 - val_loss: 0.0367
Epoch 27/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7425 - auc: 0.8154 - loss: 0.0326 - val_accuracy: 0.6864 - val_auc: 0.7522 - val_loss: 0.0362
Epoch 28/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7336 - auc: 0.8101 - loss: 0.0329 - val_accuracy: 0.6907 - val_auc: 0.7570 - val_loss: 0.0361
Epoch 29/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7469 - auc: 0.8247 - loss: 0.0319 - val_accuracy: 0.6954 - val_auc: 0.7601 - val_loss: 0.0360
Epoch 30/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7533 - auc: 0.8298 - loss: 0.0315 - val_accuracy: 0.6994 - val_auc: 0.7645 - val_loss: 0.0358
Epoch 31/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7572 - auc: 0.8368 - loss: 0.0311 - val_accuracy: 0.7017 - val_auc: 0.7677 - val_loss: 0.0357
Epoch 32/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7587 - auc: 0.8374 - loss: 0.0309 - val_accuracy: 0.7136 - val_auc: 0.7670 - val_loss: 0.0362
Epoch 33/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7611 - auc: 0.8399 - loss: 0.0307 - val_accuracy: 0.7002 - val_auc: 0.7703 - val_loss: 0.0358
Epoch 34/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7602 - auc: 0.8437 - loss: 0.0303 - val_accuracy: 0.7049 - val_auc: 0.7765 - val_loss: 0.0355
Epoch 35/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7612 - auc: 0.8452 - loss: 0.0303 - val_accuracy: 0.7108 - val_auc: 0.7752 - val_loss: 0.0356
Epoch 36/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7624 - auc: 0.8471 - loss: 0.0300 - val_accuracy: 0.7013 - val_auc: 0.7688 - val_loss: 0.0362
Epoch 37/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7720 - auc: 0.8535 - loss: 0.0295 - val_accuracy: 0.7100 - val_auc: 0.7823 - val_loss: 0.0354
Epoch 38/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7700 - auc: 0.8547 - loss: 0.0294 - val_accuracy: 0.7112 - val_auc: 0.7805 - val_loss: 0.0361
Epoch 39/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7738 - auc: 0.8572 - loss: 0.0292 - val_accuracy: 0.7155 - val_auc: 0.7855 - val_loss: 0.0360
Epoch 40/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7824 - auc: 0.8670 - loss: 0.0285 - val_accuracy: 0.7199 - val_auc: 0.7875 - val_loss: 0.0361
Epoch 41/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7778 - auc: 0.8644 - loss: 0.0285 - val_accuracy: 0.7120 - val_auc: 0.7808 - val_loss: 0.0357
Epoch 42/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7785 - auc: 0.8652 - loss: 0.0284 - val_accuracy: 0.7195 - val_auc: 0.7889 - val_loss: 0.0353
Epoch 43/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7890 - auc: 0.8745 - loss: 0.0279 - val_accuracy: 0.7136 - val_auc: 0.7868 - val_loss: 0.0363
Epoch 44/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7857 - auc: 0.8708 - loss: 0.0280 - val_accuracy: 0.7230 - val_auc: 0.7917 - val_loss: 0.0355
Epoch 45/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7902 - auc: 0.8795 - loss: 0.0270 - val_accuracy: 0.7293 - val_auc: 0.7960 - val_loss: 0.0357
Epoch 46/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7975 - auc: 0.8837 - loss: 0.0268 - val_accuracy: 0.7191 - val_auc: 0.7983 - val_loss: 0.0361
Epoch 47/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7921 - auc: 0.8790 - loss: 0.0274 - val_accuracy: 0.7297 - val_auc: 0.8041 - val_loss: 0.0349
Epoch 48/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7934 - auc: 0.8813 - loss: 0.0269 - val_accuracy: 0.7368 - val_auc: 0.8045 - val_loss: 0.0356
Epoch 49/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7905 - auc: 0.8781 - loss: 0.0271 - val_accuracy: 0.7171 - val_auc: 0.7952 - val_loss: 0.0361
Epoch 50/50
318/318 ━━━━━━━━━━━━━━━━━━━━ 3s 10ms/step - accuracy: 0.7987 - auc: 0.8872 - loss: 0.0264 - val_accuracy: 0.7230 - val_auc: 0.7987 - val_loss: 0.0378
2025-11-10 19:30:43.498 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 19:30:43.498 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0264, Accuracy: 0.7987, AUC: 0.8872
2025-11-10 19:30:43.500 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0378, Accuracy: 0.7230, AUC: 0.7987
2025-11-10 19:30:43.503 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:30:43.644 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:30:44.846 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17150 data points.
2025-11-10 19:30:44.939 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17130 sequences.
2025-11-10 19:30:46.947 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:30:46.968 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:30:46.970 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:30:46.970 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_600\GainX_600_M5'...
2025-11-10 19:30:47.025 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M5\random_forest.pkl
2025-11-10 19:30:47.036 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M5\gradient_boosting.pkl
2025-11-10 19:30:47.091 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_600\GainX_600_M5\lstm.keras and models\GainX_600\GainX_600_M5\lstm_scaler.pkl
2025-11-10 19:30:47.092 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_600\GainX_600_M5\feature_info.pkl
2025-11-10 19:30:47.094 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_600\GainX_600_M5\meta_model.pkl
2025-11-10 19:30:47.096 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_600\GainX_600_M5\training_metadata.json
2025-11-10 19:30:47.097 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 600 [5m] (14/40)
2025-11-10 19:30:47.097 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 600 [15m] ---
2025-11-10 19:30:47.270 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 600 [15m] from MT5
2025-11-10 19:30:47.271 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 19:30:49.272 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:30:50.476 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:30:53.992 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:30:53.993 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:31:04.023 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17184 signals total, 11528 profitable (67.1% win rate), 5656 unprofitable
2025-11-10 19:31:04.105 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17184, 116), Shape of y: (17184,)
2025-11-10 19:31:04.119 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17184 data points.
2025-11-10 19:31:04.317 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17134 sequences.
2025-11-10 19:31:04.420 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:31:04.420 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:31:04.424 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:31:04.424 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:31:04.458 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:31:10.930 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:31:10.931 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:34:28.889 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:34:28.890 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:34:28.891 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:34:28.930 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:34:28.930 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5641), np.float64(1.0): np.int64(11493)}
2025-11-10 19:34:28.932 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17134
2025-11-10 19:34:29.124 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11493 to 8461
2025-11-10 19:34:29.125 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5641), np.float64(1.0): np.int64(8461)}
2025-11-10 19:34:29.126 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 14102
2025-11-10 19:34:29.129 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499556816167345), 1: np.float64(0.8333530315565536)}
Epoch 1/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5796 - auc: 0.5273 - loss: 0.0432 - val_accuracy: 0.5927 - val_auc: 0.5638 - val_loss: 0.0421
Epoch 2/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5948 - auc: 0.5442 - loss: 0.0423 - val_accuracy: 0.5973 - val_auc: 0.5798 - val_loss: 0.0419
Epoch 3/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6040 - auc: 0.5652 - loss: 0.0419 - val_accuracy: 0.5977 - val_auc: 0.5881 - val_loss: 0.0417
Epoch 4/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6039 - auc: 0.5736 - loss: 0.0417 - val_accuracy: 0.6005 - val_auc: 0.5903 - val_loss: 0.0416
Epoch 5/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6047 - auc: 0.5875 - loss: 0.0415 - val_accuracy: 0.6009 - val_auc: 0.5921 - val_loss: 0.0415
Epoch 6/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6132 - auc: 0.6031 - loss: 0.0412 - val_accuracy: 0.6147 - val_auc: 0.6163 - val_loss: 0.0411
Epoch 7/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6151 - auc: 0.6088 - loss: 0.0409 - val_accuracy: 0.6090 - val_auc: 0.6310 - val_loss: 0.0408
Epoch 8/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6192 - auc: 0.6258 - loss: 0.0406 - val_accuracy: 0.6218 - val_auc: 0.6344 - val_loss: 0.0406
Epoch 9/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6268 - auc: 0.6412 - loss: 0.0402 - val_accuracy: 0.6363 - val_auc: 0.6537 - val_loss: 0.0401
Epoch 10/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6290 - auc: 0.6421 - loss: 0.0401 - val_accuracy: 0.6299 - val_auc: 0.6465 - val_loss: 0.0402
Epoch 11/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6422 - auc: 0.6746 - loss: 0.0393 - val_accuracy: 0.6459 - val_auc: 0.6692 - val_loss: 0.0395
Epoch 12/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6419 - auc: 0.6823 - loss: 0.0388 - val_accuracy: 0.6491 - val_auc: 0.6928 - val_loss: 0.0388
Epoch 13/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6454 - auc: 0.6954 - loss: 0.0384 - val_accuracy: 0.6579 - val_auc: 0.7041 - val_loss: 0.0388
Epoch 14/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6552 - auc: 0.7062 - loss: 0.0380 - val_accuracy: 0.6728 - val_auc: 0.7107 - val_loss: 0.0389
Epoch 15/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6639 - auc: 0.7180 - loss: 0.0375 - val_accuracy: 0.6678 - val_auc: 0.7187 - val_loss: 0.0381
Epoch 16/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6753 - auc: 0.7332 - loss: 0.0369 - val_accuracy: 0.6721 - val_auc: 0.7205 - val_loss: 0.0380
Epoch 17/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6766 - auc: 0.7351 - loss: 0.0368 - val_accuracy: 0.6756 - val_auc: 0.7289 - val_loss: 0.0374
Epoch 18/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6828 - auc: 0.7505 - loss: 0.0360 - val_accuracy: 0.6831 - val_auc: 0.7361 - val_loss: 0.0374
Epoch 19/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6897 - auc: 0.7612 - loss: 0.0355 - val_accuracy: 0.6845 - val_auc: 0.7401 - val_loss: 0.0370
Epoch 20/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7016 - auc: 0.7726 - loss: 0.0349 - val_accuracy: 0.6856 - val_auc: 0.7473 - val_loss: 0.0368
Epoch 21/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7045 - auc: 0.7766 - loss: 0.0347 - val_accuracy: 0.6849 - val_auc: 0.7530 - val_loss: 0.0364
Epoch 22/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7122 - auc: 0.7884 - loss: 0.0341 - val_accuracy: 0.6983 - val_auc: 0.7573 - val_loss: 0.0366
Epoch 23/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7130 - auc: 0.7939 - loss: 0.0335 - val_accuracy: 0.6930 - val_auc: 0.7629 - val_loss: 0.0359
Epoch 24/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7240 - auc: 0.8022 - loss: 0.0331 - val_accuracy: 0.6920 - val_auc: 0.7625 - val_loss: 0.0361
Epoch 25/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7293 - auc: 0.8074 - loss: 0.0327 - val_accuracy: 0.6927 - val_auc: 0.7671 - val_loss: 0.0356
Epoch 26/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7256 - auc: 0.8099 - loss: 0.0324 - val_accuracy: 0.6920 - val_auc: 0.7744 - val_loss: 0.0360
Epoch 27/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7351 - auc: 0.8200 - loss: 0.0319 - val_accuracy: 0.6934 - val_auc: 0.7727 - val_loss: 0.0357
Epoch 28/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7397 - auc: 0.8241 - loss: 0.0316 - val_accuracy: 0.6927 - val_auc: 0.7738 - val_loss: 0.0352
Epoch 29/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7487 - auc: 0.8300 - loss: 0.0314 - val_accuracy: 0.7033 - val_auc: 0.7862 - val_loss: 0.0347
Epoch 30/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7497 - auc: 0.8323 - loss: 0.0310 - val_accuracy: 0.7008 - val_auc: 0.7816 - val_loss: 0.0359
Epoch 31/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7499 - auc: 0.8383 - loss: 0.0305 - val_accuracy: 0.7037 - val_auc: 0.7853 - val_loss: 0.0351
Epoch 32/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7575 - auc: 0.8433 - loss: 0.0302 - val_accuracy: 0.7029 - val_auc: 0.7901 - val_loss: 0.0350
Epoch 33/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.7574 - auc: 0.8455 - loss: 0.0299 - val_accuracy: 0.7058 - val_auc: 0.7905 - val_loss: 0.0355
Epoch 34/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7655 - auc: 0.8520 - loss: 0.0295 - val_accuracy: 0.7171 - val_auc: 0.7986 - val_loss: 0.0354
Epoch 35/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7646 - auc: 0.8503 - loss: 0.0298 - val_accuracy: 0.7175 - val_auc: 0.7956 - val_loss: 0.0353
Epoch 36/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7701 - auc: 0.8595 - loss: 0.0288 - val_accuracy: 0.7122 - val_auc: 0.7967 - val_loss: 0.0358
Epoch 37/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7748 - auc: 0.8602 - loss: 0.0289 - val_accuracy: 0.7083 - val_auc: 0.7937 - val_loss: 0.0352
Epoch 38/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7806 - auc: 0.8639 - loss: 0.0288 - val_accuracy: 0.7200 - val_auc: 0.8079 - val_loss: 0.0352
Epoch 39/50
353/353 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7756 - auc: 0.8640 - loss: 0.0286 - val_accuracy: 0.7203 - val_auc: 0.8043 - val_loss: 0.0351
2025-11-10 19:37:02.682 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 39
2025-11-10 19:37:02.682 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0286, Accuracy: 0.7756, AUC: 0.8640
2025-11-10 19:37:02.684 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0351, Accuracy: 0.7203, AUC: 0.8043
2025-11-10 19:37:02.687 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:37:02.811 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:37:04.037 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17184 data points.
2025-11-10 19:37:04.133 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17164 sequences.
2025-11-10 19:37:06.075 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:37:06.094 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:37:06.095 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:37:06.095 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_600\GainX_600_M15'...
2025-11-10 19:37:06.183 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_M15\random_forest.pkl
2025-11-10 19:37:06.192 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_M15\gradient_boosting.pkl
2025-11-10 19:37:06.239 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_600\GainX_600_M15\lstm.keras and models\GainX_600\GainX_600_M15\lstm_scaler.pkl
2025-11-10 19:37:06.243 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_600\GainX_600_M15\feature_info.pkl
2025-11-10 19:37:06.244 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_600\GainX_600_M15\meta_model.pkl
2025-11-10 19:37:06.245 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_600\GainX_600_M15\training_metadata.json
2025-11-10 19:37:06.245 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 600 [15m] (15/40)
2025-11-10 19:37:06.246 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 600 [1h] ---
2025-11-10 19:37:06.246 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 19:37:06.247 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 19:37:09.253 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 19:37:09.253 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 19:37:09.255 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 19:37:09.514 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11945 candles for GainX 600 [1h] from MT5
2025-11-10 19:37:09.515 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 11945 candles (minimum: 2000)
2025-11-10 19:37:11.520 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:37:12.321 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:37:14.536 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:37:14.537 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:37:20.588 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 10099 signals total, 6576 profitable (65.1% win rate), 3523 unprofitable
2025-11-10 19:37:20.644 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (10099, 116), Shape of y: (10099,)
2025-11-10 19:37:20.651 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 10099 data points.
2025-11-10 19:37:20.773 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10049 sequences.
2025-11-10 19:37:20.864 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:37:20.864 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:37:20.868 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:37:20.869 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:37:20.889 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:37:24.832 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:37:24.832 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:39:20.935 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:39:20.936 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:39:20.938 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:39:20.979 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:39:20.979 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3495), np.float64(1.0): np.int64(6554)}
2025-11-10 19:39:20.984 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 10049
2025-11-10 19:39:21.103 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 6554 to 5242
2025-11-10 19:39:21.103 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3495), np.float64(1.0): np.int64(5242)}
2025-11-10 19:39:21.105 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 8737
2025-11-10 19:39:21.107 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.249928469241774), 1: np.float64(0.8333651278138116)}
Epoch 1/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5639 - auc: 0.5204 - loss: 0.0445 - val_accuracy: 0.5978 - val_auc: 0.5519 - val_loss: 0.0423
Epoch 2/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5946 - auc: 0.5390 - loss: 0.0425 - val_accuracy: 0.5967 - val_auc: 0.5671 - val_loss: 0.0419
Epoch 3/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.5977 - auc: 0.5575 - loss: 0.0419 - val_accuracy: 0.5955 - val_auc: 0.5740 - val_loss: 0.0419
Epoch 4/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6031 - auc: 0.5753 - loss: 0.0416 - val_accuracy: 0.6030 - val_auc: 0.5890 - val_loss: 0.0416
Epoch 5/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6094 - auc: 0.5990 - loss: 0.0412 - val_accuracy: 0.6070 - val_auc: 0.6255 - val_loss: 0.0409
Epoch 6/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6145 - auc: 0.6229 - loss: 0.0406 - val_accuracy: 0.6110 - val_auc: 0.6184 - val_loss: 0.0407
Epoch 7/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6221 - auc: 0.6443 - loss: 0.0401 - val_accuracy: 0.6013 - val_auc: 0.6108 - val_loss: 0.0407
Epoch 8/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6164 - auc: 0.6430 - loss: 0.0400 - val_accuracy: 0.6224 - val_auc: 0.6669 - val_loss: 0.0396
Epoch 9/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6329 - auc: 0.6733 - loss: 0.0391 - val_accuracy: 0.6207 - val_auc: 0.6684 - val_loss: 0.0389
Epoch 10/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6472 - auc: 0.6953 - loss: 0.0383 - val_accuracy: 0.6402 - val_auc: 0.6933 - val_loss: 0.0386
Epoch 11/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6507 - auc: 0.7138 - loss: 0.0374 - val_accuracy: 0.6539 - val_auc: 0.7081 - val_loss: 0.0379
Epoch 12/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6545 - auc: 0.7131 - loss: 0.0374 - val_accuracy: 0.6510 - val_auc: 0.7130 - val_loss: 0.0377
Epoch 13/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6699 - auc: 0.7425 - loss: 0.0361 - val_accuracy: 0.6493 - val_auc: 0.7157 - val_loss: 0.0377
Epoch 14/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6835 - auc: 0.7543 - loss: 0.0357 - val_accuracy: 0.6522 - val_auc: 0.7266 - val_loss: 0.0370
Epoch 15/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6894 - auc: 0.7711 - loss: 0.0347 - val_accuracy: 0.6676 - val_auc: 0.7413 - val_loss: 0.0367
Epoch 16/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7014 - auc: 0.7817 - loss: 0.0342 - val_accuracy: 0.6911 - val_auc: 0.7607 - val_loss: 0.0362
Epoch 17/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7077 - auc: 0.7889 - loss: 0.0339 - val_accuracy: 0.6939 - val_auc: 0.7633 - val_loss: 0.0362
Epoch 18/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7071 - auc: 0.7946 - loss: 0.0333 - val_accuracy: 0.6934 - val_auc: 0.7636 - val_loss: 0.0362
Epoch 19/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7251 - auc: 0.8171 - loss: 0.0318 - val_accuracy: 0.6825 - val_auc: 0.7564 - val_loss: 0.0367
Epoch 20/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7257 - auc: 0.8184 - loss: 0.0315 - val_accuracy: 0.6894 - val_auc: 0.7623 - val_loss: 0.0366
Epoch 21/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7354 - auc: 0.8229 - loss: 0.0316 - val_accuracy: 0.7042 - val_auc: 0.7756 - val_loss: 0.0359
Epoch 22/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7450 - auc: 0.8300 - loss: 0.0310 - val_accuracy: 0.6951 - val_auc: 0.7680 - val_loss: 0.0367
Epoch 23/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7416 - auc: 0.8350 - loss: 0.0305 - val_accuracy: 0.7071 - val_auc: 0.7755 - val_loss: 0.0362
Epoch 24/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7486 - auc: 0.8421 - loss: 0.0299 - val_accuracy: 0.6911 - val_auc: 0.7664 - val_loss: 0.0372
Epoch 25/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7566 - auc: 0.8426 - loss: 0.0299 - val_accuracy: 0.7088 - val_auc: 0.7779 - val_loss: 0.0366
Epoch 26/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7516 - auc: 0.8442 - loss: 0.0295 - val_accuracy: 0.7008 - val_auc: 0.7700 - val_loss: 0.0373
Epoch 27/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7658 - auc: 0.8575 - loss: 0.0287 - val_accuracy: 0.7122 - val_auc: 0.7844 - val_loss: 0.0369
Epoch 28/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7661 - auc: 0.8599 - loss: 0.0287 - val_accuracy: 0.7088 - val_auc: 0.7818 - val_loss: 0.0369
Epoch 29/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7722 - auc: 0.8651 - loss: 0.0282 - val_accuracy: 0.7174 - val_auc: 0.7828 - val_loss: 0.0374
Epoch 30/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7752 - auc: 0.8656 - loss: 0.0281 - val_accuracy: 0.7088 - val_auc: 0.7812 - val_loss: 0.0371
Epoch 31/50
219/219 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.7755 - auc: 0.8704 - loss: 0.0276 - val_accuracy: 0.7162 - val_auc: 0.7900 - val_loss: 0.0367
2025-11-10 19:40:40.037 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 31
2025-11-10 19:40:40.037 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0276, Accuracy: 0.7755, AUC: 0.8704
2025-11-10 19:40:40.038 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0367, Accuracy: 0.7162, AUC: 0.7900
2025-11-10 19:40:40.038 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:40:40.110 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:40:40.826 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 10099 data points.
2025-11-10 19:40:40.883 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10079 sequences.
2025-11-10 19:40:42.125 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:40:42.139 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:40:42.140 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:40:42.140 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_600\GainX_600_H1'...
2025-11-10 19:40:42.160 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_600\GainX_600_H1\random_forest.pkl
2025-11-10 19:40:42.169 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_600\GainX_600_H1\gradient_boosting.pkl
2025-11-10 19:40:42.489 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_600\GainX_600_H1\lstm.keras and models\GainX_600\GainX_600_H1\lstm_scaler.pkl
2025-11-10 19:40:42.490 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_600\GainX_600_H1\feature_info.pkl
2025-11-10 19:40:42.493 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_600\GainX_600_H1\meta_model.pkl
2025-11-10 19:40:42.545 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_600\GainX_600_H1\training_metadata.json
2025-11-10 19:40:42.546 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 600 [1h] (16/40)
2025-11-10 19:40:42.551 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 800 [1m] ---
2025-11-10 19:40:42.572 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [1m] from MT5
2025-11-10 19:40:42.574 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 19:40:44.578 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:40:45.801 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:40:49.396 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:40:49.397 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:40:59.427 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17432 signals total, 13616 profitable (78.1% win rate), 3816 unprofitable
2025-11-10 19:40:59.515 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17432, 116), Shape of y: (17432,)
2025-11-10 19:40:59.528 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17432 data points.
2025-11-10 19:40:59.734 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17382 sequences.
2025-11-10 19:40:59.779 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:40:59.780 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:40:59.783 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:40:59.784 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:40:59.814 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:41:05.384 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:41:05.385 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:43:52.344 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:43:52.345 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:43:52.347 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:43:52.385 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:43:52.386 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3801), np.float64(1.0): np.int64(13581)}
2025-11-10 19:43:52.387 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17382
2025-11-10 19:43:52.518 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13581 to 5701
2025-11-10 19:43:52.519 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3801), np.float64(1.0): np.int64(5701)}
2025-11-10 19:43:52.520 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9502
2025-11-10 19:43:52.523 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499342278347803), 1: np.float64(0.8333625679705314)}
Epoch 1/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6014 - auc: 0.6283 - loss: 0.0432 - val_accuracy: 0.6597 - val_auc: 0.7012 - val_loss: 0.0389
Epoch 2/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6398 - auc: 0.6803 - loss: 0.0397 - val_accuracy: 0.6691 - val_auc: 0.7043 - val_loss: 0.0387
Epoch 3/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6600 - auc: 0.6988 - loss: 0.0392 - val_accuracy: 0.6686 - val_auc: 0.7114 - val_loss: 0.0384
Epoch 4/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6646 - auc: 0.7037 - loss: 0.0389 - val_accuracy: 0.6649 - val_auc: 0.7150 - val_loss: 0.0383
Epoch 5/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6587 - auc: 0.7024 - loss: 0.0390 - val_accuracy: 0.6586 - val_auc: 0.7120 - val_loss: 0.0383
Epoch 6/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6673 - auc: 0.7133 - loss: 0.0385 - val_accuracy: 0.6823 - val_auc: 0.7210 - val_loss: 0.0379
Epoch 7/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6757 - auc: 0.7194 - loss: 0.0382 - val_accuracy: 0.6565 - val_auc: 0.7195 - val_loss: 0.0380
Epoch 8/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6764 - auc: 0.7192 - loss: 0.0381 - val_accuracy: 0.6649 - val_auc: 0.7239 - val_loss: 0.0380
Epoch 9/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6820 - auc: 0.7260 - loss: 0.0379 - val_accuracy: 0.6691 - val_auc: 0.7236 - val_loss: 0.0380
Epoch 10/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 7s 17ms/step - accuracy: 0.6869 - auc: 0.7283 - loss: 0.0378 - val_accuracy: 0.6949 - val_auc: 0.7314 - val_loss: 0.0375
Epoch 11/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6923 - auc: 0.7372 - loss: 0.0374 - val_accuracy: 0.6870 - val_auc: 0.7335 - val_loss: 0.0374
Epoch 12/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6873 - auc: 0.7397 - loss: 0.0372 - val_accuracy: 0.6839 - val_auc: 0.7347 - val_loss: 0.0373
Epoch 13/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6960 - auc: 0.7442 - loss: 0.0370 - val_accuracy: 0.6902 - val_auc: 0.7392 - val_loss: 0.0374
Epoch 14/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7062 - auc: 0.7495 - loss: 0.0367 - val_accuracy: 0.7002 - val_auc: 0.7394 - val_loss: 0.0373
Epoch 15/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7100 - auc: 0.7537 - loss: 0.0366 - val_accuracy: 0.6938 - val_auc: 0.7405 - val_loss: 0.0372
Epoch 16/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7116 - auc: 0.7586 - loss: 0.0361 - val_accuracy: 0.6817 - val_auc: 0.7439 - val_loss: 0.0370
Epoch 17/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7203 - auc: 0.7642 - loss: 0.0359 - val_accuracy: 0.6996 - val_auc: 0.7435 - val_loss: 0.0370
Epoch 18/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7186 - auc: 0.7684 - loss: 0.0355 - val_accuracy: 0.7070 - val_auc: 0.7454 - val_loss: 0.0369
Epoch 19/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7277 - auc: 0.7711 - loss: 0.0355 - val_accuracy: 0.6944 - val_auc: 0.7464 - val_loss: 0.0369
Epoch 20/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7311 - auc: 0.7722 - loss: 0.0351 - val_accuracy: 0.7054 - val_auc: 0.7508 - val_loss: 0.0368
Epoch 21/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7336 - auc: 0.7800 - loss: 0.0348 - val_accuracy: 0.6965 - val_auc: 0.7522 - val_loss: 0.0367
Epoch 22/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7365 - auc: 0.7835 - loss: 0.0344 - val_accuracy: 0.7080 - val_auc: 0.7530 - val_loss: 0.0369
Epoch 23/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7383 - auc: 0.7853 - loss: 0.0342 - val_accuracy: 0.7112 - val_auc: 0.7554 - val_loss: 0.0369
Epoch 24/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7423 - auc: 0.7896 - loss: 0.0340 - val_accuracy: 0.7133 - val_auc: 0.7619 - val_loss: 0.0363
Epoch 25/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7504 - auc: 0.7935 - loss: 0.0335 - val_accuracy: 0.7102 - val_auc: 0.7626 - val_loss: 0.0362
Epoch 26/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7495 - auc: 0.7962 - loss: 0.0334 - val_accuracy: 0.7070 - val_auc: 0.7600 - val_loss: 0.0368
Epoch 27/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7563 - auc: 0.8017 - loss: 0.0329 - val_accuracy: 0.7191 - val_auc: 0.7664 - val_loss: 0.0362
Epoch 28/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7558 - auc: 0.8068 - loss: 0.0327 - val_accuracy: 0.7223 - val_auc: 0.7681 - val_loss: 0.0363
Epoch 29/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7604 - auc: 0.8064 - loss: 0.0325 - val_accuracy: 0.7233 - val_auc: 0.7703 - val_loss: 0.0361
Epoch 30/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7628 - auc: 0.8144 - loss: 0.0320 - val_accuracy: 0.7070 - val_auc: 0.7677 - val_loss: 0.0366
Epoch 31/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7683 - auc: 0.8170 - loss: 0.0315 - val_accuracy: 0.7180 - val_auc: 0.7684 - val_loss: 0.0375
Epoch 32/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7683 - auc: 0.8223 - loss: 0.0315 - val_accuracy: 0.7149 - val_auc: 0.7717 - val_loss: 0.0373
Epoch 33/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7728 - auc: 0.8196 - loss: 0.0314 - val_accuracy: 0.7217 - val_auc: 0.7765 - val_loss: 0.0361
Epoch 34/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7763 - auc: 0.8247 - loss: 0.0312 - val_accuracy: 0.7280 - val_auc: 0.7729 - val_loss: 0.0367
Epoch 35/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7774 - auc: 0.8242 - loss: 0.0310 - val_accuracy: 0.7244 - val_auc: 0.7761 - val_loss: 0.0360
Epoch 36/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7831 - auc: 0.8356 - loss: 0.0301 - val_accuracy: 0.7154 - val_auc: 0.7722 - val_loss: 0.0374
Epoch 37/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7812 - auc: 0.8361 - loss: 0.0302 - val_accuracy: 0.7312 - val_auc: 0.7814 - val_loss: 0.0357
Epoch 38/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7825 - auc: 0.8389 - loss: 0.0300 - val_accuracy: 0.7265 - val_auc: 0.7760 - val_loss: 0.0370
Epoch 39/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7838 - auc: 0.8381 - loss: 0.0299 - val_accuracy: 0.7328 - val_auc: 0.7842 - val_loss: 0.0367
Epoch 40/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7954 - auc: 0.8493 - loss: 0.0291 - val_accuracy: 0.7312 - val_auc: 0.7866 - val_loss: 0.0367
Epoch 41/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7928 - auc: 0.8441 - loss: 0.0292 - val_accuracy: 0.7344 - val_auc: 0.7834 - val_loss: 0.0378
Epoch 42/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7907 - auc: 0.8434 - loss: 0.0294 - val_accuracy: 0.7354 - val_auc: 0.7864 - val_loss: 0.0364
Epoch 43/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8021 - auc: 0.8525 - loss: 0.0287 - val_accuracy: 0.7312 - val_auc: 0.7846 - val_loss: 0.0366
Epoch 44/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7994 - auc: 0.8538 - loss: 0.0282 - val_accuracy: 0.7438 - val_auc: 0.7941 - val_loss: 0.0377
Epoch 45/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8006 - auc: 0.8560 - loss: 0.0282 - val_accuracy: 0.7417 - val_auc: 0.7956 - val_loss: 0.0368
Epoch 46/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8033 - auc: 0.8581 - loss: 0.0278 - val_accuracy: 0.7333 - val_auc: 0.7908 - val_loss: 0.0363
Epoch 47/50
238/238 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8009 - auc: 0.8567 - loss: 0.0277 - val_accuracy: 0.7491 - val_auc: 0.8008 - val_loss: 0.0360
2025-11-10 19:46:01.396 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 47
2025-11-10 19:46:01.397 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0277, Accuracy: 0.8009, AUC: 0.8567
2025-11-10 19:46:01.398 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0360, Accuracy: 0.7491, AUC: 0.8008
2025-11-10 19:46:01.401 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:46:01.473 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:46:02.703 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17432 data points.
2025-11-10 19:46:02.797 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17412 sequences.
2025-11-10 19:46:04.726 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:46:04.749 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:46:04.750 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:46:04.750 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_800\PainX_800_M1'...
2025-11-10 19:46:04.819 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M1\random_forest.pkl
2025-11-10 19:46:04.829 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M1\gradient_boosting.pkl
2025-11-10 19:46:04.856 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_800\PainX_800_M1\lstm.keras and models\PainX_800\PainX_800_M1\lstm_scaler.pkl
2025-11-10 19:46:04.858 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_800\PainX_800_M1\feature_info.pkl
2025-11-10 19:46:04.860 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_800\PainX_800_M1\meta_model.pkl
2025-11-10 19:46:04.861 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_800\PainX_800_M1\training_metadata.json
2025-11-10 19:46:04.862 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 800 [1m] (17/40)
2025-11-10 19:46:04.863 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 800 [5m] ---
2025-11-10 19:46:07.503 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [5m] from MT5
2025-11-10 19:46:07.504 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 19:46:09.507 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:46:10.710 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:46:14.218 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:46:14.219 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:46:24.222 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17266 signals total, 12391 profitable (71.8% win rate), 4875 unprofitable
2025-11-10 19:46:24.310 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17266, 116), Shape of y: (17266,)
2025-11-10 19:46:24.323 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17266 data points.
2025-11-10 19:46:24.521 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17216 sequences.
2025-11-10 19:46:24.612 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:46:24.613 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:46:24.624 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:46:24.624 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:46:24.656 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:46:30.836 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:46:30.837 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:49:45.791 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:49:45.793 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:49:45.794 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:49:45.857 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:49:45.858 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4863), np.float64(1.0): np.int64(12353)}
2025-11-10 19:49:45.859 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17216
2025-11-10 19:49:46.054 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12353 to 7294
2025-11-10 19:49:46.055 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4863), np.float64(1.0): np.int64(7294)}
2025-11-10 19:49:46.056 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12157
2025-11-10 19:49:46.059 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499485914044828), 1: np.float64(0.8333561831642445)}
Epoch 1/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 7s 13ms/step - accuracy: 0.5878 - auc: 0.5592 - loss: 0.0431 - val_accuracy: 0.6143 - val_auc: 0.6100 - val_loss: 0.0415
Epoch 2/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6000 - auc: 0.5945 - loss: 0.0416 - val_accuracy: 0.6102 - val_auc: 0.6093 - val_loss: 0.0414
Epoch 3/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6203 - auc: 0.6135 - loss: 0.0413 - val_accuracy: 0.6205 - val_auc: 0.6110 - val_loss: 0.0413
Epoch 4/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6093 - auc: 0.6124 - loss: 0.0412 - val_accuracy: 0.6049 - val_auc: 0.6284 - val_loss: 0.0411
Epoch 5/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6171 - auc: 0.6227 - loss: 0.0411 - val_accuracy: 0.6229 - val_auc: 0.6106 - val_loss: 0.0413
Epoch 6/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6168 - auc: 0.6285 - loss: 0.0408 - val_accuracy: 0.6262 - val_auc: 0.6264 - val_loss: 0.0410
Epoch 7/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6225 - auc: 0.6382 - loss: 0.0407 - val_accuracy: 0.6295 - val_auc: 0.6283 - val_loss: 0.0409
Epoch 8/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6297 - auc: 0.6459 - loss: 0.0404 - val_accuracy: 0.6451 - val_auc: 0.6368 - val_loss: 0.0407
Epoch 9/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6355 - auc: 0.6548 - loss: 0.0402 - val_accuracy: 0.6456 - val_auc: 0.6422 - val_loss: 0.0406
Epoch 10/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6444 - auc: 0.6692 - loss: 0.0396 - val_accuracy: 0.6386 - val_auc: 0.6457 - val_loss: 0.0404
Epoch 11/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6469 - auc: 0.6731 - loss: 0.0395 - val_accuracy: 0.6468 - val_auc: 0.6584 - val_loss: 0.0401
Epoch 12/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6490 - auc: 0.6853 - loss: 0.0390 - val_accuracy: 0.6484 - val_auc: 0.6613 - val_loss: 0.0399
Epoch 13/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6581 - auc: 0.7006 - loss: 0.0384 - val_accuracy: 0.6571 - val_auc: 0.6758 - val_loss: 0.0396
Epoch 14/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6595 - auc: 0.7048 - loss: 0.0381 - val_accuracy: 0.6575 - val_auc: 0.6780 - val_loss: 0.0395
Epoch 15/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6691 - auc: 0.7163 - loss: 0.0377 - val_accuracy: 0.6637 - val_auc: 0.6868 - val_loss: 0.0392
Epoch 16/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6789 - auc: 0.7373 - loss: 0.0369 - val_accuracy: 0.6612 - val_auc: 0.6893 - val_loss: 0.0392
Epoch 17/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6875 - auc: 0.7433 - loss: 0.0364 - val_accuracy: 0.6661 - val_auc: 0.6859 - val_loss: 0.0392
Epoch 18/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6873 - auc: 0.7463 - loss: 0.0364 - val_accuracy: 0.6686 - val_auc: 0.6994 - val_loss: 0.0388
Epoch 19/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6999 - auc: 0.7592 - loss: 0.0356 - val_accuracy: 0.6690 - val_auc: 0.7083 - val_loss: 0.0385
Epoch 20/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7020 - auc: 0.7722 - loss: 0.0349 - val_accuracy: 0.6706 - val_auc: 0.7138 - val_loss: 0.0380
Epoch 21/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7097 - auc: 0.7795 - loss: 0.0346 - val_accuracy: 0.6867 - val_auc: 0.7200 - val_loss: 0.0380
Epoch 22/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7224 - auc: 0.7886 - loss: 0.0342 - val_accuracy: 0.6780 - val_auc: 0.7260 - val_loss: 0.0380
Epoch 23/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7207 - auc: 0.7952 - loss: 0.0336 - val_accuracy: 0.6834 - val_auc: 0.7280 - val_loss: 0.0381
Epoch 24/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7236 - auc: 0.8029 - loss: 0.0332 - val_accuracy: 0.6846 - val_auc: 0.7350 - val_loss: 0.0377
Epoch 25/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7305 - auc: 0.8102 - loss: 0.0326 - val_accuracy: 0.6887 - val_auc: 0.7399 - val_loss: 0.0372
Epoch 26/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7359 - auc: 0.8126 - loss: 0.0325 - val_accuracy: 0.6961 - val_auc: 0.7476 - val_loss: 0.0377
Epoch 27/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7373 - auc: 0.8138 - loss: 0.0324 - val_accuracy: 0.6949 - val_auc: 0.7497 - val_loss: 0.0367
Epoch 28/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7430 - auc: 0.8245 - loss: 0.0318 - val_accuracy: 0.6949 - val_auc: 0.7428 - val_loss: 0.0376
Epoch 29/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7555 - auc: 0.8300 - loss: 0.0314 - val_accuracy: 0.6933 - val_auc: 0.7515 - val_loss: 0.0372
Epoch 30/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7535 - auc: 0.8375 - loss: 0.0308 - val_accuracy: 0.7089 - val_auc: 0.7704 - val_loss: 0.0365
Epoch 31/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7605 - auc: 0.8480 - loss: 0.0298 - val_accuracy: 0.7044 - val_auc: 0.7618 - val_loss: 0.0370
Epoch 32/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7606 - auc: 0.8430 - loss: 0.0302 - val_accuracy: 0.7089 - val_auc: 0.7643 - val_loss: 0.0367
Epoch 33/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7725 - auc: 0.8559 - loss: 0.0292 - val_accuracy: 0.7122 - val_auc: 0.7716 - val_loss: 0.0371
Epoch 34/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7663 - auc: 0.8546 - loss: 0.0292 - val_accuracy: 0.7200 - val_auc: 0.7734 - val_loss: 0.0362
Epoch 35/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7682 - auc: 0.8551 - loss: 0.0293 - val_accuracy: 0.7056 - val_auc: 0.7667 - val_loss: 0.0381
Epoch 36/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7734 - auc: 0.8614 - loss: 0.0287 - val_accuracy: 0.7039 - val_auc: 0.7671 - val_loss: 0.0372
Epoch 37/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7785 - auc: 0.8639 - loss: 0.0285 - val_accuracy: 0.7192 - val_auc: 0.7787 - val_loss: 0.0366
Epoch 38/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7760 - auc: 0.8613 - loss: 0.0287 - val_accuracy: 0.7163 - val_auc: 0.7845 - val_loss: 0.0370
Epoch 39/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7805 - auc: 0.8668 - loss: 0.0283 - val_accuracy: 0.7085 - val_auc: 0.7722 - val_loss: 0.0365
Epoch 40/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7833 - auc: 0.8680 - loss: 0.0282 - val_accuracy: 0.7208 - val_auc: 0.7897 - val_loss: 0.0366
Epoch 41/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7847 - auc: 0.8724 - loss: 0.0278 - val_accuracy: 0.7155 - val_auc: 0.7815 - val_loss: 0.0366
Epoch 42/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7856 - auc: 0.8718 - loss: 0.0277 - val_accuracy: 0.7307 - val_auc: 0.7933 - val_loss: 0.0367
Epoch 43/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7915 - auc: 0.8824 - loss: 0.0266 - val_accuracy: 0.7241 - val_auc: 0.7948 - val_loss: 0.0374
Epoch 44/50
304/304 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7896 - auc: 0.8778 - loss: 0.0271 - val_accuracy: 0.7282 - val_auc: 0.7961 - val_loss: 0.0379
2025-11-10 19:52:19.575 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 44
2025-11-10 19:52:19.575 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0271, Accuracy: 0.7896, AUC: 0.8778
2025-11-10 19:52:19.576 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0379, Accuracy: 0.7282, AUC: 0.7961
2025-11-10 19:52:19.579 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:52:19.686 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:52:20.909 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17266 data points.
2025-11-10 19:52:21.010 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17246 sequences.
2025-11-10 19:52:23.680 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:52:23.701 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:52:23.703 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:52:23.703 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_800\PainX_800_M5'...
2025-11-10 19:52:24.020 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M5\random_forest.pkl
2025-11-10 19:52:24.030 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M5\gradient_boosting.pkl
2025-11-10 19:52:24.059 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_800\PainX_800_M5\lstm.keras and models\PainX_800\PainX_800_M5\lstm_scaler.pkl
2025-11-10 19:52:24.060 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_800\PainX_800_M5\feature_info.pkl
2025-11-10 19:52:24.062 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_800\PainX_800_M5\meta_model.pkl
2025-11-10 19:52:24.065 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_800\PainX_800_M5\training_metadata.json
2025-11-10 19:52:24.065 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 800 [5m] (18/40)
2025-11-10 19:52:24.066 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 800 [15m] ---
2025-11-10 19:52:24.449 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 800 [15m] from MT5
2025-11-10 19:52:24.450 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 19:52:26.452 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:52:27.661 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:52:31.190 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:52:31.191 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:52:41.213 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17083 signals total, 11568 profitable (67.7% win rate), 5515 unprofitable
2025-11-10 19:52:41.302 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17083, 116), Shape of y: (17083,)
2025-11-10 19:52:41.318 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17083 data points.
2025-11-10 19:52:41.519 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17033 sequences.
2025-11-10 19:52:41.593 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:52:41.593 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:52:41.597 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:52:41.598 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:52:41.629 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:52:48.005 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:52:48.006 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 19:56:06.161 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 19:56:06.162 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 19:56:06.164 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 19:56:06.202 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 19:56:06.203 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5492), np.float64(1.0): np.int64(11541)}
2025-11-10 19:56:06.206 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17033
2025-11-10 19:56:06.392 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11541 to 8238
2025-11-10 19:56:06.392 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5492), np.float64(1.0): np.int64(8238)}
2025-11-10 19:56:06.394 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 13730
2025-11-10 19:56:06.396 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5656 - auc: 0.5286 - loss: 0.0442 - val_accuracy: 0.5950 - val_auc: 0.5564 - val_loss: 0.0420
Epoch 2/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5934 - auc: 0.5585 - loss: 0.0422 - val_accuracy: 0.5994 - val_auc: 0.5712 - val_loss: 0.0418
Epoch 3/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6014 - auc: 0.5742 - loss: 0.0417 - val_accuracy: 0.6016 - val_auc: 0.5824 - val_loss: 0.0417
Epoch 4/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6105 - auc: 0.5829 - loss: 0.0416 - val_accuracy: 0.6038 - val_auc: 0.5789 - val_loss: 0.0417
Epoch 5/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6118 - auc: 0.6014 - loss: 0.0412 - val_accuracy: 0.6009 - val_auc: 0.5833 - val_loss: 0.0416
Epoch 6/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6182 - auc: 0.6050 - loss: 0.0411 - val_accuracy: 0.6147 - val_auc: 0.5957 - val_loss: 0.0413
Epoch 7/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6184 - auc: 0.6130 - loss: 0.0409 - val_accuracy: 0.6063 - val_auc: 0.6013 - val_loss: 0.0411
Epoch 8/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6219 - auc: 0.6287 - loss: 0.0405 - val_accuracy: 0.6162 - val_auc: 0.6142 - val_loss: 0.0410
Epoch 9/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6267 - auc: 0.6349 - loss: 0.0403 - val_accuracy: 0.6235 - val_auc: 0.6304 - val_loss: 0.0404
Epoch 10/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6350 - auc: 0.6530 - loss: 0.0399 - val_accuracy: 0.6260 - val_auc: 0.6286 - val_loss: 0.0406
Epoch 11/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6380 - auc: 0.6624 - loss: 0.0395 - val_accuracy: 0.6322 - val_auc: 0.6404 - val_loss: 0.0402
Epoch 12/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6458 - auc: 0.6722 - loss: 0.0390 - val_accuracy: 0.6260 - val_auc: 0.6388 - val_loss: 0.0406
Epoch 13/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6483 - auc: 0.6814 - loss: 0.0386 - val_accuracy: 0.6384 - val_auc: 0.6582 - val_loss: 0.0397
Epoch 14/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6543 - auc: 0.6944 - loss: 0.0384 - val_accuracy: 0.6413 - val_auc: 0.6612 - val_loss: 0.0397
Epoch 15/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6568 - auc: 0.7029 - loss: 0.0378 - val_accuracy: 0.6380 - val_auc: 0.6601 - val_loss: 0.0406
Epoch 16/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6650 - auc: 0.7139 - loss: 0.0375 - val_accuracy: 0.6522 - val_auc: 0.6784 - val_loss: 0.0392
Epoch 17/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6645 - auc: 0.7213 - loss: 0.0373 - val_accuracy: 0.6515 - val_auc: 0.6826 - val_loss: 0.0391
Epoch 18/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6772 - auc: 0.7308 - loss: 0.0367 - val_accuracy: 0.6548 - val_auc: 0.6801 - val_loss: 0.0392
Epoch 19/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6776 - auc: 0.7379 - loss: 0.0364 - val_accuracy: 0.6548 - val_auc: 0.6966 - val_loss: 0.0387
Epoch 20/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6777 - auc: 0.7453 - loss: 0.0359 - val_accuracy: 0.6533 - val_auc: 0.6958 - val_loss: 0.0390
Epoch 21/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6865 - auc: 0.7521 - loss: 0.0357 - val_accuracy: 0.6602 - val_auc: 0.7029 - val_loss: 0.0393
Epoch 22/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.6907 - auc: 0.7611 - loss: 0.0351 - val_accuracy: 0.6686 - val_auc: 0.7101 - val_loss: 0.0389
Epoch 23/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6959 - auc: 0.7665 - loss: 0.0349 - val_accuracy: 0.6650 - val_auc: 0.7115 - val_loss: 0.0389
Epoch 24/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7010 - auc: 0.7751 - loss: 0.0345 - val_accuracy: 0.6668 - val_auc: 0.7136 - val_loss: 0.0387
Epoch 25/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7026 - auc: 0.7830 - loss: 0.0340 - val_accuracy: 0.6770 - val_auc: 0.7225 - val_loss: 0.0387
Epoch 26/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7099 - auc: 0.7859 - loss: 0.0339 - val_accuracy: 0.6715 - val_auc: 0.7219 - val_loss: 0.0386
Epoch 27/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7060 - auc: 0.7847 - loss: 0.0338 - val_accuracy: 0.6704 - val_auc: 0.7182 - val_loss: 0.0385
Epoch 28/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7113 - auc: 0.7907 - loss: 0.0335 - val_accuracy: 0.6784 - val_auc: 0.7292 - val_loss: 0.0386
Epoch 29/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7137 - auc: 0.7950 - loss: 0.0331 - val_accuracy: 0.6726 - val_auc: 0.7261 - val_loss: 0.0380
Epoch 30/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7233 - auc: 0.8052 - loss: 0.0326 - val_accuracy: 0.6832 - val_auc: 0.7285 - val_loss: 0.0388
Epoch 31/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7290 - auc: 0.8091 - loss: 0.0325 - val_accuracy: 0.6770 - val_auc: 0.7354 - val_loss: 0.0386
Epoch 32/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7289 - auc: 0.8134 - loss: 0.0321 - val_accuracy: 0.6883 - val_auc: 0.7497 - val_loss: 0.0376
Epoch 33/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7325 - auc: 0.8142 - loss: 0.0321 - val_accuracy: 0.6828 - val_auc: 0.7356 - val_loss: 0.0387
Epoch 34/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7404 - auc: 0.8253 - loss: 0.0312 - val_accuracy: 0.6930 - val_auc: 0.7519 - val_loss: 0.0377
Epoch 35/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7349 - auc: 0.8167 - loss: 0.0319 - val_accuracy: 0.6966 - val_auc: 0.7482 - val_loss: 0.0377
Epoch 36/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7390 - auc: 0.8257 - loss: 0.0313 - val_accuracy: 0.6966 - val_auc: 0.7552 - val_loss: 0.0382
Epoch 37/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7498 - auc: 0.8309 - loss: 0.0310 - val_accuracy: 0.6945 - val_auc: 0.7534 - val_loss: 0.0378
Epoch 38/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7474 - auc: 0.8324 - loss: 0.0308 - val_accuracy: 0.6996 - val_auc: 0.7569 - val_loss: 0.0379
Epoch 39/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7561 - auc: 0.8424 - loss: 0.0301 - val_accuracy: 0.6985 - val_auc: 0.7551 - val_loss: 0.0380
Epoch 40/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7552 - auc: 0.8405 - loss: 0.0303 - val_accuracy: 0.6992 - val_auc: 0.7595 - val_loss: 0.0380
Epoch 41/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7628 - auc: 0.8457 - loss: 0.0300 - val_accuracy: 0.7021 - val_auc: 0.7604 - val_loss: 0.0375
Epoch 42/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7639 - auc: 0.8496 - loss: 0.0296 - val_accuracy: 0.7021 - val_auc: 0.7654 - val_loss: 0.0379
Epoch 43/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7688 - auc: 0.8553 - loss: 0.0293 - val_accuracy: 0.7130 - val_auc: 0.7713 - val_loss: 0.0370
Epoch 44/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7703 - auc: 0.8577 - loss: 0.0288 - val_accuracy: 0.6966 - val_auc: 0.7620 - val_loss: 0.0388
Epoch 45/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7764 - auc: 0.8603 - loss: 0.0287 - val_accuracy: 0.7032 - val_auc: 0.7680 - val_loss: 0.0375
Epoch 46/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7742 - auc: 0.8637 - loss: 0.0282 - val_accuracy: 0.7083 - val_auc: 0.7725 - val_loss: 0.0386
Epoch 47/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7787 - auc: 0.8671 - loss: 0.0280 - val_accuracy: 0.7138 - val_auc: 0.7762 - val_loss: 0.0384
Epoch 48/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7743 - auc: 0.8641 - loss: 0.0285 - val_accuracy: 0.7116 - val_auc: 0.7724 - val_loss: 0.0383
Epoch 49/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7816 - auc: 0.8704 - loss: 0.0276 - val_accuracy: 0.7170 - val_auc: 0.7767 - val_loss: 0.0406
Epoch 50/50
344/344 ━━━━━━━━━━━━━━━━━━━━ 4s 10ms/step - accuracy: 0.7827 - auc: 0.8700 - loss: 0.0279 - val_accuracy: 0.7251 - val_auc: 0.7876 - val_loss: 0.0381
2025-11-10 19:59:15.251 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 19:59:15.252 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0279, Accuracy: 0.7827, AUC: 0.8700
2025-11-10 19:59:15.253 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0381, Accuracy: 0.7251, AUC: 0.7876
2025-11-10 19:59:15.256 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 19:59:15.359 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 19:59:16.589 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17083 data points.
2025-11-10 19:59:16.684 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17063 sequences.
2025-11-10 19:59:18.644 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 19:59:18.667 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 19:59:18.668 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 19:59:18.669 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_800\PainX_800_M15'...
2025-11-10 19:59:18.694 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_M15\random_forest.pkl
2025-11-10 19:59:18.704 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_M15\gradient_boosting.pkl
2025-11-10 19:59:18.749 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_800\PainX_800_M15\lstm.keras and models\PainX_800\PainX_800_M15\lstm_scaler.pkl
2025-11-10 19:59:18.750 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_800\PainX_800_M15\feature_info.pkl
2025-11-10 19:59:18.752 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_800\PainX_800_M15\meta_model.pkl
2025-11-10 19:59:18.753 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_800\PainX_800_M15\training_metadata.json
2025-11-10 19:59:18.755 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 800 [15m] (19/40)
2025-11-10 19:59:18.756 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 800 [1h] ---
2025-11-10 19:59:19.008 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16310 candles for PainX 800 [1h] from MT5
2025-11-10 19:59:19.009 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16310 candles (minimum: 2000)
2025-11-10 19:59:21.015 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 19:59:22.022 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 19:59:24.897 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 19:59:24.898 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 19:59:33.034 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13886 signals total, 9092 profitable (65.5% win rate), 4794 unprofitable
2025-11-10 19:59:33.107 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13886, 116), Shape of y: (13886,)
2025-11-10 19:59:33.118 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13886 data points.
2025-11-10 19:59:33.279 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13836 sequences.
2025-11-10 19:59:33.349 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 19:59:33.350 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 19:59:33.354 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 19:59:33.354 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 19:59:33.379 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 19:59:38.695 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 19:59:38.696 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:02:23.702 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:02:23.703 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:02:23.704 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:02:23.746 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:02:23.747 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4782), np.float64(1.0): np.int64(9054)}
2025-11-10 20:02:23.748 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13836
2025-11-10 20:02:23.914 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 9054 to 7173
2025-11-10 20:02:23.915 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4782), np.float64(1.0): np.int64(7173)}
2025-11-10 20:02:23.916 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11955
2025-11-10 20:02:23.919 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.5758 - auc: 0.5228 - loss: 0.0432 - val_accuracy: 0.5893 - val_auc: 0.5380 - val_loss: 0.0423
Epoch 2/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5989 - auc: 0.5553 - loss: 0.0420 - val_accuracy: 0.5914 - val_auc: 0.5820 - val_loss: 0.0419
Epoch 3/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6034 - auc: 0.5750 - loss: 0.0417 - val_accuracy: 0.5935 - val_auc: 0.5763 - val_loss: 0.0420
Epoch 4/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6074 - auc: 0.5869 - loss: 0.0414 - val_accuracy: 0.6043 - val_auc: 0.5827 - val_loss: 0.0418
Epoch 5/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6133 - auc: 0.6067 - loss: 0.0411 - val_accuracy: 0.5972 - val_auc: 0.5984 - val_loss: 0.0416
Epoch 6/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6180 - auc: 0.6281 - loss: 0.0407 - val_accuracy: 0.6156 - val_auc: 0.6346 - val_loss: 0.0409
Epoch 7/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6279 - auc: 0.6499 - loss: 0.0401 - val_accuracy: 0.6144 - val_auc: 0.6262 - val_loss: 0.0408
Epoch 8/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6398 - auc: 0.6764 - loss: 0.0392 - val_accuracy: 0.6194 - val_auc: 0.6620 - val_loss: 0.0401
Epoch 9/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6515 - auc: 0.6906 - loss: 0.0388 - val_accuracy: 0.6445 - val_auc: 0.6896 - val_loss: 0.0393
Epoch 10/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6621 - auc: 0.7107 - loss: 0.0380 - val_accuracy: 0.6407 - val_auc: 0.6850 - val_loss: 0.0392
Epoch 11/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6685 - auc: 0.7229 - loss: 0.0373 - val_accuracy: 0.6407 - val_auc: 0.7029 - val_loss: 0.0384
Epoch 12/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6761 - auc: 0.7396 - loss: 0.0366 - val_accuracy: 0.6575 - val_auc: 0.7146 - val_loss: 0.0382
Epoch 13/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6895 - auc: 0.7519 - loss: 0.0362 - val_accuracy: 0.6750 - val_auc: 0.7348 - val_loss: 0.0372
Epoch 14/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6962 - auc: 0.7703 - loss: 0.0349 - val_accuracy: 0.6863 - val_auc: 0.7463 - val_loss: 0.0370
Epoch 15/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7056 - auc: 0.7767 - loss: 0.0346 - val_accuracy: 0.6909 - val_auc: 0.7533 - val_loss: 0.0365
Epoch 16/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7172 - auc: 0.7936 - loss: 0.0336 - val_accuracy: 0.6880 - val_auc: 0.7593 - val_loss: 0.0361
Epoch 17/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7308 - auc: 0.8081 - loss: 0.0329 - val_accuracy: 0.6926 - val_auc: 0.7617 - val_loss: 0.0363
Epoch 18/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7339 - auc: 0.8111 - loss: 0.0326 - val_accuracy: 0.6913 - val_auc: 0.7586 - val_loss: 0.0368
Epoch 19/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7365 - auc: 0.8157 - loss: 0.0324 - val_accuracy: 0.6951 - val_auc: 0.7616 - val_loss: 0.0368
Epoch 20/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7492 - auc: 0.8315 - loss: 0.0312 - val_accuracy: 0.7106 - val_auc: 0.7798 - val_loss: 0.0357
Epoch 21/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7496 - auc: 0.8319 - loss: 0.0312 - val_accuracy: 0.7060 - val_auc: 0.7751 - val_loss: 0.0357
Epoch 22/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7598 - auc: 0.8421 - loss: 0.0304 - val_accuracy: 0.7143 - val_auc: 0.7791 - val_loss: 0.0358
Epoch 23/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7584 - auc: 0.8447 - loss: 0.0302 - val_accuracy: 0.7097 - val_auc: 0.7821 - val_loss: 0.0359
Epoch 24/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7674 - auc: 0.8490 - loss: 0.0298 - val_accuracy: 0.7261 - val_auc: 0.7927 - val_loss: 0.0351
Epoch 25/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7744 - auc: 0.8573 - loss: 0.0293 - val_accuracy: 0.7290 - val_auc: 0.7936 - val_loss: 0.0355
Epoch 26/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7721 - auc: 0.8546 - loss: 0.0293 - val_accuracy: 0.7277 - val_auc: 0.7990 - val_loss: 0.0356
Epoch 27/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7799 - auc: 0.8665 - loss: 0.0284 - val_accuracy: 0.7365 - val_auc: 0.8021 - val_loss: 0.0347
Epoch 28/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7831 - auc: 0.8677 - loss: 0.0284 - val_accuracy: 0.7319 - val_auc: 0.8054 - val_loss: 0.0350
Epoch 29/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7861 - auc: 0.8702 - loss: 0.0281 - val_accuracy: 0.7440 - val_auc: 0.8089 - val_loss: 0.0349
Epoch 30/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7871 - auc: 0.8737 - loss: 0.0276 - val_accuracy: 0.7336 - val_auc: 0.7970 - val_loss: 0.0376
Epoch 31/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7863 - auc: 0.8735 - loss: 0.0277 - val_accuracy: 0.7369 - val_auc: 0.8063 - val_loss: 0.0354
Epoch 32/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8006 - auc: 0.8842 - loss: 0.0268 - val_accuracy: 0.7461 - val_auc: 0.8131 - val_loss: 0.0355
Epoch 33/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7915 - auc: 0.8760 - loss: 0.0275 - val_accuracy: 0.7453 - val_auc: 0.8120 - val_loss: 0.0358
Epoch 34/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8013 - auc: 0.8861 - loss: 0.0266 - val_accuracy: 0.7394 - val_auc: 0.8089 - val_loss: 0.0356
Epoch 35/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8035 - auc: 0.8900 - loss: 0.0261 - val_accuracy: 0.7491 - val_auc: 0.8133 - val_loss: 0.0356
Epoch 36/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8078 - auc: 0.8946 - loss: 0.0255 - val_accuracy: 0.7558 - val_auc: 0.8194 - val_loss: 0.0365
Epoch 37/50
299/299 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.8168 - auc: 0.8987 - loss: 0.0252 - val_accuracy: 0.7411 - val_auc: 0.8084 - val_loss: 0.0371
2025-11-10 20:04:27.407 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 37
2025-11-10 20:04:27.407 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0252, Accuracy: 0.8168, AUC: 0.8987
2025-11-10 20:04:27.409 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0371, Accuracy: 0.7411, AUC: 0.8084
2025-11-10 20:04:27.412 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:04:27.525 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:04:28.488 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13886 data points.
2025-11-10 20:04:28.561 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13866 sequences.
2025-11-10 20:04:30.281 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:04:30.297 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:04:30.299 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:04:30.299 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_800\PainX_800_H1'...
2025-11-10 20:04:30.347 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_800\PainX_800_H1\random_forest.pkl
2025-11-10 20:04:30.377 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_800\PainX_800_H1\gradient_boosting.pkl
2025-11-10 20:04:30.552 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_800\PainX_800_H1\lstm.keras and models\PainX_800\PainX_800_H1\lstm_scaler.pkl
2025-11-10 20:04:30.553 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_800\PainX_800_H1\feature_info.pkl
2025-11-10 20:04:30.556 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_800\PainX_800_H1\meta_model.pkl
2025-11-10 20:04:30.557 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_800\PainX_800_H1\training_metadata.json
2025-11-10 20:04:30.558 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 800 [1h] (20/40)
2025-11-10 20:04:30.559 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 800 [1m] ---
2025-11-10 20:04:30.559 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 20:04:30.560 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 20:04:33.629 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 20:04:33.631 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 20:04:33.632 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 20:04:33.659 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [1m] from MT5
2025-11-10 20:04:33.660 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:04:35.663 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:04:36.877 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:04:40.410 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:04:40.411 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:04:50.503 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17464 signals total, 13504 profitable (77.3% win rate), 3960 unprofitable
2025-11-10 20:04:50.586 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17464, 116), Shape of y: (17464,)
2025-11-10 20:04:50.599 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17464 data points.
2025-11-10 20:04:50.819 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17414 sequences.
2025-11-10 20:04:50.926 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:04:50.927 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:04:50.931 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:04:50.931 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:04:50.965 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:04:56.449 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:04:56.451 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:07:49.465 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:07:49.467 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:07:49.468 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:07:49.509 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:07:49.510 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3952), np.float64(1.0): np.int64(13462)}
2025-11-10 20:07:49.511 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17414
2025-11-10 20:07:49.643 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13462 to 5928
2025-11-10 20:07:49.643 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3952), np.float64(1.0): np.int64(5928)}
2025-11-10 20:07:49.645 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9880
2025-11-10 20:07:49.648 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.5428 - auc: 0.5023 - loss: 0.0466 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
Epoch 2/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5727 - auc: 0.5074 - loss: 0.0430 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
Epoch 3/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5851 - auc: 0.4995 - loss: 0.0428 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 4/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5920 - auc: 0.5064 - loss: 0.0425 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 5/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5972 - auc: 0.4964 - loss: 0.0425 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 6/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5962 - auc: 0.4987 - loss: 0.0425 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 7/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5979 - auc: 0.4901 - loss: 0.0425 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0421
Epoch 8/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5975 - auc: 0.5000 - loss: 0.0424 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
Epoch 9/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5978 - auc: 0.4948 - loss: 0.0424 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
Epoch 10/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5972 - auc: 0.5025 - loss: 0.0424 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
Epoch 11/50
247/247 ━━━━━━━━━━━━━━━━━━━━ 2s 9ms/step - accuracy: 0.5992 - auc: 0.4965 - loss: 0.0423 - val_accuracy: 0.6083 - val_auc: 0.5017 - val_loss: 0.0420
2025-11-10 20:08:18.832 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 11
2025-11-10 20:08:18.833 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0423, Accuracy: 0.5992, AUC: 0.4965
2025-11-10 20:08:18.834 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0420, Accuracy: 0.6083, AUC: 0.5017
2025-11-10 20:08:18.837 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:08:18.909 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:08:20.127 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17464 data points.
2025-11-10 20:08:20.219 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17444 sequences.
2025-11-10 20:08:22.145 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:08:22.161 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:08:22.163 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:08:22.166 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_800\GainX_800_M1'...
2025-11-10 20:08:22.194 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M1\random_forest.pkl
2025-11-10 20:08:22.209 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M1\gradient_boosting.pkl
2025-11-10 20:08:22.250 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_800\GainX_800_M1\lstm.keras and models\GainX_800\GainX_800_M1\lstm_scaler.pkl
2025-11-10 20:08:22.251 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_800\GainX_800_M1\feature_info.pkl
2025-11-10 20:08:22.253 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_800\GainX_800_M1\meta_model.pkl
2025-11-10 20:08:22.255 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_800\GainX_800_M1\training_metadata.json
2025-11-10 20:08:22.256 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 800 [1m] (21/40)
2025-11-10 20:08:22.256 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 800 [5m] ---
2025-11-10 20:08:24.058 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [5m] from MT5
2025-11-10 20:08:24.059 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:08:26.061 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:08:27.240 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:08:30.779 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:08:30.780 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:08:41.299 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17215 signals total, 12264 profitable (71.2% win rate), 4951 unprofitable
2025-11-10 20:08:41.384 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17215, 116), Shape of y: (17215,)
2025-11-10 20:08:41.394 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17215 data points.
2025-11-10 20:08:41.596 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17165 sequences.
2025-11-10 20:08:41.666 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:08:41.666 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:08:41.671 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:08:41.671 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:08:41.700 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:08:47.786 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:08:47.787 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:11:56.898 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:11:56.899 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:11:56.901 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:11:56.939 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:11:56.940 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4937), np.float64(1.0): np.int64(12228)}
2025-11-10 20:11:56.941 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17165
2025-11-10 20:11:57.110 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12228 to 7405
2025-11-10 20:11:57.111 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4937), np.float64(1.0): np.int64(7405)}
2025-11-10 20:11:57.112 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12342
2025-11-10 20:11:57.115 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.249949361960705), 1: np.float64(0.8333558406482107)}
Epoch 1/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5701 - auc: 0.4981 - loss: 0.0432 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0425
Epoch 2/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5964 - auc: 0.4981 - loss: 0.0425 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 3/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6003 - auc: 0.4976 - loss: 0.0424 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 4/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6005 - auc: 0.4995 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 5/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6007 - auc: 0.4943 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 6/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.4948 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 7/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.5013 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0422
Epoch 8/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.5014 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 9/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6007 - auc: 0.5055 - loss: 0.0422 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 10/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6010 - auc: 0.4928 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 11/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.5037 - loss: 0.0422 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 12/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.4944 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 13/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6007 - auc: 0.4938 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 14/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.5002 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 15/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6008 - auc: 0.4994 - loss: 0.0422 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 16/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6006 - auc: 0.5010 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
Epoch 17/50
309/309 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6007 - auc: 0.4996 - loss: 0.0423 - val_accuracy: 0.5974 - val_auc: 0.5027 - val_loss: 0.0423
2025-11-10 20:12:58.901 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 17
2025-11-10 20:12:58.902 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0423, Accuracy: 0.6007, AUC: 0.4996
2025-11-10 20:12:58.906 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0423, Accuracy: 0.5974, AUC: 0.5027
2025-11-10 20:12:58.906 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:12:59.011 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:13:00.227 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17215 data points.
2025-11-10 20:13:00.319 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17195 sequences.
2025-11-10 20:13:02.285 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:13:02.300 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:13:02.301 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:13:02.301 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_800\GainX_800_M5'...
2025-11-10 20:13:02.351 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M5\random_forest.pkl
2025-11-10 20:13:02.361 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M5\gradient_boosting.pkl
2025-11-10 20:13:02.430 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_800\GainX_800_M5\lstm.keras and models\GainX_800\GainX_800_M5\lstm_scaler.pkl
2025-11-10 20:13:02.431 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_800\GainX_800_M5\feature_info.pkl
2025-11-10 20:13:02.432 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_800\GainX_800_M5\meta_model.pkl
2025-11-10 20:13:02.435 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_800\GainX_800_M5\training_metadata.json
2025-11-10 20:13:02.436 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 800 [5m] (22/40)
2025-11-10 20:13:02.436 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 800 [15m] ---
2025-11-10 20:13:02.579 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 800 [15m] from MT5
2025-11-10 20:13:02.579 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 20:13:04.581 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:13:05.792 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:13:09.324 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:13:09.325 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:13:19.268 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17075 signals total, 11573 profitable (67.8% win rate), 5502 unprofitable
2025-11-10 20:13:19.346 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17075, 116), Shape of y: (17075,)
2025-11-10 20:13:19.357 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17075 data points.
2025-11-10 20:13:19.553 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17025 sequences.
2025-11-10 20:13:19.623 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:13:19.623 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:13:19.628 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:13:19.628 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:13:19.658 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:13:26.120 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:13:26.121 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:16:41.425 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:16:41.426 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:16:41.428 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:16:41.467 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:16:41.468 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5486), np.float64(1.0): np.int64(11539)}
2025-11-10 20:16:41.469 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17025
2025-11-10 20:16:41.654 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11539 to 8229
2025-11-10 20:16:41.655 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5486), np.float64(1.0): np.int64(8229)}
2025-11-10 20:16:41.659 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 13715
2025-11-10 20:16:41.660 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5633 - auc: 0.5336 - loss: 0.0441 - val_accuracy: 0.6037 - val_auc: 0.5526 - val_loss: 0.0421
Epoch 2/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5999 - auc: 0.5535 - loss: 0.0422 - val_accuracy: 0.5997 - val_auc: 0.5603 - val_loss: 0.0419
Epoch 3/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6013 - auc: 0.5589 - loss: 0.0420 - val_accuracy: 0.6001 - val_auc: 0.5733 - val_loss: 0.0418
Epoch 4/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6069 - auc: 0.5812 - loss: 0.0416 - val_accuracy: 0.6103 - val_auc: 0.5931 - val_loss: 0.0415
Epoch 5/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6101 - auc: 0.5868 - loss: 0.0416 - val_accuracy: 0.6117 - val_auc: 0.5955 - val_loss: 0.0414
Epoch 6/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6127 - auc: 0.5923 - loss: 0.0414 - val_accuracy: 0.6048 - val_auc: 0.5953 - val_loss: 0.0415
Epoch 7/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6130 - auc: 0.6020 - loss: 0.0411 - val_accuracy: 0.6132 - val_auc: 0.6037 - val_loss: 0.0412
Epoch 8/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6180 - auc: 0.6246 - loss: 0.0408 - val_accuracy: 0.6216 - val_auc: 0.6067 - val_loss: 0.0411
Epoch 9/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6224 - auc: 0.6308 - loss: 0.0405 - val_accuracy: 0.6077 - val_auc: 0.6091 - val_loss: 0.0409
Epoch 10/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6314 - auc: 0.6458 - loss: 0.0401 - val_accuracy: 0.6139 - val_auc: 0.6365 - val_loss: 0.0406
Epoch 11/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6359 - auc: 0.6529 - loss: 0.0399 - val_accuracy: 0.6249 - val_auc: 0.6365 - val_loss: 0.0405
Epoch 12/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6403 - auc: 0.6678 - loss: 0.0395 - val_accuracy: 0.6307 - val_auc: 0.6549 - val_loss: 0.0401
Epoch 13/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6523 - auc: 0.6842 - loss: 0.0390 - val_accuracy: 0.6380 - val_auc: 0.6535 - val_loss: 0.0400
Epoch 14/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6544 - auc: 0.6905 - loss: 0.0390 - val_accuracy: 0.6544 - val_auc: 0.6751 - val_loss: 0.0395
Epoch 15/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6655 - auc: 0.7115 - loss: 0.0380 - val_accuracy: 0.6526 - val_auc: 0.6806 - val_loss: 0.0392
Epoch 16/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6682 - auc: 0.7159 - loss: 0.0378 - val_accuracy: 0.6511 - val_auc: 0.6912 - val_loss: 0.0389
Epoch 17/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6821 - auc: 0.7365 - loss: 0.0370 - val_accuracy: 0.6591 - val_auc: 0.6967 - val_loss: 0.0388
Epoch 18/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6890 - auc: 0.7454 - loss: 0.0366 - val_accuracy: 0.6661 - val_auc: 0.7077 - val_loss: 0.0382
Epoch 19/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6904 - auc: 0.7537 - loss: 0.0361 - val_accuracy: 0.6661 - val_auc: 0.7185 - val_loss: 0.0378
Epoch 20/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6977 - auc: 0.7633 - loss: 0.0355 - val_accuracy: 0.6701 - val_auc: 0.7197 - val_loss: 0.0377
Epoch 21/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7110 - auc: 0.7758 - loss: 0.0349 - val_accuracy: 0.6817 - val_auc: 0.7348 - val_loss: 0.0374
Epoch 22/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7159 - auc: 0.7829 - loss: 0.0346 - val_accuracy: 0.6843 - val_auc: 0.7320 - val_loss: 0.0373
Epoch 23/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7219 - auc: 0.7946 - loss: 0.0339 - val_accuracy: 0.6777 - val_auc: 0.7365 - val_loss: 0.0371
Epoch 24/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7293 - auc: 0.7990 - loss: 0.0337 - val_accuracy: 0.6960 - val_auc: 0.7577 - val_loss: 0.0362
Epoch 25/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7302 - auc: 0.8043 - loss: 0.0333 - val_accuracy: 0.6861 - val_auc: 0.7476 - val_loss: 0.0370
Epoch 26/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7353 - auc: 0.8130 - loss: 0.0326 - val_accuracy: 0.6883 - val_auc: 0.7501 - val_loss: 0.0366
Epoch 27/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7389 - auc: 0.8133 - loss: 0.0326 - val_accuracy: 0.6978 - val_auc: 0.7657 - val_loss: 0.0362
Epoch 28/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7365 - auc: 0.8192 - loss: 0.0322 - val_accuracy: 0.7003 - val_auc: 0.7638 - val_loss: 0.0362
Epoch 29/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7535 - auc: 0.8318 - loss: 0.0313 - val_accuracy: 0.7062 - val_auc: 0.7702 - val_loss: 0.0358
Epoch 30/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7570 - auc: 0.8346 - loss: 0.0311 - val_accuracy: 0.6967 - val_auc: 0.7622 - val_loss: 0.0362
Epoch 31/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7550 - auc: 0.8380 - loss: 0.0309 - val_accuracy: 0.7131 - val_auc: 0.7820 - val_loss: 0.0352
Epoch 32/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7593 - auc: 0.8422 - loss: 0.0305 - val_accuracy: 0.7109 - val_auc: 0.7746 - val_loss: 0.0360
Epoch 33/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7603 - auc: 0.8424 - loss: 0.0305 - val_accuracy: 0.7058 - val_auc: 0.7705 - val_loss: 0.0360
Epoch 34/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7716 - auc: 0.8488 - loss: 0.0301 - val_accuracy: 0.7186 - val_auc: 0.7811 - val_loss: 0.0352
Epoch 35/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7629 - auc: 0.8505 - loss: 0.0297 - val_accuracy: 0.7248 - val_auc: 0.7902 - val_loss: 0.0350
Epoch 36/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7671 - auc: 0.8509 - loss: 0.0298 - val_accuracy: 0.7258 - val_auc: 0.7960 - val_loss: 0.0346
Epoch 37/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7731 - auc: 0.8573 - loss: 0.0294 - val_accuracy: 0.7207 - val_auc: 0.7940 - val_loss: 0.0348
Epoch 38/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7790 - auc: 0.8617 - loss: 0.0290 - val_accuracy: 0.7197 - val_auc: 0.7927 - val_loss: 0.0353
Epoch 39/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7835 - auc: 0.8666 - loss: 0.0286 - val_accuracy: 0.7310 - val_auc: 0.7976 - val_loss: 0.0346
Epoch 40/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7793 - auc: 0.8681 - loss: 0.0283 - val_accuracy: 0.7240 - val_auc: 0.7964 - val_loss: 0.0350
Epoch 41/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7865 - auc: 0.8727 - loss: 0.0278 - val_accuracy: 0.7291 - val_auc: 0.8014 - val_loss: 0.0356
Epoch 42/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7857 - auc: 0.8728 - loss: 0.0278 - val_accuracy: 0.7145 - val_auc: 0.7950 - val_loss: 0.0351
Epoch 43/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7903 - auc: 0.8773 - loss: 0.0273 - val_accuracy: 0.7306 - val_auc: 0.8029 - val_loss: 0.0350
Epoch 44/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7936 - auc: 0.8791 - loss: 0.0272 - val_accuracy: 0.7255 - val_auc: 0.8010 - val_loss: 0.0355
Epoch 45/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7980 - auc: 0.8843 - loss: 0.0268 - val_accuracy: 0.7306 - val_auc: 0.8072 - val_loss: 0.0350
Epoch 46/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7993 - auc: 0.8830 - loss: 0.0269 - val_accuracy: 0.7342 - val_auc: 0.8083 - val_loss: 0.0349
Epoch 47/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7927 - auc: 0.8806 - loss: 0.0272 - val_accuracy: 0.7404 - val_auc: 0.8084 - val_loss: 0.0350
Epoch 48/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8013 - auc: 0.8893 - loss: 0.0262 - val_accuracy: 0.7353 - val_auc: 0.8085 - val_loss: 0.0351
Epoch 49/50
343/343 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8099 - auc: 0.8940 - loss: 0.0259 - val_accuracy: 0.7390 - val_auc: 0.8075 - val_loss: 0.0362
2025-11-10 20:19:53.226 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 49
2025-11-10 20:19:53.227 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0259, Accuracy: 0.8099, AUC: 0.8940
2025-11-10 20:19:53.228 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0362, Accuracy: 0.7390, AUC: 0.8075
2025-11-10 20:19:53.229 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:19:53.357 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:19:54.552 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17075 data points.
2025-11-10 20:19:54.643 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17055 sequences.
2025-11-10 20:19:56.611 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:19:56.632 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:19:56.633 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:19:56.634 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_800\GainX_800_M15'...
2025-11-10 20:19:56.659 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_M15\random_forest.pkl
2025-11-10 20:19:56.681 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_M15\gradient_boosting.pkl
2025-11-10 20:19:56.711 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_800\GainX_800_M15\lstm.keras and models\GainX_800\GainX_800_M15\lstm_scaler.pkl
2025-11-10 20:19:56.712 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_800\GainX_800_M15\feature_info.pkl
2025-11-10 20:19:56.714 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_800\GainX_800_M15\meta_model.pkl
2025-11-10 20:19:56.716 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_800\GainX_800_M15\training_metadata.json
2025-11-10 20:19:56.717 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 800 [15m] (23/40)
2025-11-10 20:19:56.717 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 800 [1h] ---
2025-11-10 20:19:56.828 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16311 candles for GainX 800 [1h] from MT5
2025-11-10 20:19:56.829 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16311 candles (minimum: 2000)
2025-11-10 20:19:58.838 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:19:59.816 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:20:02.693 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:20:02.694 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:20:10.849 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13924 signals total, 9241 profitable (66.4% win rate), 4683 unprofitable
2025-11-10 20:20:10.920 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13924, 116), Shape of y: (13924,)
2025-11-10 20:20:10.932 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13924 data points.
2025-11-10 20:20:11.093 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13874 sequences.
2025-11-10 20:20:11.172 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:20:11.173 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:20:11.178 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:20:11.178 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:20:11.204 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:20:16.542 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:20:16.543 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:22:58.082 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:22:58.083 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:22:58.085 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:22:58.123 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:22:58.124 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4656), np.float64(1.0): np.int64(9218)}
2025-11-10 20:22:58.129 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13874
2025-11-10 20:22:58.285 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 9218 to 6984
2025-11-10 20:22:58.286 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4656), np.float64(1.0): np.int64(6984)}
2025-11-10 20:22:58.287 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11640
2025-11-10 20:22:58.290 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 5s 10ms/step - accuracy: 0.5743 - auc: 0.5218 - loss: 0.0436 - val_accuracy: 0.5932 - val_auc: 0.5350 - val_loss: 0.0423
Epoch 2/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6015 - auc: 0.5447 - loss: 0.0421 - val_accuracy: 0.5915 - val_auc: 0.5422 - val_loss: 0.0422
Epoch 3/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6045 - auc: 0.5554 - loss: 0.0418 - val_accuracy: 0.5949 - val_auc: 0.5621 - val_loss: 0.0420
Epoch 4/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6034 - auc: 0.5654 - loss: 0.0417 - val_accuracy: 0.5902 - val_auc: 0.5592 - val_loss: 0.0419
Epoch 5/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6080 - auc: 0.5861 - loss: 0.0413 - val_accuracy: 0.5906 - val_auc: 0.5834 - val_loss: 0.0418
Epoch 6/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6113 - auc: 0.6108 - loss: 0.0409 - val_accuracy: 0.5945 - val_auc: 0.5904 - val_loss: 0.0416
Epoch 7/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6192 - auc: 0.6156 - loss: 0.0407 - val_accuracy: 0.6057 - val_auc: 0.6037 - val_loss: 0.0413
Epoch 8/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6285 - auc: 0.6376 - loss: 0.0401 - val_accuracy: 0.6108 - val_auc: 0.6132 - val_loss: 0.0410
Epoch 9/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6377 - auc: 0.6493 - loss: 0.0399 - val_accuracy: 0.6151 - val_auc: 0.6273 - val_loss: 0.0408
Epoch 10/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6425 - auc: 0.6615 - loss: 0.0394 - val_accuracy: 0.6332 - val_auc: 0.6492 - val_loss: 0.0403
Epoch 11/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6522 - auc: 0.6895 - loss: 0.0388 - val_accuracy: 0.6259 - val_auc: 0.6461 - val_loss: 0.0403
Epoch 12/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6593 - auc: 0.6996 - loss: 0.0382 - val_accuracy: 0.6418 - val_auc: 0.6739 - val_loss: 0.0397
Epoch 13/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6716 - auc: 0.7216 - loss: 0.0373 - val_accuracy: 0.6469 - val_auc: 0.6810 - val_loss: 0.0396
Epoch 14/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6796 - auc: 0.7332 - loss: 0.0369 - val_accuracy: 0.6598 - val_auc: 0.7060 - val_loss: 0.0386
Epoch 15/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6917 - auc: 0.7468 - loss: 0.0362 - val_accuracy: 0.6559 - val_auc: 0.6981 - val_loss: 0.0387
Epoch 16/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.6956 - auc: 0.7628 - loss: 0.0354 - val_accuracy: 0.6761 - val_auc: 0.7216 - val_loss: 0.0381
Epoch 17/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7084 - auc: 0.7737 - loss: 0.0348 - val_accuracy: 0.6645 - val_auc: 0.7258 - val_loss: 0.0380
Epoch 18/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7182 - auc: 0.7888 - loss: 0.0341 - val_accuracy: 0.6830 - val_auc: 0.7349 - val_loss: 0.0375
Epoch 19/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7247 - auc: 0.8002 - loss: 0.0335 - val_accuracy: 0.6851 - val_auc: 0.7498 - val_loss: 0.0372
Epoch 20/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7337 - auc: 0.8068 - loss: 0.0330 - val_accuracy: 0.6894 - val_auc: 0.7557 - val_loss: 0.0368
Epoch 21/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7408 - auc: 0.8179 - loss: 0.0322 - val_accuracy: 0.7049 - val_auc: 0.7679 - val_loss: 0.0363
Epoch 22/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7475 - auc: 0.8269 - loss: 0.0316 - val_accuracy: 0.7139 - val_auc: 0.7699 - val_loss: 0.0363
Epoch 23/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7520 - auc: 0.8305 - loss: 0.0316 - val_accuracy: 0.7049 - val_auc: 0.7711 - val_loss: 0.0370
Epoch 24/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7584 - auc: 0.8373 - loss: 0.0310 - val_accuracy: 0.7015 - val_auc: 0.7693 - val_loss: 0.0365
Epoch 25/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7663 - auc: 0.8486 - loss: 0.0301 - val_accuracy: 0.7126 - val_auc: 0.7793 - val_loss: 0.0359
Epoch 26/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7660 - auc: 0.8447 - loss: 0.0303 - val_accuracy: 0.7204 - val_auc: 0.7858 - val_loss: 0.0352
Epoch 27/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7738 - auc: 0.8606 - loss: 0.0291 - val_accuracy: 0.7122 - val_auc: 0.7816 - val_loss: 0.0362
Epoch 28/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7766 - auc: 0.8620 - loss: 0.0287 - val_accuracy: 0.7315 - val_auc: 0.7974 - val_loss: 0.0353
Epoch 29/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7761 - auc: 0.8599 - loss: 0.0290 - val_accuracy: 0.7216 - val_auc: 0.7932 - val_loss: 0.0360
Epoch 30/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7795 - auc: 0.8669 - loss: 0.0285 - val_accuracy: 0.7290 - val_auc: 0.7981 - val_loss: 0.0360
Epoch 31/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.7834 - auc: 0.8713 - loss: 0.0279 - val_accuracy: 0.7118 - val_auc: 0.7813 - val_loss: 0.0361
Epoch 32/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7891 - auc: 0.8775 - loss: 0.0274 - val_accuracy: 0.7311 - val_auc: 0.8031 - val_loss: 0.0357
Epoch 33/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7950 - auc: 0.8812 - loss: 0.0270 - val_accuracy: 0.7290 - val_auc: 0.8018 - val_loss: 0.0355
Epoch 34/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7964 - auc: 0.8825 - loss: 0.0269 - val_accuracy: 0.7414 - val_auc: 0.8080 - val_loss: 0.0350
Epoch 35/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.7955 - auc: 0.8829 - loss: 0.0268 - val_accuracy: 0.7410 - val_auc: 0.8063 - val_loss: 0.0354
Epoch 36/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8048 - auc: 0.8931 - loss: 0.0259 - val_accuracy: 0.7479 - val_auc: 0.8084 - val_loss: 0.0359
Epoch 37/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8024 - auc: 0.8900 - loss: 0.0261 - val_accuracy: 0.7345 - val_auc: 0.8037 - val_loss: 0.0360
Epoch 38/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8105 - auc: 0.8954 - loss: 0.0255 - val_accuracy: 0.7500 - val_auc: 0.8131 - val_loss: 0.0353
Epoch 39/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8127 - auc: 0.8958 - loss: 0.0256 - val_accuracy: 0.7367 - val_auc: 0.8059 - val_loss: 0.0367
Epoch 40/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8113 - auc: 0.8996 - loss: 0.0252 - val_accuracy: 0.7328 - val_auc: 0.8090 - val_loss: 0.0365
Epoch 41/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8124 - auc: 0.8983 - loss: 0.0252 - val_accuracy: 0.7337 - val_auc: 0.8124 - val_loss: 0.0361
Epoch 42/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8164 - auc: 0.8981 - loss: 0.0255 - val_accuracy: 0.7436 - val_auc: 0.8165 - val_loss: 0.0350
Epoch 43/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8191 - auc: 0.9069 - loss: 0.0242 - val_accuracy: 0.7453 - val_auc: 0.8134 - val_loss: 0.0366
Epoch 44/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8148 - auc: 0.9011 - loss: 0.0248 - val_accuracy: 0.7397 - val_auc: 0.8168 - val_loss: 0.0356
Epoch 45/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 5s 9ms/step - accuracy: 0.8216 - auc: 0.9087 - loss: 0.0240 - val_accuracy: 0.7388 - val_auc: 0.8143 - val_loss: 0.0375
Epoch 46/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8257 - auc: 0.9115 - loss: 0.0238 - val_accuracy: 0.7487 - val_auc: 0.8191 - val_loss: 0.0375
Epoch 47/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8333 - auc: 0.9132 - loss: 0.0235 - val_accuracy: 0.7436 - val_auc: 0.8201 - val_loss: 0.0371
Epoch 48/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8293 - auc: 0.9169 - loss: 0.0229 - val_accuracy: 0.7436 - val_auc: 0.8157 - val_loss: 0.0378
Epoch 49/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8280 - auc: 0.9121 - loss: 0.0238 - val_accuracy: 0.7517 - val_auc: 0.8186 - val_loss: 0.0378
Epoch 50/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 9ms/step - accuracy: 0.8293 - auc: 0.9121 - loss: 0.0238 - val_accuracy: 0.7444 - val_auc: 0.8222 - val_loss: 0.0367
2025-11-10 20:25:21.579 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 20:25:21.579 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0238, Accuracy: 0.8293, AUC: 0.9121
2025-11-10 20:25:21.580 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0367, Accuracy: 0.7444, AUC: 0.8222
2025-11-10 20:25:21.583 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:25:21.682 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:25:22.653 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13924 data points.
2025-11-10 20:25:22.728 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13904 sequences.
2025-11-10 20:25:24.451 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:25:24.471 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:25:24.472 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:25:24.472 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_800\GainX_800_H1'...
2025-11-10 20:25:24.495 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_800\GainX_800_H1\random_forest.pkl
2025-11-10 20:25:24.532 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_800\GainX_800_H1\gradient_boosting.pkl
2025-11-10 20:25:24.558 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_800\GainX_800_H1\lstm.keras and models\GainX_800\GainX_800_H1\lstm_scaler.pkl
2025-11-10 20:25:24.559 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_800\GainX_800_H1\feature_info.pkl
2025-11-10 20:25:24.560 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_800\GainX_800_H1\meta_model.pkl
2025-11-10 20:25:24.561 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_800\GainX_800_H1\training_metadata.json
2025-11-10 20:25:24.561 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 800 [1h] (24/40)
2025-11-10 20:25:24.562 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 999 [1m] ---
2025-11-10 20:25:24.573 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [1m] from MT5
2025-11-10 20:25:24.574 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:25:26.575 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:25:27.777 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:25:31.245 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:25:31.246 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:25:41.334 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17541 signals total, 13904 profitable (79.3% win rate), 3637 unprofitable
2025-11-10 20:25:41.416 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17541, 116), Shape of y: (17541,)
2025-11-10 20:25:41.429 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17541 data points.
2025-11-10 20:25:41.628 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17491 sequences.
2025-11-10 20:25:41.680 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:25:41.681 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:25:41.685 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:25:41.686 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:25:41.716 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:25:47.303 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:25:47.304 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:28:34.608 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:28:34.610 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:28:34.611 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:28:34.649 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:28:34.649 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3625), np.float64(1.0): np.int64(13866)}
2025-11-10 20:28:34.651 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17491
2025-11-10 20:28:34.779 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13866 to 5437
2025-11-10 20:28:34.779 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3625), np.float64(1.0): np.int64(5437)}
2025-11-10 20:28:34.781 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9062
2025-11-10 20:28:34.784 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499310344827586), 1: np.float64(0.8333639874931028)}
Epoch 1/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 5s 14ms/step - accuracy: 0.6550 - auc: 0.6935 - loss: 0.0402 - val_accuracy: 0.7005 - val_auc: 0.7465 - val_loss: 0.0372
Epoch 2/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6866 - auc: 0.7316 - loss: 0.0379 - val_accuracy: 0.7088 - val_auc: 0.7596 - val_loss: 0.0364
Epoch 3/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6962 - auc: 0.7394 - loss: 0.0375 - val_accuracy: 0.7181 - val_auc: 0.7636 - val_loss: 0.0364
Epoch 4/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7064 - auc: 0.7524 - loss: 0.0369 - val_accuracy: 0.7049 - val_auc: 0.7606 - val_loss: 0.0363
Epoch 5/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7091 - auc: 0.7539 - loss: 0.0367 - val_accuracy: 0.7231 - val_auc: 0.7664 - val_loss: 0.0361
Epoch 6/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7158 - auc: 0.7617 - loss: 0.0362 - val_accuracy: 0.7137 - val_auc: 0.7659 - val_loss: 0.0363
Epoch 7/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7180 - auc: 0.7688 - loss: 0.0358 - val_accuracy: 0.7336 - val_auc: 0.7771 - val_loss: 0.0355
Epoch 8/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7207 - auc: 0.7701 - loss: 0.0357 - val_accuracy: 0.7226 - val_auc: 0.7753 - val_loss: 0.0354
Epoch 9/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7241 - auc: 0.7728 - loss: 0.0357 - val_accuracy: 0.7253 - val_auc: 0.7784 - val_loss: 0.0356
Epoch 10/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7247 - auc: 0.7741 - loss: 0.0354 - val_accuracy: 0.7126 - val_auc: 0.7758 - val_loss: 0.0358
Epoch 11/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7291 - auc: 0.7825 - loss: 0.0351 - val_accuracy: 0.7314 - val_auc: 0.7867 - val_loss: 0.0351
Epoch 12/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7292 - auc: 0.7840 - loss: 0.0348 - val_accuracy: 0.7325 - val_auc: 0.7832 - val_loss: 0.0353
Epoch 13/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7355 - auc: 0.7861 - loss: 0.0347 - val_accuracy: 0.7363 - val_auc: 0.7917 - val_loss: 0.0345
Epoch 14/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7375 - auc: 0.7962 - loss: 0.0340 - val_accuracy: 0.7441 - val_auc: 0.7920 - val_loss: 0.0344
Epoch 15/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7416 - auc: 0.7991 - loss: 0.0338 - val_accuracy: 0.7325 - val_auc: 0.7849 - val_loss: 0.0349
Epoch 16/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7397 - auc: 0.7975 - loss: 0.0340 - val_accuracy: 0.7363 - val_auc: 0.7932 - val_loss: 0.0344
Epoch 17/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7441 - auc: 0.8030 - loss: 0.0334 - val_accuracy: 0.7330 - val_auc: 0.7908 - val_loss: 0.0344
Epoch 18/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7431 - auc: 0.8050 - loss: 0.0332 - val_accuracy: 0.7457 - val_auc: 0.7957 - val_loss: 0.0342
Epoch 19/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7484 - auc: 0.8099 - loss: 0.0329 - val_accuracy: 0.7485 - val_auc: 0.7996 - val_loss: 0.0342
Epoch 20/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7495 - auc: 0.8133 - loss: 0.0328 - val_accuracy: 0.7435 - val_auc: 0.7984 - val_loss: 0.0339
Epoch 21/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7551 - auc: 0.8156 - loss: 0.0325 - val_accuracy: 0.7463 - val_auc: 0.8023 - val_loss: 0.0340
Epoch 22/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7575 - auc: 0.8213 - loss: 0.0320 - val_accuracy: 0.7479 - val_auc: 0.8006 - val_loss: 0.0340
Epoch 23/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7636 - auc: 0.8286 - loss: 0.0317 - val_accuracy: 0.7496 - val_auc: 0.8054 - val_loss: 0.0340
Epoch 24/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7678 - auc: 0.8295 - loss: 0.0315 - val_accuracy: 0.7546 - val_auc: 0.8110 - val_loss: 0.0335
Epoch 25/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7648 - auc: 0.8354 - loss: 0.0309 - val_accuracy: 0.7562 - val_auc: 0.8130 - val_loss: 0.0328
Epoch 26/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7718 - auc: 0.8392 - loss: 0.0308 - val_accuracy: 0.7446 - val_auc: 0.8102 - val_loss: 0.0337
Epoch 27/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7750 - auc: 0.8430 - loss: 0.0299 - val_accuracy: 0.7501 - val_auc: 0.8137 - val_loss: 0.0336
Epoch 28/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7729 - auc: 0.8427 - loss: 0.0300 - val_accuracy: 0.7523 - val_auc: 0.8152 - val_loss: 0.0335
Epoch 29/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7727 - auc: 0.8443 - loss: 0.0301 - val_accuracy: 0.7352 - val_auc: 0.8141 - val_loss: 0.0335
Epoch 30/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7823 - auc: 0.8501 - loss: 0.0295 - val_accuracy: 0.7568 - val_auc: 0.8164 - val_loss: 0.0333
Epoch 31/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7865 - auc: 0.8513 - loss: 0.0292 - val_accuracy: 0.7623 - val_auc: 0.8145 - val_loss: 0.0338
Epoch 32/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7867 - auc: 0.8568 - loss: 0.0287 - val_accuracy: 0.7634 - val_auc: 0.8177 - val_loss: 0.0343
Epoch 33/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7887 - auc: 0.8572 - loss: 0.0288 - val_accuracy: 0.7479 - val_auc: 0.8162 - val_loss: 0.0331
Epoch 34/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7880 - auc: 0.8606 - loss: 0.0285 - val_accuracy: 0.7672 - val_auc: 0.8196 - val_loss: 0.0333
Epoch 35/50
227/227 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7909 - auc: 0.8654 - loss: 0.0278 - val_accuracy: 0.7711 - val_auc: 0.8241 - val_loss: 0.0345
2025-11-10 20:30:08.711 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 35
2025-11-10 20:30:08.712 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0278, Accuracy: 0.7909, AUC: 0.8654
2025-11-10 20:30:08.713 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0345, Accuracy: 0.7711, AUC: 0.8241
2025-11-10 20:30:08.716 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:30:08.808 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:30:10.039 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17541 data points.
2025-11-10 20:30:10.133 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17521 sequences.
2025-11-10 20:30:12.066 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:30:12.093 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:30:12.094 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:30:12.094 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_999\PainX_999_M1'...
2025-11-10 20:30:12.119 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M1\random_forest.pkl
2025-11-10 20:30:12.129 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M1\gradient_boosting.pkl
2025-11-10 20:30:12.208 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_999\PainX_999_M1\lstm.keras and models\PainX_999\PainX_999_M1\lstm_scaler.pkl
2025-11-10 20:30:12.211 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_999\PainX_999_M1\feature_info.pkl
2025-11-10 20:30:12.212 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_999\PainX_999_M1\meta_model.pkl
2025-11-10 20:30:12.249 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_999\PainX_999_M1\training_metadata.json
2025-11-10 20:30:12.250 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 999 [1m] (25/40)
2025-11-10 20:30:12.257 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 999 [5m] ---
2025-11-10 20:30:12.259 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 20:30:12.261 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 20:30:15.285 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 20:30:15.287 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 20:30:15.291 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 20:30:16.806 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [5m] from MT5
2025-11-10 20:30:16.806 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:30:18.808 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:30:19.997 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:30:23.525 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:30:23.526 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:30:33.481 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17151 signals total, 12697 profitable (74.0% win rate), 4454 unprofitable
2025-11-10 20:30:33.568 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17151, 116), Shape of y: (17151,)
2025-11-10 20:30:33.579 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17151 data points.
2025-11-10 20:30:33.782 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17101 sequences.
2025-11-10 20:30:33.849 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:30:33.850 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:30:33.854 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:30:33.855 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:30:33.885 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:30:40.096 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:30:40.097 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:33:49.013 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:33:49.014 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:33:49.016 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:33:49.055 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:33:49.056 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4440), np.float64(1.0): np.int64(12661)}
2025-11-10 20:33:49.057 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17101
2025-11-10 20:33:49.210 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12661 to 6660
2025-11-10 20:33:49.210 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4440), np.float64(1.0): np.int64(6660)}
2025-11-10 20:33:49.212 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11100
2025-11-10 20:33:49.214 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5718 - auc: 0.5342 - loss: 0.0437 - val_accuracy: 0.6180 - val_auc: 0.5957 - val_loss: 0.0418
Epoch 2/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5920 - auc: 0.5760 - loss: 0.0420 - val_accuracy: 0.6117 - val_auc: 0.6065 - val_loss: 0.0415
Epoch 3/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6077 - auc: 0.5879 - loss: 0.0416 - val_accuracy: 0.6180 - val_auc: 0.6201 - val_loss: 0.0412
Epoch 4/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6092 - auc: 0.5898 - loss: 0.0416 - val_accuracy: 0.6176 - val_auc: 0.6290 - val_loss: 0.0411
Epoch 5/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6161 - auc: 0.5995 - loss: 0.0414 - val_accuracy: 0.6140 - val_auc: 0.6171 - val_loss: 0.0411
Epoch 6/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6122 - auc: 0.6010 - loss: 0.0414 - val_accuracy: 0.6144 - val_auc: 0.6273 - val_loss: 0.0410
Epoch 7/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6190 - auc: 0.6148 - loss: 0.0410 - val_accuracy: 0.6162 - val_auc: 0.6213 - val_loss: 0.0411
Epoch 8/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6227 - auc: 0.6239 - loss: 0.0409 - val_accuracy: 0.6239 - val_auc: 0.6401 - val_loss: 0.0406
Epoch 9/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6305 - auc: 0.6252 - loss: 0.0408 - val_accuracy: 0.6320 - val_auc: 0.6509 - val_loss: 0.0403
Epoch 10/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6330 - auc: 0.6433 - loss: 0.0403 - val_accuracy: 0.6270 - val_auc: 0.6388 - val_loss: 0.0406
Epoch 11/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6321 - auc: 0.6478 - loss: 0.0402 - val_accuracy: 0.6302 - val_auc: 0.6376 - val_loss: 0.0405
Epoch 12/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6447 - auc: 0.6489 - loss: 0.0401 - val_accuracy: 0.6320 - val_auc: 0.6385 - val_loss: 0.0404
Epoch 13/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6500 - auc: 0.6624 - loss: 0.0396 - val_accuracy: 0.6473 - val_auc: 0.6621 - val_loss: 0.0397
Epoch 14/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6524 - auc: 0.6738 - loss: 0.0393 - val_accuracy: 0.6486 - val_auc: 0.6588 - val_loss: 0.0398
Epoch 15/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6582 - auc: 0.6883 - loss: 0.0389 - val_accuracy: 0.6505 - val_auc: 0.6700 - val_loss: 0.0396
Epoch 16/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6631 - auc: 0.6881 - loss: 0.0388 - val_accuracy: 0.6527 - val_auc: 0.6627 - val_loss: 0.0396
Epoch 17/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6722 - auc: 0.6952 - loss: 0.0384 - val_accuracy: 0.6523 - val_auc: 0.6638 - val_loss: 0.0395
Epoch 18/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6755 - auc: 0.7116 - loss: 0.0380 - val_accuracy: 0.6482 - val_auc: 0.6803 - val_loss: 0.0395
Epoch 19/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6738 - auc: 0.7216 - loss: 0.0375 - val_accuracy: 0.6622 - val_auc: 0.6881 - val_loss: 0.0390
Epoch 20/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6821 - auc: 0.7284 - loss: 0.0372 - val_accuracy: 0.6653 - val_auc: 0.6981 - val_loss: 0.0388
Epoch 21/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6877 - auc: 0.7320 - loss: 0.0371 - val_accuracy: 0.6703 - val_auc: 0.7081 - val_loss: 0.0384
Epoch 22/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6918 - auc: 0.7438 - loss: 0.0365 - val_accuracy: 0.6694 - val_auc: 0.7069 - val_loss: 0.0383
Epoch 23/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6985 - auc: 0.7520 - loss: 0.0360 - val_accuracy: 0.6779 - val_auc: 0.7239 - val_loss: 0.0380
Epoch 24/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6991 - auc: 0.7578 - loss: 0.0356 - val_accuracy: 0.6797 - val_auc: 0.7251 - val_loss: 0.0378
Epoch 25/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7057 - auc: 0.7689 - loss: 0.0350 - val_accuracy: 0.6703 - val_auc: 0.7175 - val_loss: 0.0382
Epoch 26/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7063 - auc: 0.7733 - loss: 0.0349 - val_accuracy: 0.6811 - val_auc: 0.7344 - val_loss: 0.0374
Epoch 27/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7110 - auc: 0.7812 - loss: 0.0345 - val_accuracy: 0.6811 - val_auc: 0.7290 - val_loss: 0.0374
Epoch 28/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7136 - auc: 0.7847 - loss: 0.0342 - val_accuracy: 0.6874 - val_auc: 0.7349 - val_loss: 0.0376
Epoch 29/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7182 - auc: 0.7912 - loss: 0.0338 - val_accuracy: 0.6941 - val_auc: 0.7460 - val_loss: 0.0372
Epoch 30/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7171 - auc: 0.7948 - loss: 0.0334 - val_accuracy: 0.6941 - val_auc: 0.7535 - val_loss: 0.0369
Epoch 31/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7264 - auc: 0.8007 - loss: 0.0331 - val_accuracy: 0.6892 - val_auc: 0.7519 - val_loss: 0.0367
Epoch 32/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7298 - auc: 0.8085 - loss: 0.0327 - val_accuracy: 0.6941 - val_auc: 0.7513 - val_loss: 0.0373
Epoch 33/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7280 - auc: 0.8113 - loss: 0.0324 - val_accuracy: 0.6910 - val_auc: 0.7633 - val_loss: 0.0365
Epoch 34/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7321 - auc: 0.8145 - loss: 0.0322 - val_accuracy: 0.6982 - val_auc: 0.7565 - val_loss: 0.0368
Epoch 35/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7405 - auc: 0.8220 - loss: 0.0317 - val_accuracy: 0.6883 - val_auc: 0.7563 - val_loss: 0.0370
Epoch 36/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7404 - auc: 0.8276 - loss: 0.0312 - val_accuracy: 0.6806 - val_auc: 0.7529 - val_loss: 0.0367
Epoch 37/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7446 - auc: 0.8297 - loss: 0.0311 - val_accuracy: 0.6901 - val_auc: 0.7661 - val_loss: 0.0375
Epoch 38/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7426 - auc: 0.8301 - loss: 0.0311 - val_accuracy: 0.6973 - val_auc: 0.7714 - val_loss: 0.0363
Epoch 39/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7535 - auc: 0.8338 - loss: 0.0310 - val_accuracy: 0.6964 - val_auc: 0.7661 - val_loss: 0.0362
Epoch 40/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7517 - auc: 0.8366 - loss: 0.0304 - val_accuracy: 0.7077 - val_auc: 0.7832 - val_loss: 0.0363
Epoch 41/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7534 - auc: 0.8430 - loss: 0.0301 - val_accuracy: 0.6928 - val_auc: 0.7635 - val_loss: 0.0374
Epoch 42/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7590 - auc: 0.8459 - loss: 0.0301 - val_accuracy: 0.7063 - val_auc: 0.7818 - val_loss: 0.0363
Epoch 43/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7630 - auc: 0.8500 - loss: 0.0295 - val_accuracy: 0.6887 - val_auc: 0.7652 - val_loss: 0.0366
Epoch 44/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7641 - auc: 0.8510 - loss: 0.0297 - val_accuracy: 0.7072 - val_auc: 0.7794 - val_loss: 0.0365
Epoch 45/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7705 - auc: 0.8552 - loss: 0.0292 - val_accuracy: 0.7095 - val_auc: 0.7842 - val_loss: 0.0357
Epoch 46/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7727 - auc: 0.8597 - loss: 0.0287 - val_accuracy: 0.7018 - val_auc: 0.7758 - val_loss: 0.0375
Epoch 47/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7669 - auc: 0.8565 - loss: 0.0290 - val_accuracy: 0.7185 - val_auc: 0.7891 - val_loss: 0.0368
Epoch 48/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7677 - auc: 0.8633 - loss: 0.0284 - val_accuracy: 0.7158 - val_auc: 0.7949 - val_loss: 0.0361
Epoch 49/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7747 - auc: 0.8656 - loss: 0.0282 - val_accuracy: 0.7185 - val_auc: 0.7839 - val_loss: 0.0372
Epoch 50/50
278/278 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7783 - auc: 0.8706 - loss: 0.0275 - val_accuracy: 0.7198 - val_auc: 0.7886 - val_loss: 0.0372
2025-11-10 20:36:28.785 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 20:36:28.785 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0275, Accuracy: 0.7783, AUC: 0.8706
2025-11-10 20:36:28.786 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0372, Accuracy: 0.7198, AUC: 0.7886
2025-11-10 20:36:28.790 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:36:28.907 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:36:30.115 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17151 data points.
2025-11-10 20:36:30.206 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17131 sequences.
2025-11-10 20:36:32.199 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:36:32.221 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:36:32.223 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:36:32.223 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_999\PainX_999_M5'...
2025-11-10 20:36:32.304 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M5\random_forest.pkl
2025-11-10 20:36:32.339 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M5\gradient_boosting.pkl
2025-11-10 20:36:32.402 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_999\PainX_999_M5\lstm.keras and models\PainX_999\PainX_999_M5\lstm_scaler.pkl
2025-11-10 20:36:32.404 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_999\PainX_999_M5\feature_info.pkl
2025-11-10 20:36:32.405 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_999\PainX_999_M5\meta_model.pkl
2025-11-10 20:36:32.408 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_999\PainX_999_M5\training_metadata.json
2025-11-10 20:36:32.408 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 999 [5m] (26/40)
2025-11-10 20:36:32.409 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 999 [15m] ---
2025-11-10 20:36:32.531 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 999 [15m] from MT5
2025-11-10 20:36:32.532 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 20:36:34.533 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:36:35.778 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:36:39.337 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:36:39.338 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:36:49.329 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17112 signals total, 11944 profitable (69.8% win rate), 5168 unprofitable
2025-11-10 20:36:49.409 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17112, 116), Shape of y: (17112,)
2025-11-10 20:36:49.424 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17112 data points.
2025-11-10 20:36:49.624 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17062 sequences.
2025-11-10 20:36:49.758 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:36:49.759 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:36:49.763 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:36:49.763 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:36:49.794 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:36:56.321 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:36:56.322 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:40:12.485 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:40:12.486 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:40:12.488 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:40:12.528 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:40:12.529 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5137), np.float64(1.0): np.int64(11925)}
2025-11-10 20:40:12.532 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17062
2025-11-10 20:40:12.704 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11925 to 7705
2025-11-10 20:40:12.705 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5137), np.float64(1.0): np.int64(7705)}
2025-11-10 20:40:12.706 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12842
2025-11-10 20:40:12.709 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499513334631107), 1: np.float64(0.8333549643088903)}
Epoch 1/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5661 - auc: 0.5228 - loss: 0.0444 - val_accuracy: 0.6002 - val_auc: 0.5438 - val_loss: 0.0421
Epoch 2/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5942 - auc: 0.5419 - loss: 0.0423 - val_accuracy: 0.6026 - val_auc: 0.5759 - val_loss: 0.0418
Epoch 3/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5977 - auc: 0.5451 - loss: 0.0422 - val_accuracy: 0.5991 - val_auc: 0.5775 - val_loss: 0.0418
Epoch 4/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6025 - auc: 0.5553 - loss: 0.0420 - val_accuracy: 0.6002 - val_auc: 0.5846 - val_loss: 0.0419
Epoch 5/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.6021 - auc: 0.5579 - loss: 0.0419 - val_accuracy: 0.6018 - val_auc: 0.5879 - val_loss: 0.0416
Epoch 6/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6028 - auc: 0.5691 - loss: 0.0418 - val_accuracy: 0.6006 - val_auc: 0.5893 - val_loss: 0.0417
Epoch 7/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6105 - auc: 0.5777 - loss: 0.0416 - val_accuracy: 0.6002 - val_auc: 0.5965 - val_loss: 0.0415
Epoch 8/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6068 - auc: 0.5901 - loss: 0.0415 - val_accuracy: 0.6107 - val_auc: 0.6092 - val_loss: 0.0414
Epoch 9/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6198 - auc: 0.6070 - loss: 0.0412 - val_accuracy: 0.6096 - val_auc: 0.6176 - val_loss: 0.0412
Epoch 10/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6193 - auc: 0.6003 - loss: 0.0412 - val_accuracy: 0.6178 - val_auc: 0.6343 - val_loss: 0.0409
Epoch 11/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6303 - auc: 0.6212 - loss: 0.0407 - val_accuracy: 0.6329 - val_auc: 0.6358 - val_loss: 0.0406
Epoch 12/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6325 - auc: 0.6445 - loss: 0.0402 - val_accuracy: 0.6255 - val_auc: 0.6477 - val_loss: 0.0405
Epoch 13/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6378 - auc: 0.6469 - loss: 0.0401 - val_accuracy: 0.6240 - val_auc: 0.6562 - val_loss: 0.0403
Epoch 14/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6443 - auc: 0.6605 - loss: 0.0397 - val_accuracy: 0.6446 - val_auc: 0.6578 - val_loss: 0.0401
Epoch 15/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6520 - auc: 0.6840 - loss: 0.0389 - val_accuracy: 0.6497 - val_auc: 0.6751 - val_loss: 0.0395
Epoch 16/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6569 - auc: 0.6920 - loss: 0.0385 - val_accuracy: 0.6454 - val_auc: 0.6728 - val_loss: 0.0393
Epoch 17/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6633 - auc: 0.7048 - loss: 0.0382 - val_accuracy: 0.6590 - val_auc: 0.6884 - val_loss: 0.0387
Epoch 18/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6716 - auc: 0.7226 - loss: 0.0373 - val_accuracy: 0.6578 - val_auc: 0.6941 - val_loss: 0.0386
Epoch 19/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6770 - auc: 0.7272 - loss: 0.0371 - val_accuracy: 0.6676 - val_auc: 0.7126 - val_loss: 0.0379
Epoch 20/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6948 - auc: 0.7537 - loss: 0.0360 - val_accuracy: 0.6726 - val_auc: 0.7075 - val_loss: 0.0383
Epoch 21/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6939 - auc: 0.7546 - loss: 0.0359 - val_accuracy: 0.6656 - val_auc: 0.7170 - val_loss: 0.0379
Epoch 22/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6975 - auc: 0.7608 - loss: 0.0357 - val_accuracy: 0.6781 - val_auc: 0.7314 - val_loss: 0.0371
Epoch 23/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7062 - auc: 0.7770 - loss: 0.0346 - val_accuracy: 0.6925 - val_auc: 0.7428 - val_loss: 0.0371
Epoch 24/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7158 - auc: 0.7907 - loss: 0.0339 - val_accuracy: 0.6863 - val_auc: 0.7431 - val_loss: 0.0371
Epoch 25/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7195 - auc: 0.7934 - loss: 0.0336 - val_accuracy: 0.6769 - val_auc: 0.7470 - val_loss: 0.0366
Epoch 26/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7193 - auc: 0.7989 - loss: 0.0334 - val_accuracy: 0.6933 - val_auc: 0.7516 - val_loss: 0.0365
Epoch 27/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7292 - auc: 0.8088 - loss: 0.0330 - val_accuracy: 0.6874 - val_auc: 0.7534 - val_loss: 0.0368
Epoch 28/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7343 - auc: 0.8149 - loss: 0.0322 - val_accuracy: 0.6874 - val_auc: 0.7532 - val_loss: 0.0366
Epoch 29/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7389 - auc: 0.8177 - loss: 0.0321 - val_accuracy: 0.7007 - val_auc: 0.7584 - val_loss: 0.0366
Epoch 30/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7456 - auc: 0.8238 - loss: 0.0318 - val_accuracy: 0.6960 - val_auc: 0.7625 - val_loss: 0.0368
Epoch 31/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7459 - auc: 0.8265 - loss: 0.0316 - val_accuracy: 0.6995 - val_auc: 0.7663 - val_loss: 0.0362
Epoch 32/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7527 - auc: 0.8360 - loss: 0.0309 - val_accuracy: 0.6999 - val_auc: 0.7687 - val_loss: 0.0358
Epoch 33/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7554 - auc: 0.8390 - loss: 0.0309 - val_accuracy: 0.7022 - val_auc: 0.7730 - val_loss: 0.0362
Epoch 34/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7576 - auc: 0.8422 - loss: 0.0304 - val_accuracy: 0.7100 - val_auc: 0.7756 - val_loss: 0.0361
Epoch 35/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7597 - auc: 0.8452 - loss: 0.0301 - val_accuracy: 0.6999 - val_auc: 0.7765 - val_loss: 0.0360
Epoch 36/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7588 - auc: 0.8454 - loss: 0.0299 - val_accuracy: 0.7100 - val_auc: 0.7794 - val_loss: 0.0360
Epoch 37/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7630 - auc: 0.8478 - loss: 0.0300 - val_accuracy: 0.7065 - val_auc: 0.7775 - val_loss: 0.0359
Epoch 38/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7693 - auc: 0.8563 - loss: 0.0292 - val_accuracy: 0.7127 - val_auc: 0.7818 - val_loss: 0.0363
Epoch 39/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7711 - auc: 0.8555 - loss: 0.0293 - val_accuracy: 0.7061 - val_auc: 0.7826 - val_loss: 0.0355
Epoch 40/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7730 - auc: 0.8597 - loss: 0.0288 - val_accuracy: 0.7182 - val_auc: 0.7867 - val_loss: 0.0356
Epoch 41/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7779 - auc: 0.8671 - loss: 0.0283 - val_accuracy: 0.7116 - val_auc: 0.7870 - val_loss: 0.0361
Epoch 42/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7837 - auc: 0.8705 - loss: 0.0281 - val_accuracy: 0.7135 - val_auc: 0.7888 - val_loss: 0.0360
Epoch 43/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7814 - auc: 0.8678 - loss: 0.0283 - val_accuracy: 0.7225 - val_auc: 0.7955 - val_loss: 0.0355
Epoch 44/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7813 - auc: 0.8704 - loss: 0.0279 - val_accuracy: 0.7256 - val_auc: 0.7946 - val_loss: 0.0354
Epoch 45/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7868 - auc: 0.8770 - loss: 0.0273 - val_accuracy: 0.7209 - val_auc: 0.7923 - val_loss: 0.0374
Epoch 46/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7895 - auc: 0.8788 - loss: 0.0272 - val_accuracy: 0.7186 - val_auc: 0.7929 - val_loss: 0.0353
Epoch 47/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7940 - auc: 0.8823 - loss: 0.0267 - val_accuracy: 0.7287 - val_auc: 0.7930 - val_loss: 0.0369
Epoch 48/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7966 - auc: 0.8823 - loss: 0.0269 - val_accuracy: 0.7221 - val_auc: 0.7917 - val_loss: 0.0368
Epoch 49/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7930 - auc: 0.8831 - loss: 0.0268 - val_accuracy: 0.7182 - val_auc: 0.7887 - val_loss: 0.0368
Epoch 50/50
322/322 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7972 - auc: 0.8852 - loss: 0.0266 - val_accuracy: 0.7162 - val_auc: 0.7971 - val_loss: 0.0369
2025-11-10 20:43:31.818 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 20:43:31.818 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0266, Accuracy: 0.7972, AUC: 0.8852
2025-11-10 20:43:31.820 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0369, Accuracy: 0.7162, AUC: 0.7971
2025-11-10 20:43:31.823 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:43:31.917 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:43:33.115 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17112 data points.
2025-11-10 20:43:33.206 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17092 sequences.
2025-11-10 20:43:35.222 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:43:35.244 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:43:35.245 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:43:35.246 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_999\PainX_999_M15'...
2025-11-10 20:43:35.289 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_M15\random_forest.pkl
2025-11-10 20:43:35.324 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_M15\gradient_boosting.pkl
2025-11-10 20:43:35.352 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_999\PainX_999_M15\lstm.keras and models\PainX_999\PainX_999_M15\lstm_scaler.pkl
2025-11-10 20:43:35.353 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_999\PainX_999_M15\feature_info.pkl
2025-11-10 20:43:35.354 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_999\PainX_999_M15\meta_model.pkl
2025-11-10 20:43:35.356 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_999\PainX_999_M15\training_metadata.json
2025-11-10 20:43:35.359 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 999 [15m] (27/40)
2025-11-10 20:43:35.359 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 999 [1h] ---
2025-11-10 20:43:35.495 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11946 candles for PainX 999 [1h] from MT5
2025-11-10 20:43:35.497 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 11946 candles (minimum: 2000)
2025-11-10 20:43:37.502 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:43:38.251 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:43:40.339 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:43:40.339 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:43:46.279 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 10152 signals total, 6593 profitable (64.9% win rate), 3559 unprofitable
2025-11-10 20:43:46.330 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (10152, 116), Shape of y: (10152,)
2025-11-10 20:43:46.338 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 10152 data points.
2025-11-10 20:43:46.457 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10102 sequences.
2025-11-10 20:43:46.519 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:43:46.520 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:43:46.525 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:43:46.525 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:43:46.544 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:43:50.496 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:43:50.497 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:45:46.295 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:45:46.295 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:45:46.297 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:45:46.337 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:45:46.338 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3536), np.float64(1.0): np.int64(6566)}
2025-11-10 20:45:46.339 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 10102
2025-11-10 20:45:46.460 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 6566 to 5304
2025-11-10 20:45:46.460 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3536), np.float64(1.0): np.int64(5304)}
2025-11-10 20:45:46.462 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 8840
2025-11-10 20:45:46.465 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5315 - auc: 0.5091 - loss: 0.0480 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 2/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5696 - auc: 0.4925 - loss: 0.0435 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 3/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5814 - auc: 0.4940 - loss: 0.0428 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0424
Epoch 4/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5969 - auc: 0.5167 - loss: 0.0423 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0424
Epoch 5/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5990 - auc: 0.5020 - loss: 0.0424 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 6/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5997 - auc: 0.4952 - loss: 0.0424 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 7/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5987 - auc: 0.5058 - loss: 0.0423 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 8/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6004 - auc: 0.5076 - loss: 0.0423 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 9/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6000 - auc: 0.4877 - loss: 0.0423 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 10/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.5994 - auc: 0.5043 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 11/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6005 - auc: 0.5015 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 12/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6014 - auc: 0.4970 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 13/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6000 - auc: 0.4932 - loss: 0.0423 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 14/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6010 - auc: 0.4984 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 15/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6015 - auc: 0.4899 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 16/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6014 - auc: 0.4952 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 17/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6012 - auc: 0.4961 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 18/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6014 - auc: 0.4992 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 19/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6014 - auc: 0.4929 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
Epoch 20/50
221/221 ━━━━━━━━━━━━━━━━━━━━ 2s 10ms/step - accuracy: 0.6014 - auc: 0.4940 - loss: 0.0422 - val_accuracy: 0.5945 - val_auc: 0.5000 - val_loss: 0.0423
2025-11-10 20:46:32.757 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 20
2025-11-10 20:46:32.758 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0422, Accuracy: 0.6014, AUC: 0.4940
2025-11-10 20:46:32.759 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0423, Accuracy: 0.5945, AUC: 0.5000
2025-11-10 20:46:32.762 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:46:32.829 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:46:33.543 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 10152 data points.
2025-11-10 20:46:33.598 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10132 sequences.
2025-11-10 20:46:34.870 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:46:34.882 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:46:34.883 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:46:34.883 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_999\PainX_999_H1'...
2025-11-10 20:46:34.905 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_999\PainX_999_H1\random_forest.pkl
2025-11-10 20:46:34.918 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_999\PainX_999_H1\gradient_boosting.pkl
2025-11-10 20:46:34.945 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_999\PainX_999_H1\lstm.keras and models\PainX_999\PainX_999_H1\lstm_scaler.pkl
2025-11-10 20:46:34.946 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_999\PainX_999_H1\feature_info.pkl
2025-11-10 20:46:34.948 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_999\PainX_999_H1\meta_model.pkl
2025-11-10 20:46:34.950 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_999\PainX_999_H1\training_metadata.json
2025-11-10 20:46:34.952 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 999 [1h] (28/40)
2025-11-10 20:46:34.953 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 999 [1m] ---
2025-11-10 20:46:34.961 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [1m] from MT5
2025-11-10 20:46:34.962 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:46:36.963 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:46:38.181 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:46:41.683 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:46:41.684 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:46:51.857 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17699 signals total, 13892 profitable (78.5% win rate), 3807 unprofitable
2025-11-10 20:46:51.946 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17699, 116), Shape of y: (17699,)
2025-11-10 20:46:51.958 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17699 data points.
2025-11-10 20:46:52.163 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17649 sequences.
2025-11-10 20:46:52.203 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:46:52.203 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:46:52.207 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:46:52.208 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:46:52.238 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:46:57.807 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:46:57.808 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:49:47.450 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:49:47.451 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:49:47.452 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:49:47.494 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:49:47.494 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3787), np.float64(1.0): np.int64(13862)}
2025-11-10 20:49:47.495 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17649
2025-11-10 20:49:47.627 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13862 to 5680
2025-11-10 20:49:47.628 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3787), np.float64(1.0): np.int64(5680)}
2025-11-10 20:49:47.629 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9467
2025-11-10 20:49:47.632 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499339846844468), 1: np.float64(0.8333626760563381)}
Epoch 1/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 5s 14ms/step - accuracy: 0.5432 - auc: 0.5021 - loss: 0.0463 - val_accuracy: 0.6067 - val_auc: 0.5001 - val_loss: 0.0421
Epoch 2/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5735 - auc: 0.5067 - loss: 0.0432 - val_accuracy: 0.6067 - val_auc: 0.4974 - val_loss: 0.0423
Epoch 3/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5819 - auc: 0.4887 - loss: 0.0430 - val_accuracy: 0.6067 - val_auc: 0.5001 - val_loss: 0.0423
Epoch 4/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5904 - auc: 0.4935 - loss: 0.0426 - val_accuracy: 0.6067 - val_auc: 0.5000 - val_loss: 0.0422
Epoch 5/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5958 - auc: 0.4953 - loss: 0.0425 - val_accuracy: 0.6067 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 6/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5973 - auc: 0.4919 - loss: 0.0425 - val_accuracy: 0.6067 - val_auc: 0.5000 - val_loss: 0.0421
Epoch 7/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5971 - auc: 0.4905 - loss: 0.0425 - val_accuracy: 0.6067 - val_auc: 0.4987 - val_loss: 0.0421
Epoch 8/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5983 - auc: 0.5023 - loss: 0.0424 - val_accuracy: 0.6067 - val_auc: 0.4991 - val_loss: 0.0421
Epoch 9/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5983 - auc: 0.4988 - loss: 0.0424 - val_accuracy: 0.6067 - val_auc: 0.4991 - val_loss: 0.0421
Epoch 10/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5983 - auc: 0.4904 - loss: 0.0424 - val_accuracy: 0.6067 - val_auc: 0.4991 - val_loss: 0.0421
Epoch 11/50
237/237 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.5982 - auc: 0.5023 - loss: 0.0424 - val_accuracy: 0.6067 - val_auc: 0.4991 - val_loss: 0.0421
2025-11-10 20:50:21.243 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 11
2025-11-10 20:50:21.244 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0424, Accuracy: 0.5982, AUC: 0.5023
2025-11-10 20:50:21.245 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0421, Accuracy: 0.6067, AUC: 0.4991
2025-11-10 20:50:21.248 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:50:21.316 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:50:22.552 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17699 data points.
2025-11-10 20:50:22.650 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17679 sequences.
2025-11-10 20:50:24.630 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:50:24.653 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:50:24.654 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:50:24.655 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_999\GainX_999_M1'...
2025-11-10 20:50:24.687 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M1\random_forest.pkl
2025-11-10 20:50:24.697 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M1\gradient_boosting.pkl
2025-11-10 20:50:24.726 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_999\GainX_999_M1\lstm.keras and models\GainX_999\GainX_999_M1\lstm_scaler.pkl
2025-11-10 20:50:24.727 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_999\GainX_999_M1\feature_info.pkl
2025-11-10 20:50:24.728 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_999\GainX_999_M1\meta_model.pkl
2025-11-10 20:50:24.748 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_999\GainX_999_M1\training_metadata.json
2025-11-10 20:50:24.748 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 999 [1m] (29/40)
2025-11-10 20:50:24.749 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 999 [5m] ---
2025-11-10 20:50:26.364 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [5m] from MT5
2025-11-10 20:50:26.365 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 20:50:28.367 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:50:29.584 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:50:33.130 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:50:33.130 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:50:43.146 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17257 signals total, 12598 profitable (73.0% win rate), 4659 unprofitable
2025-11-10 20:50:43.232 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17257, 116), Shape of y: (17257,)
2025-11-10 20:50:43.246 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17257 data points.
2025-11-10 20:50:43.444 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17207 sequences.
2025-11-10 20:50:43.532 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:50:43.533 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:50:43.537 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:50:43.537 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:50:43.570 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:50:49.667 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:50:49.668 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 20:53:57.657 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 20:53:57.658 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 20:53:57.660 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 20:53:57.700 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 20:53:57.701 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4650), np.float64(1.0): np.int64(12557)}
2025-11-10 20:53:57.702 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17207
2025-11-10 20:53:57.864 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12557 to 6975
2025-11-10 20:53:57.865 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4650), np.float64(1.0): np.int64(6975)}
2025-11-10 20:53:57.866 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11625
2025-11-10 20:53:57.869 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.5819 - auc: 0.5714 - loss: 0.0439 - val_accuracy: 0.6146 - val_auc: 0.6135 - val_loss: 0.0415
Epoch 2/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6061 - auc: 0.6052 - loss: 0.0417 - val_accuracy: 0.6219 - val_auc: 0.6203 - val_loss: 0.0411
Epoch 3/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6124 - auc: 0.6239 - loss: 0.0411 - val_accuracy: 0.6168 - val_auc: 0.6250 - val_loss: 0.0410
Epoch 4/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6178 - auc: 0.6284 - loss: 0.0411 - val_accuracy: 0.6232 - val_auc: 0.6364 - val_loss: 0.0406
Epoch 5/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6282 - auc: 0.6372 - loss: 0.0408 - val_accuracy: 0.6318 - val_auc: 0.6319 - val_loss: 0.0408
Epoch 6/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6309 - auc: 0.6449 - loss: 0.0405 - val_accuracy: 0.6271 - val_auc: 0.6433 - val_loss: 0.0404
Epoch 7/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6274 - auc: 0.6490 - loss: 0.0404 - val_accuracy: 0.6361 - val_auc: 0.6474 - val_loss: 0.0404
Epoch 8/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6324 - auc: 0.6543 - loss: 0.0402 - val_accuracy: 0.6340 - val_auc: 0.6482 - val_loss: 0.0403
Epoch 9/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6473 - auc: 0.6638 - loss: 0.0399 - val_accuracy: 0.6387 - val_auc: 0.6548 - val_loss: 0.0402
Epoch 10/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6505 - auc: 0.6701 - loss: 0.0397 - val_accuracy: 0.6434 - val_auc: 0.6566 - val_loss: 0.0400
Epoch 11/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6483 - auc: 0.6809 - loss: 0.0391 - val_accuracy: 0.6370 - val_auc: 0.6572 - val_loss: 0.0398
Epoch 12/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6523 - auc: 0.6864 - loss: 0.0391 - val_accuracy: 0.6542 - val_auc: 0.6682 - val_loss: 0.0394
Epoch 13/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6596 - auc: 0.6962 - loss: 0.0387 - val_accuracy: 0.6572 - val_auc: 0.6686 - val_loss: 0.0394
Epoch 14/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6619 - auc: 0.7024 - loss: 0.0384 - val_accuracy: 0.6551 - val_auc: 0.6734 - val_loss: 0.0393
Epoch 15/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6629 - auc: 0.7109 - loss: 0.0380 - val_accuracy: 0.6447 - val_auc: 0.6739 - val_loss: 0.0391
Epoch 16/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6760 - auc: 0.7245 - loss: 0.0376 - val_accuracy: 0.6512 - val_auc: 0.6751 - val_loss: 0.0390
Epoch 17/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6831 - auc: 0.7321 - loss: 0.0372 - val_accuracy: 0.6546 - val_auc: 0.6778 - val_loss: 0.0390
Epoch 18/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6876 - auc: 0.7384 - loss: 0.0369 - val_accuracy: 0.6594 - val_auc: 0.6965 - val_loss: 0.0384
Epoch 19/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6937 - auc: 0.7530 - loss: 0.0361 - val_accuracy: 0.6667 - val_auc: 0.7030 - val_loss: 0.0382
Epoch 20/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.6981 - auc: 0.7540 - loss: 0.0360 - val_accuracy: 0.6615 - val_auc: 0.7067 - val_loss: 0.0380
Epoch 21/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7060 - auc: 0.7627 - loss: 0.0357 - val_accuracy: 0.6843 - val_auc: 0.7211 - val_loss: 0.0377
Epoch 22/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7082 - auc: 0.7723 - loss: 0.0352 - val_accuracy: 0.6688 - val_auc: 0.7130 - val_loss: 0.0379
Epoch 23/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7109 - auc: 0.7779 - loss: 0.0347 - val_accuracy: 0.6662 - val_auc: 0.7153 - val_loss: 0.0380
Epoch 24/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7206 - auc: 0.7876 - loss: 0.0339 - val_accuracy: 0.6839 - val_auc: 0.7279 - val_loss: 0.0374
Epoch 25/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7240 - auc: 0.7972 - loss: 0.0337 - val_accuracy: 0.6753 - val_auc: 0.7200 - val_loss: 0.0377
Epoch 26/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7288 - auc: 0.8017 - loss: 0.0331 - val_accuracy: 0.6852 - val_auc: 0.7396 - val_loss: 0.0368
Epoch 27/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7348 - auc: 0.8061 - loss: 0.0330 - val_accuracy: 0.6869 - val_auc: 0.7293 - val_loss: 0.0375
Epoch 28/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7418 - auc: 0.8169 - loss: 0.0323 - val_accuracy: 0.6899 - val_auc: 0.7473 - val_loss: 0.0366
Epoch 29/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7463 - auc: 0.8222 - loss: 0.0320 - val_accuracy: 0.6899 - val_auc: 0.7436 - val_loss: 0.0373
Epoch 30/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7461 - auc: 0.8253 - loss: 0.0318 - val_accuracy: 0.6912 - val_auc: 0.7497 - val_loss: 0.0367
Epoch 31/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7529 - auc: 0.8306 - loss: 0.0314 - val_accuracy: 0.6929 - val_auc: 0.7529 - val_loss: 0.0366
Epoch 32/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7570 - auc: 0.8339 - loss: 0.0312 - val_accuracy: 0.6989 - val_auc: 0.7555 - val_loss: 0.0365
Epoch 33/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7560 - auc: 0.8355 - loss: 0.0309 - val_accuracy: 0.6951 - val_auc: 0.7562 - val_loss: 0.0368
Epoch 34/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7648 - auc: 0.8425 - loss: 0.0303 - val_accuracy: 0.7097 - val_auc: 0.7632 - val_loss: 0.0362
Epoch 35/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7665 - auc: 0.8455 - loss: 0.0304 - val_accuracy: 0.7071 - val_auc: 0.7602 - val_loss: 0.0366
Epoch 36/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7705 - auc: 0.8507 - loss: 0.0298 - val_accuracy: 0.6998 - val_auc: 0.7732 - val_loss: 0.0356
Epoch 37/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7714 - auc: 0.8540 - loss: 0.0295 - val_accuracy: 0.6981 - val_auc: 0.7692 - val_loss: 0.0363
Epoch 38/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7771 - auc: 0.8599 - loss: 0.0290 - val_accuracy: 0.7084 - val_auc: 0.7693 - val_loss: 0.0370
Epoch 39/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7762 - auc: 0.8602 - loss: 0.0288 - val_accuracy: 0.7080 - val_auc: 0.7728 - val_loss: 0.0361
Epoch 40/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7857 - auc: 0.8690 - loss: 0.0283 - val_accuracy: 0.7118 - val_auc: 0.7742 - val_loss: 0.0365
Epoch 41/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7828 - auc: 0.8683 - loss: 0.0284 - val_accuracy: 0.7174 - val_auc: 0.7808 - val_loss: 0.0366
Epoch 42/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7820 - auc: 0.8698 - loss: 0.0282 - val_accuracy: 0.7166 - val_auc: 0.7793 - val_loss: 0.0359
Epoch 43/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7865 - auc: 0.8732 - loss: 0.0277 - val_accuracy: 0.7183 - val_auc: 0.7814 - val_loss: 0.0365
Epoch 44/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7941 - auc: 0.8772 - loss: 0.0276 - val_accuracy: 0.7303 - val_auc: 0.7888 - val_loss: 0.0356
Epoch 45/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7939 - auc: 0.8794 - loss: 0.0273 - val_accuracy: 0.7166 - val_auc: 0.7759 - val_loss: 0.0369
Epoch 46/50
291/291 ━━━━━━━━━━━━━━━━━━━━ 3s 11ms/step - accuracy: 0.7961 - auc: 0.8820 - loss: 0.0268 - val_accuracy: 0.7239 - val_auc: 0.7859 - val_loss: 0.0375
2025-11-10 20:56:34.564 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 46
2025-11-10 20:56:34.564 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0268, Accuracy: 0.7961, AUC: 0.8820
2025-11-10 20:56:34.566 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0375, Accuracy: 0.7239, AUC: 0.7859
2025-11-10 20:56:34.569 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 20:56:34.663 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 20:56:35.878 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17257 data points.
2025-11-10 20:56:35.970 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17237 sequences.
2025-11-10 20:56:37.844 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 20:56:37.865 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 20:56:37.867 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 20:56:37.867 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_999\GainX_999_M5'...
2025-11-10 20:56:37.894 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M5\random_forest.pkl
2025-11-10 20:56:37.924 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M5\gradient_boosting.pkl
2025-11-10 20:56:37.952 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_999\GainX_999_M5\lstm.keras and models\GainX_999\GainX_999_M5\lstm_scaler.pkl
2025-11-10 20:56:37.953 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_999\GainX_999_M5\feature_info.pkl
2025-11-10 20:56:37.955 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_999\GainX_999_M5\meta_model.pkl
2025-11-10 20:56:37.956 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_999\GainX_999_M5\training_metadata.json
2025-11-10 20:56:37.957 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 999 [5m] (30/40)
2025-11-10 20:56:37.958 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 999 [15m] ---
2025-11-10 20:56:37.959 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 20:56:37.959 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 20:56:40.977 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 20:56:40.978 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 20:56:40.981 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 20:56:41.156 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 999 [15m] from MT5
2025-11-10 20:56:41.157 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 20:56:43.158 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 20:56:44.376 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 20:56:47.905 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 20:56:47.906 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 20:56:57.889 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17177 signals total, 12012 profitable (69.9% win rate), 5165 unprofitable
2025-11-10 20:56:57.973 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17177, 116), Shape of y: (17177,)
2025-11-10 20:56:57.985 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17177 data points.
2025-11-10 20:56:58.184 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17127 sequences.
2025-11-10 20:56:58.250 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 20:56:58.250 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 20:56:58.255 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 20:56:58.255 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 20:56:58.284 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 20:57:04.751 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 20:57:04.752 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:00:19.440 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:00:19.442 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:00:19.443 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:00:19.482 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:00:19.483 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5156), np.float64(1.0): np.int64(11971)}
2025-11-10 21:00:19.484 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17127
2025-11-10 21:00:19.660 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11971 to 7734
2025-11-10 21:00:19.661 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5156), np.float64(1.0): np.int64(7734)}
2025-11-10 21:00:19.662 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12890
2025-11-10 21:00:19.665 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5717 - auc: 0.5235 - loss: 0.0445 - val_accuracy: 0.5869 - val_auc: 0.5711 - val_loss: 0.0423
Epoch 2/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5880 - auc: 0.5622 - loss: 0.0422 - val_accuracy: 0.5985 - val_auc: 0.5931 - val_loss: 0.0418
Epoch 3/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.5946 - auc: 0.5697 - loss: 0.0419 - val_accuracy: 0.6032 - val_auc: 0.5909 - val_loss: 0.0416
Epoch 4/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6006 - auc: 0.5957 - loss: 0.0414 - val_accuracy: 0.6043 - val_auc: 0.6184 - val_loss: 0.0415
Epoch 5/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6111 - auc: 0.6089 - loss: 0.0412 - val_accuracy: 0.6148 - val_auc: 0.6152 - val_loss: 0.0414
Epoch 6/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6106 - auc: 0.6163 - loss: 0.0410 - val_accuracy: 0.6140 - val_auc: 0.6212 - val_loss: 0.0410
Epoch 7/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6151 - auc: 0.6368 - loss: 0.0405 - val_accuracy: 0.6140 - val_auc: 0.6318 - val_loss: 0.0406
Epoch 8/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6293 - auc: 0.6531 - loss: 0.0400 - val_accuracy: 0.6140 - val_auc: 0.6340 - val_loss: 0.0407
Epoch 9/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6298 - auc: 0.6603 - loss: 0.0398 - val_accuracy: 0.6152 - val_auc: 0.6386 - val_loss: 0.0406
Epoch 10/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6323 - auc: 0.6730 - loss: 0.0393 - val_accuracy: 0.6187 - val_auc: 0.6509 - val_loss: 0.0401
Epoch 11/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6481 - auc: 0.6893 - loss: 0.0389 - val_accuracy: 0.6168 - val_auc: 0.6575 - val_loss: 0.0399
Epoch 12/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6554 - auc: 0.7067 - loss: 0.0382 - val_accuracy: 0.6245 - val_auc: 0.6687 - val_loss: 0.0399
Epoch 13/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6595 - auc: 0.7115 - loss: 0.0379 - val_accuracy: 0.6288 - val_auc: 0.6837 - val_loss: 0.0390
Epoch 14/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6703 - auc: 0.7273 - loss: 0.0374 - val_accuracy: 0.6237 - val_auc: 0.6756 - val_loss: 0.0392
Epoch 15/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6817 - auc: 0.7382 - loss: 0.0368 - val_accuracy: 0.6458 - val_auc: 0.6971 - val_loss: 0.0385
Epoch 16/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6826 - auc: 0.7483 - loss: 0.0362 - val_accuracy: 0.6474 - val_auc: 0.6945 - val_loss: 0.0389
Epoch 17/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6958 - auc: 0.7636 - loss: 0.0356 - val_accuracy: 0.6524 - val_auc: 0.7085 - val_loss: 0.0384
Epoch 18/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7025 - auc: 0.7691 - loss: 0.0352 - val_accuracy: 0.6524 - val_auc: 0.7162 - val_loss: 0.0380
Epoch 19/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7065 - auc: 0.7762 - loss: 0.0349 - val_accuracy: 0.6680 - val_auc: 0.7310 - val_loss: 0.0373
Epoch 20/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7179 - auc: 0.7856 - loss: 0.0342 - val_accuracy: 0.6839 - val_auc: 0.7421 - val_loss: 0.0369
Epoch 21/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7170 - auc: 0.7934 - loss: 0.0338 - val_accuracy: 0.6695 - val_auc: 0.7398 - val_loss: 0.0377
Epoch 22/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7273 - auc: 0.7993 - loss: 0.0334 - val_accuracy: 0.6897 - val_auc: 0.7478 - val_loss: 0.0373
Epoch 23/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7251 - auc: 0.8032 - loss: 0.0333 - val_accuracy: 0.6862 - val_auc: 0.7531 - val_loss: 0.0369
Epoch 24/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7389 - auc: 0.8152 - loss: 0.0324 - val_accuracy: 0.6974 - val_auc: 0.7616 - val_loss: 0.0362
Epoch 25/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7445 - auc: 0.8229 - loss: 0.0319 - val_accuracy: 0.6998 - val_auc: 0.7657 - val_loss: 0.0367
Epoch 26/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7462 - auc: 0.8249 - loss: 0.0318 - val_accuracy: 0.7040 - val_auc: 0.7711 - val_loss: 0.0364
Epoch 27/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7531 - auc: 0.8302 - loss: 0.0313 - val_accuracy: 0.7044 - val_auc: 0.7711 - val_loss: 0.0364
Epoch 28/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7469 - auc: 0.8303 - loss: 0.0313 - val_accuracy: 0.6866 - val_auc: 0.7628 - val_loss: 0.0372
Epoch 29/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7630 - auc: 0.8432 - loss: 0.0304 - val_accuracy: 0.7110 - val_auc: 0.7777 - val_loss: 0.0362
Epoch 30/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7645 - auc: 0.8427 - loss: 0.0304 - val_accuracy: 0.7083 - val_auc: 0.7801 - val_loss: 0.0360
Epoch 31/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7629 - auc: 0.8472 - loss: 0.0300 - val_accuracy: 0.7005 - val_auc: 0.7808 - val_loss: 0.0362
Epoch 32/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7710 - auc: 0.8529 - loss: 0.0296 - val_accuracy: 0.7153 - val_auc: 0.7887 - val_loss: 0.0355
Epoch 33/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7770 - auc: 0.8591 - loss: 0.0290 - val_accuracy: 0.7044 - val_auc: 0.7787 - val_loss: 0.0374
Epoch 34/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7770 - auc: 0.8568 - loss: 0.0292 - val_accuracy: 0.7091 - val_auc: 0.7906 - val_loss: 0.0355
Epoch 35/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7856 - auc: 0.8643 - loss: 0.0286 - val_accuracy: 0.7075 - val_auc: 0.7893 - val_loss: 0.0363
Epoch 36/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7892 - auc: 0.8684 - loss: 0.0283 - val_accuracy: 0.7184 - val_auc: 0.7943 - val_loss: 0.0360
Epoch 37/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7894 - auc: 0.8717 - loss: 0.0278 - val_accuracy: 0.7273 - val_auc: 0.7972 - val_loss: 0.0369
Epoch 38/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7859 - auc: 0.8696 - loss: 0.0281 - val_accuracy: 0.7277 - val_auc: 0.8041 - val_loss: 0.0362
Epoch 39/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7922 - auc: 0.8751 - loss: 0.0274 - val_accuracy: 0.7106 - val_auc: 0.7978 - val_loss: 0.0365
Epoch 40/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7973 - auc: 0.8778 - loss: 0.0271 - val_accuracy: 0.7296 - val_auc: 0.8055 - val_loss: 0.0361
Epoch 41/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7989 - auc: 0.8799 - loss: 0.0270 - val_accuracy: 0.7351 - val_auc: 0.8080 - val_loss: 0.0358
Epoch 42/50
323/323 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.8014 - auc: 0.8841 - loss: 0.0268 - val_accuracy: 0.7304 - val_auc: 0.7990 - val_loss: 0.0363
2025-11-10 21:02:59.384 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 42
2025-11-10 21:02:59.384 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0268, Accuracy: 0.8014, AUC: 0.8841
2025-11-10 21:02:59.386 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0363, Accuracy: 0.7304, AUC: 0.7990
2025-11-10 21:02:59.389 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:02:59.485 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:03:00.686 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17177 data points.
2025-11-10 21:03:00.779 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17157 sequences.
2025-11-10 21:03:02.778 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:03:02.801 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:03:02.803 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:03:02.803 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_999\GainX_999_M15'...
2025-11-10 21:03:02.898 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_M15\random_forest.pkl
2025-11-10 21:03:02.912 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_M15\gradient_boosting.pkl
2025-11-10 21:03:02.953 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_999\GainX_999_M15\lstm.keras and models\GainX_999\GainX_999_M15\lstm_scaler.pkl
2025-11-10 21:03:02.954 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_999\GainX_999_M15\feature_info.pkl
2025-11-10 21:03:02.955 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_999\GainX_999_M15\meta_model.pkl
2025-11-10 21:03:02.958 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_999\GainX_999_M15\training_metadata.json
2025-11-10 21:03:02.959 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 999 [15m] (31/40)
2025-11-10 21:03:02.959 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 999 [1h] ---
2025-11-10 21:03:03.063 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 11947 candles for GainX 999 [1h] from MT5
2025-11-10 21:03:03.064 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 11947 candles (minimum: 2000)
2025-11-10 21:03:05.069 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:03:05.843 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:03:07.967 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:03:07.968 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:03:13.899 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 10140 signals total, 6712 profitable (66.2% win rate), 3428 unprofitable
2025-11-10 21:03:13.951 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (10140, 116), Shape of y: (10140,)
2025-11-10 21:03:13.961 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 10140 data points.
2025-11-10 21:03:14.077 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10090 sequences.
2025-11-10 21:03:14.148 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:03:14.149 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:03:14.153 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:03:14.154 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:03:14.171 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:03:18.065 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:03:18.066 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:05:13.948 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:05:13.949 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:05:13.951 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:05:13.991 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:05:13.992 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3405), np.float64(1.0): np.int64(6685)}
2025-11-10 21:05:13.993 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 10090
2025-11-10 21:05:14.111 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 6685 to 5107
2025-11-10 21:05:14.112 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3405), np.float64(1.0): np.int64(5107)}
2025-11-10 21:05:14.113 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 8512
2025-11-10 21:05:14.116 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499265785609397), 1: np.float64(0.833365968278833)}
Epoch 1/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 5s 14ms/step - accuracy: 0.5747 - auc: 0.5221 - loss: 0.0439 - val_accuracy: 0.6048 - val_auc: 0.5724 - val_loss: 0.0420
Epoch 2/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5995 - auc: 0.5578 - loss: 0.0421 - val_accuracy: 0.6083 - val_auc: 0.5934 - val_loss: 0.0415
Epoch 3/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 2s 11ms/step - accuracy: 0.6013 - auc: 0.5800 - loss: 0.0418 - val_accuracy: 0.6095 - val_auc: 0.6180 - val_loss: 0.0413
Epoch 4/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6136 - auc: 0.5867 - loss: 0.0415 - val_accuracy: 0.6207 - val_auc: 0.6359 - val_loss: 0.0410
Epoch 5/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6234 - auc: 0.6053 - loss: 0.0412 - val_accuracy: 0.6224 - val_auc: 0.6430 - val_loss: 0.0408
Epoch 6/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6236 - auc: 0.6319 - loss: 0.0405 - val_accuracy: 0.6277 - val_auc: 0.6470 - val_loss: 0.0404
Epoch 7/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6289 - auc: 0.6360 - loss: 0.0403 - val_accuracy: 0.6301 - val_auc: 0.6513 - val_loss: 0.0402
Epoch 8/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6362 - auc: 0.6556 - loss: 0.0396 - val_accuracy: 0.6353 - val_auc: 0.6661 - val_loss: 0.0400
Epoch 9/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6440 - auc: 0.6794 - loss: 0.0391 - val_accuracy: 0.6424 - val_auc: 0.6834 - val_loss: 0.0393
Epoch 10/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6505 - auc: 0.6894 - loss: 0.0386 - val_accuracy: 0.6541 - val_auc: 0.7041 - val_loss: 0.0385
Epoch 11/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6557 - auc: 0.7050 - loss: 0.0381 - val_accuracy: 0.6559 - val_auc: 0.7035 - val_loss: 0.0387
Epoch 12/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6718 - auc: 0.7288 - loss: 0.0371 - val_accuracy: 0.6665 - val_auc: 0.7164 - val_loss: 0.0383
Epoch 13/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6810 - auc: 0.7412 - loss: 0.0366 - val_accuracy: 0.6629 - val_auc: 0.7117 - val_loss: 0.0387
Epoch 14/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6726 - auc: 0.7439 - loss: 0.0362 - val_accuracy: 0.6653 - val_auc: 0.7368 - val_loss: 0.0375
Epoch 15/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6898 - auc: 0.7614 - loss: 0.0355 - val_accuracy: 0.6812 - val_auc: 0.7444 - val_loss: 0.0371
Epoch 16/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 2s 12ms/step - accuracy: 0.7023 - auc: 0.7744 - loss: 0.0349 - val_accuracy: 0.6935 - val_auc: 0.7491 - val_loss: 0.0369
Epoch 17/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7114 - auc: 0.7852 - loss: 0.0343 - val_accuracy: 0.7005 - val_auc: 0.7623 - val_loss: 0.0365
Epoch 18/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 2s 12ms/step - accuracy: 0.7148 - auc: 0.7924 - loss: 0.0339 - val_accuracy: 0.7058 - val_auc: 0.7598 - val_loss: 0.0366
Epoch 19/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7251 - auc: 0.8044 - loss: 0.0332 - val_accuracy: 0.6994 - val_auc: 0.7568 - val_loss: 0.0372
Epoch 20/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 2s 12ms/step - accuracy: 0.7279 - auc: 0.8082 - loss: 0.0327 - val_accuracy: 0.7064 - val_auc: 0.7704 - val_loss: 0.0361
Epoch 21/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7345 - auc: 0.8186 - loss: 0.0322 - val_accuracy: 0.7011 - val_auc: 0.7688 - val_loss: 0.0365
Epoch 22/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7383 - auc: 0.8206 - loss: 0.0319 - val_accuracy: 0.7152 - val_auc: 0.7842 - val_loss: 0.0357
Epoch 23/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7477 - auc: 0.8312 - loss: 0.0310 - val_accuracy: 0.7217 - val_auc: 0.7890 - val_loss: 0.0357
Epoch 24/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7586 - auc: 0.8396 - loss: 0.0305 - val_accuracy: 0.7064 - val_auc: 0.7930 - val_loss: 0.0351
Epoch 25/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7593 - auc: 0.8393 - loss: 0.0305 - val_accuracy: 0.7287 - val_auc: 0.7949 - val_loss: 0.0358
Epoch 26/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7637 - auc: 0.8471 - loss: 0.0301 - val_accuracy: 0.7187 - val_auc: 0.7901 - val_loss: 0.0357
Epoch 27/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 2s 12ms/step - accuracy: 0.7721 - auc: 0.8550 - loss: 0.0292 - val_accuracy: 0.7281 - val_auc: 0.8016 - val_loss: 0.0350
Epoch 28/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7732 - auc: 0.8612 - loss: 0.0287 - val_accuracy: 0.7358 - val_auc: 0.8008 - val_loss: 0.0357
Epoch 29/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7819 - auc: 0.8624 - loss: 0.0288 - val_accuracy: 0.7240 - val_auc: 0.8019 - val_loss: 0.0353
Epoch 30/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7831 - auc: 0.8693 - loss: 0.0280 - val_accuracy: 0.7252 - val_auc: 0.7935 - val_loss: 0.0367
Epoch 31/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7892 - auc: 0.8725 - loss: 0.0280 - val_accuracy: 0.7334 - val_auc: 0.8046 - val_loss: 0.0354
Epoch 32/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7959 - auc: 0.8814 - loss: 0.0268 - val_accuracy: 0.7387 - val_auc: 0.8060 - val_loss: 0.0355
Epoch 33/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7910 - auc: 0.8799 - loss: 0.0270 - val_accuracy: 0.7328 - val_auc: 0.8060 - val_loss: 0.0353
Epoch 34/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7892 - auc: 0.8778 - loss: 0.0272 - val_accuracy: 0.7452 - val_auc: 0.8144 - val_loss: 0.0351
Epoch 35/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7962 - auc: 0.8835 - loss: 0.0266 - val_accuracy: 0.7346 - val_auc: 0.8022 - val_loss: 0.0374
Epoch 36/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8010 - auc: 0.8905 - loss: 0.0259 - val_accuracy: 0.7422 - val_auc: 0.8093 - val_loss: 0.0388
Epoch 37/50
213/213 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7991 - auc: 0.8881 - loss: 0.0262 - val_accuracy: 0.7287 - val_auc: 0.8068 - val_loss: 0.0367
2025-11-10 21:06:50.229 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 37
2025-11-10 21:06:50.229 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0262, Accuracy: 0.7991, AUC: 0.8881
2025-11-10 21:06:50.231 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0367, Accuracy: 0.7287, AUC: 0.8068
2025-11-10 21:06:50.233 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:06:50.298 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:06:51.011 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 10140 data points.
2025-11-10 21:06:51.067 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 10120 sequences.
2025-11-10 21:06:52.309 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:06:52.323 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:06:52.324 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:06:52.324 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_999\GainX_999_H1'...
2025-11-10 21:06:52.362 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_999\GainX_999_H1\random_forest.pkl
2025-11-10 21:06:52.372 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_999\GainX_999_H1\gradient_boosting.pkl
2025-11-10 21:06:52.408 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_999\GainX_999_H1\lstm.keras and models\GainX_999\GainX_999_H1\lstm_scaler.pkl
2025-11-10 21:06:52.409 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_999\GainX_999_H1\feature_info.pkl
2025-11-10 21:06:52.413 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_999\GainX_999_H1\meta_model.pkl
2025-11-10 21:06:52.414 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_999\GainX_999_H1\training_metadata.json
2025-11-10 21:06:52.414 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 999 [1h] (32/40)
2025-11-10 21:06:52.415 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 1200 [1m] ---
2025-11-10 21:06:52.423 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [1m] from MT5
2025-11-10 21:06:52.424 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 21:06:54.425 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:06:55.632 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:06:59.110 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:06:59.111 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:07:09.273 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17640 signals total, 13781 profitable (78.1% win rate), 3859 unprofitable
2025-11-10 21:07:09.365 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17640, 116), Shape of y: (17640,)
2025-11-10 21:07:09.378 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17640 data points.
2025-11-10 21:07:09.587 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17590 sequences.
2025-11-10 21:07:09.626 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:07:09.627 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:07:09.631 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:07:09.631 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:07:09.663 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:07:15.237 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:07:15.238 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:10:01.505 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:10:01.506 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:10:01.507 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:10:01.548 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:10:01.549 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3852), np.float64(1.0): np.int64(13738)}
2025-11-10 21:10:01.550 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17590
2025-11-10 21:10:01.684 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 13738 to 5778
2025-11-10 21:10:01.685 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3852), np.float64(1.0): np.int64(5778)}
2025-11-10 21:10:01.686 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9630
2025-11-10 21:10:01.689 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.6538 - auc: 0.6913 - loss: 0.0399 - val_accuracy: 0.6911 - val_auc: 0.7409 - val_loss: 0.0367
Epoch 2/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6811 - auc: 0.7245 - loss: 0.0382 - val_accuracy: 0.6854 - val_auc: 0.7378 - val_loss: 0.0370
Epoch 3/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6938 - auc: 0.7398 - loss: 0.0375 - val_accuracy: 0.6880 - val_auc: 0.7387 - val_loss: 0.0376
Epoch 4/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6856 - auc: 0.7456 - loss: 0.0371 - val_accuracy: 0.6978 - val_auc: 0.7497 - val_loss: 0.0365
Epoch 5/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6972 - auc: 0.7520 - loss: 0.0368 - val_accuracy: 0.6921 - val_auc: 0.7423 - val_loss: 0.0369
Epoch 6/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6977 - auc: 0.7538 - loss: 0.0366 - val_accuracy: 0.7072 - val_auc: 0.7554 - val_loss: 0.0362
Epoch 7/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7085 - auc: 0.7644 - loss: 0.0362 - val_accuracy: 0.7092 - val_auc: 0.7615 - val_loss: 0.0363
Epoch 8/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7073 - auc: 0.7681 - loss: 0.0358 - val_accuracy: 0.7035 - val_auc: 0.7620 - val_loss: 0.0359
Epoch 9/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7164 - auc: 0.7709 - loss: 0.0359 - val_accuracy: 0.6994 - val_auc: 0.7684 - val_loss: 0.0359
Epoch 10/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7222 - auc: 0.7770 - loss: 0.0354 - val_accuracy: 0.6931 - val_auc: 0.7658 - val_loss: 0.0358
Epoch 11/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7185 - auc: 0.7750 - loss: 0.0355 - val_accuracy: 0.7061 - val_auc: 0.7669 - val_loss: 0.0358
Epoch 12/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7296 - auc: 0.7857 - loss: 0.0349 - val_accuracy: 0.7098 - val_auc: 0.7742 - val_loss: 0.0353
Epoch 13/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7264 - auc: 0.7867 - loss: 0.0349 - val_accuracy: 0.7098 - val_auc: 0.7778 - val_loss: 0.0350
Epoch 14/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7359 - auc: 0.7917 - loss: 0.0345 - val_accuracy: 0.7201 - val_auc: 0.7817 - val_loss: 0.0351
Epoch 15/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7357 - auc: 0.7969 - loss: 0.0340 - val_accuracy: 0.7165 - val_auc: 0.7794 - val_loss: 0.0353
Epoch 16/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7355 - auc: 0.7942 - loss: 0.0342 - val_accuracy: 0.7082 - val_auc: 0.7850 - val_loss: 0.0346
Epoch 17/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7433 - auc: 0.8062 - loss: 0.0334 - val_accuracy: 0.7207 - val_auc: 0.7863 - val_loss: 0.0348
Epoch 18/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7492 - auc: 0.8076 - loss: 0.0333 - val_accuracy: 0.7264 - val_auc: 0.7920 - val_loss: 0.0343
Epoch 19/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7543 - auc: 0.8132 - loss: 0.0329 - val_accuracy: 0.7310 - val_auc: 0.7929 - val_loss: 0.0351
Epoch 20/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7518 - auc: 0.8164 - loss: 0.0323 - val_accuracy: 0.7290 - val_auc: 0.7940 - val_loss: 0.0344
Epoch 21/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7540 - auc: 0.8188 - loss: 0.0323 - val_accuracy: 0.7201 - val_auc: 0.7970 - val_loss: 0.0338
Epoch 22/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7523 - auc: 0.8214 - loss: 0.0320 - val_accuracy: 0.7269 - val_auc: 0.8015 - val_loss: 0.0339
Epoch 23/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7629 - auc: 0.8278 - loss: 0.0315 - val_accuracy: 0.7310 - val_auc: 0.7987 - val_loss: 0.0340
Epoch 24/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7680 - auc: 0.8335 - loss: 0.0311 - val_accuracy: 0.7435 - val_auc: 0.8082 - val_loss: 0.0337
Epoch 25/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7706 - auc: 0.8370 - loss: 0.0306 - val_accuracy: 0.7321 - val_auc: 0.8054 - val_loss: 0.0337
Epoch 26/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7706 - auc: 0.8392 - loss: 0.0304 - val_accuracy: 0.7414 - val_auc: 0.8087 - val_loss: 0.0330
Epoch 27/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7670 - auc: 0.8416 - loss: 0.0300 - val_accuracy: 0.7321 - val_auc: 0.7999 - val_loss: 0.0338
Epoch 28/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7752 - auc: 0.8458 - loss: 0.0298 - val_accuracy: 0.7404 - val_auc: 0.8129 - val_loss: 0.0340
Epoch 29/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7810 - auc: 0.8497 - loss: 0.0296 - val_accuracy: 0.7445 - val_auc: 0.8165 - val_loss: 0.0330
Epoch 30/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7837 - auc: 0.8536 - loss: 0.0292 - val_accuracy: 0.7456 - val_auc: 0.8170 - val_loss: 0.0335
Epoch 31/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7815 - auc: 0.8546 - loss: 0.0289 - val_accuracy: 0.7451 - val_auc: 0.8173 - val_loss: 0.0337
Epoch 32/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7870 - auc: 0.8580 - loss: 0.0288 - val_accuracy: 0.7482 - val_auc: 0.8201 - val_loss: 0.0327
Epoch 33/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7871 - auc: 0.8612 - loss: 0.0285 - val_accuracy: 0.7565 - val_auc: 0.8266 - val_loss: 0.0330
Epoch 34/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7901 - auc: 0.8628 - loss: 0.0280 - val_accuracy: 0.7518 - val_auc: 0.8289 - val_loss: 0.0332
Epoch 35/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7888 - auc: 0.8658 - loss: 0.0280 - val_accuracy: 0.7586 - val_auc: 0.8298 - val_loss: 0.0319
Epoch 36/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7988 - auc: 0.8734 - loss: 0.0272 - val_accuracy: 0.7601 - val_auc: 0.8296 - val_loss: 0.0326
Epoch 37/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7947 - auc: 0.8729 - loss: 0.0274 - val_accuracy: 0.7570 - val_auc: 0.8317 - val_loss: 0.0339
Epoch 38/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7997 - auc: 0.8738 - loss: 0.0272 - val_accuracy: 0.7570 - val_auc: 0.8344 - val_loss: 0.0320
Epoch 39/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7966 - auc: 0.8730 - loss: 0.0272 - val_accuracy: 0.7658 - val_auc: 0.8382 - val_loss: 0.0318
Epoch 40/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8045 - auc: 0.8841 - loss: 0.0263 - val_accuracy: 0.7648 - val_auc: 0.8363 - val_loss: 0.0337
Epoch 41/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8039 - auc: 0.8788 - loss: 0.0264 - val_accuracy: 0.7690 - val_auc: 0.8367 - val_loss: 0.0326
Epoch 42/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8015 - auc: 0.8817 - loss: 0.0265 - val_accuracy: 0.7643 - val_auc: 0.8361 - val_loss: 0.0311
Epoch 43/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8009 - auc: 0.8831 - loss: 0.0263 - val_accuracy: 0.7643 - val_auc: 0.8349 - val_loss: 0.0344
Epoch 44/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8091 - auc: 0.8884 - loss: 0.0257 - val_accuracy: 0.7721 - val_auc: 0.8417 - val_loss: 0.0333
Epoch 45/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8091 - auc: 0.8891 - loss: 0.0256 - val_accuracy: 0.7664 - val_auc: 0.8434 - val_loss: 0.0326
Epoch 46/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8097 - auc: 0.8886 - loss: 0.0256 - val_accuracy: 0.7715 - val_auc: 0.8498 - val_loss: 0.0318
Epoch 47/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8130 - auc: 0.8897 - loss: 0.0256 - val_accuracy: 0.7736 - val_auc: 0.8474 - val_loss: 0.0311
Epoch 48/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8130 - auc: 0.8937 - loss: 0.0250 - val_accuracy: 0.7788 - val_auc: 0.8450 - val_loss: 0.0326
Epoch 49/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8118 - auc: 0.8925 - loss: 0.0252 - val_accuracy: 0.7705 - val_auc: 0.8448 - val_loss: 0.0338
Epoch 50/50
241/241 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8113 - auc: 0.8947 - loss: 0.0249 - val_accuracy: 0.7715 - val_auc: 0.8475 - val_loss: 0.0342
2025-11-10 21:12:30.991 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 21:12:30.991 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0249, Accuracy: 0.8113, AUC: 0.8947
2025-11-10 21:12:30.992 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0342, Accuracy: 0.7715, AUC: 0.8475
2025-11-10 21:12:30.995 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:12:31.075 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:12:32.314 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17640 data points.
2025-11-10 21:12:32.409 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17620 sequences.
2025-11-10 21:12:34.389 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:12:34.410 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:12:34.411 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:12:34.411 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_1200\PainX_1200_M1'...
2025-11-10 21:12:34.475 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M1\random_forest.pkl
2025-11-10 21:12:34.485 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M1\gradient_boosting.pkl
2025-11-10 21:12:34.534 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_1200\PainX_1200_M1\lstm.keras and models\PainX_1200\PainX_1200_M1\lstm_scaler.pkl
2025-11-10 21:12:34.535 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_1200\PainX_1200_M1\feature_info.pkl
2025-11-10 21:12:34.537 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_1200\PainX_1200_M1\meta_model.pkl
2025-11-10 21:12:34.539 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_1200\PainX_1200_M1\training_metadata.json
2025-11-10 21:12:34.540 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 1200 [1m] (33/40)
2025-11-10 21:12:34.540 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 1200 [5m] ---
2025-11-10 21:12:36.055 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [5m] from MT5
2025-11-10 21:12:36.055 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 21:12:38.058 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:12:39.271 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:12:42.774 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:12:42.775 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:12:52.756 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17189 signals total, 12641 profitable (73.5% win rate), 4548 unprofitable
2025-11-10 21:12:52.845 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17189, 116), Shape of y: (17189,)
2025-11-10 21:12:52.858 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17189 data points.
2025-11-10 21:12:53.062 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17139 sequences.
2025-11-10 21:12:53.146 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:12:53.147 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:12:53.152 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:12:53.152 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:12:53.185 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:12:59.402 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:12:59.403 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:16:06.095 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:16:06.096 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:16:06.097 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:16:06.134 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:16:06.135 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4539), np.float64(1.0): np.int64(12600)}
2025-11-10 21:16:06.136 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17139
2025-11-10 21:16:06.292 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12600 to 6808
2025-11-10 21:16:06.292 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4539), np.float64(1.0): np.int64(6808)}
2025-11-10 21:16:06.294 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11347
2025-11-10 21:16:06.297 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499449217889402), 1: np.float64(0.8333578143360753)}
Epoch 1/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 6s 14ms/step - accuracy: 0.5839 - auc: 0.5649 - loss: 0.0434 - val_accuracy: 0.6110 - val_auc: 0.6097 - val_loss: 0.0413
Epoch 2/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6025 - auc: 0.5887 - loss: 0.0419 - val_accuracy: 0.6167 - val_auc: 0.6153 - val_loss: 0.0412
Epoch 3/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6156 - auc: 0.6033 - loss: 0.0414 - val_accuracy: 0.6150 - val_auc: 0.6226 - val_loss: 0.0411
Epoch 4/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6141 - auc: 0.6079 - loss: 0.0413 - val_accuracy: 0.6163 - val_auc: 0.6199 - val_loss: 0.0411
Epoch 5/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6243 - auc: 0.6192 - loss: 0.0411 - val_accuracy: 0.6198 - val_auc: 0.6226 - val_loss: 0.0410
Epoch 6/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6243 - auc: 0.6274 - loss: 0.0409 - val_accuracy: 0.6317 - val_auc: 0.6338 - val_loss: 0.0408
Epoch 7/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6245 - auc: 0.6383 - loss: 0.0407 - val_accuracy: 0.6286 - val_auc: 0.6402 - val_loss: 0.0406
Epoch 8/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6334 - auc: 0.6392 - loss: 0.0406 - val_accuracy: 0.6370 - val_auc: 0.6429 - val_loss: 0.0405
Epoch 9/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6434 - auc: 0.6562 - loss: 0.0401 - val_accuracy: 0.6379 - val_auc: 0.6473 - val_loss: 0.0404
Epoch 10/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6435 - auc: 0.6600 - loss: 0.0399 - val_accuracy: 0.6374 - val_auc: 0.6476 - val_loss: 0.0403
Epoch 11/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6487 - auc: 0.6715 - loss: 0.0395 - val_accuracy: 0.6388 - val_auc: 0.6567 - val_loss: 0.0402
Epoch 12/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6516 - auc: 0.6787 - loss: 0.0394 - val_accuracy: 0.6366 - val_auc: 0.6560 - val_loss: 0.0401
Epoch 13/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6621 - auc: 0.6834 - loss: 0.0391 - val_accuracy: 0.6427 - val_auc: 0.6674 - val_loss: 0.0397
Epoch 14/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6632 - auc: 0.6932 - loss: 0.0387 - val_accuracy: 0.6551 - val_auc: 0.6760 - val_loss: 0.0394
Epoch 15/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6698 - auc: 0.7088 - loss: 0.0383 - val_accuracy: 0.6537 - val_auc: 0.6753 - val_loss: 0.0394
Epoch 16/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6757 - auc: 0.7117 - loss: 0.0378 - val_accuracy: 0.6595 - val_auc: 0.6820 - val_loss: 0.0394
Epoch 17/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6797 - auc: 0.7227 - loss: 0.0374 - val_accuracy: 0.6705 - val_auc: 0.6908 - val_loss: 0.0387
Epoch 18/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6847 - auc: 0.7284 - loss: 0.0371 - val_accuracy: 0.6696 - val_auc: 0.7025 - val_loss: 0.0387
Epoch 19/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6914 - auc: 0.7365 - loss: 0.0368 - val_accuracy: 0.6670 - val_auc: 0.6985 - val_loss: 0.0386
Epoch 20/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6924 - auc: 0.7456 - loss: 0.0362 - val_accuracy: 0.6714 - val_auc: 0.6963 - val_loss: 0.0392
Epoch 21/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6990 - auc: 0.7553 - loss: 0.0357 - val_accuracy: 0.6652 - val_auc: 0.7058 - val_loss: 0.0388
Epoch 22/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7023 - auc: 0.7572 - loss: 0.0358 - val_accuracy: 0.6758 - val_auc: 0.7098 - val_loss: 0.0384
Epoch 23/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7078 - auc: 0.7697 - loss: 0.0351 - val_accuracy: 0.6744 - val_auc: 0.7198 - val_loss: 0.0378
Epoch 24/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7114 - auc: 0.7777 - loss: 0.0344 - val_accuracy: 0.6797 - val_auc: 0.7168 - val_loss: 0.0381
Epoch 25/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7190 - auc: 0.7789 - loss: 0.0345 - val_accuracy: 0.6819 - val_auc: 0.7243 - val_loss: 0.0376
Epoch 26/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7261 - auc: 0.7929 - loss: 0.0337 - val_accuracy: 0.6868 - val_auc: 0.7336 - val_loss: 0.0384
Epoch 27/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7296 - auc: 0.7990 - loss: 0.0331 - val_accuracy: 0.6784 - val_auc: 0.7302 - val_loss: 0.0386
Epoch 28/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7288 - auc: 0.8004 - loss: 0.0332 - val_accuracy: 0.6907 - val_auc: 0.7250 - val_loss: 0.0379
Epoch 29/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7315 - auc: 0.8045 - loss: 0.0328 - val_accuracy: 0.6885 - val_auc: 0.7341 - val_loss: 0.0374
Epoch 30/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7388 - auc: 0.8109 - loss: 0.0324 - val_accuracy: 0.6969 - val_auc: 0.7464 - val_loss: 0.0376
Epoch 31/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7402 - auc: 0.8207 - loss: 0.0319 - val_accuracy: 0.6868 - val_auc: 0.7375 - val_loss: 0.0377
Epoch 32/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7430 - auc: 0.8241 - loss: 0.0316 - val_accuracy: 0.7093 - val_auc: 0.7596 - val_loss: 0.0363
Epoch 33/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7480 - auc: 0.8296 - loss: 0.0310 - val_accuracy: 0.7062 - val_auc: 0.7522 - val_loss: 0.0372
Epoch 34/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7534 - auc: 0.8344 - loss: 0.0308 - val_accuracy: 0.7070 - val_auc: 0.7509 - val_loss: 0.0384
Epoch 35/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7537 - auc: 0.8346 - loss: 0.0305 - val_accuracy: 0.7009 - val_auc: 0.7469 - val_loss: 0.0378
Epoch 36/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7467 - auc: 0.8334 - loss: 0.0307 - val_accuracy: 0.7066 - val_auc: 0.7612 - val_loss: 0.0370
Epoch 37/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7584 - auc: 0.8426 - loss: 0.0301 - val_accuracy: 0.7057 - val_auc: 0.7671 - val_loss: 0.0372
Epoch 38/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7655 - auc: 0.8445 - loss: 0.0298 - val_accuracy: 0.7097 - val_auc: 0.7657 - val_loss: 0.0368
Epoch 39/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7656 - auc: 0.8493 - loss: 0.0294 - val_accuracy: 0.7075 - val_auc: 0.7649 - val_loss: 0.0373
Epoch 40/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7671 - auc: 0.8514 - loss: 0.0294 - val_accuracy: 0.7013 - val_auc: 0.7646 - val_loss: 0.0371
Epoch 41/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7704 - auc: 0.8586 - loss: 0.0288 - val_accuracy: 0.7115 - val_auc: 0.7679 - val_loss: 0.0370
Epoch 42/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7800 - auc: 0.8626 - loss: 0.0284 - val_accuracy: 0.7106 - val_auc: 0.7690 - val_loss: 0.0374
2025-11-10 21:18:32.724 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 42
2025-11-10 21:18:32.725 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0284, Accuracy: 0.7800, AUC: 0.8626
2025-11-10 21:18:32.726 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0374, Accuracy: 0.7106, AUC: 0.7690
2025-11-10 21:18:32.729 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:18:32.823 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:18:34.033 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17189 data points.
2025-11-10 21:18:34.125 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17169 sequences.
2025-11-10 21:18:36.040 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:18:36.061 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:18:36.063 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:18:36.063 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_1200\PainX_1200_M5'...
2025-11-10 21:18:36.130 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M5\random_forest.pkl
2025-11-10 21:18:36.148 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M5\gradient_boosting.pkl
2025-11-10 21:18:36.175 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_1200\PainX_1200_M5\lstm.keras and models\PainX_1200\PainX_1200_M5\lstm_scaler.pkl
2025-11-10 21:18:36.177 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_1200\PainX_1200_M5\feature_info.pkl
2025-11-10 21:18:36.179 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_1200\PainX_1200_M5\meta_model.pkl
2025-11-10 21:18:36.182 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_1200\PainX_1200_M5\training_metadata.json
2025-11-10 21:18:36.182 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 1200 [5m] (34/40)
2025-11-10 21:18:36.183 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 1200 [15m] ---
2025-11-10 21:18:36.318 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for PainX 1200 [15m] from MT5
2025-11-10 21:18:36.318 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 21:18:38.320 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:18:39.546 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:18:43.067 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:18:43.068 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:18:53.061 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17067 signals total, 11811 profitable (69.2% win rate), 5256 unprofitable
2025-11-10 21:18:53.150 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17067, 116), Shape of y: (17067,)
2025-11-10 21:18:53.163 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17067 data points.
2025-11-10 21:18:53.380 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17017 sequences.
2025-11-10 21:18:53.479 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:18:53.479 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:18:53.484 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:18:53.484 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:18:53.517 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:18:59.931 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:18:59.932 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:22:14.997 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:22:14.998 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:22:14.999 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:22:15.039 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:22:15.040 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5249), np.float64(1.0): np.int64(11768)}
2025-11-10 21:22:15.041 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17017
2025-11-10 21:22:15.223 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11768 to 7873
2025-11-10 21:22:15.224 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5249), np.float64(1.0): np.int64(7873)}
2025-11-10 21:22:15.225 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 13122
2025-11-10 21:22:15.228 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.2499523718803582), 1: np.float64(0.8333545027308523)}
Epoch 1/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 6s 12ms/step - accuracy: 0.5554 - auc: 0.5188 - loss: 0.0451 - val_accuracy: 0.5989 - val_auc: 0.5517 - val_loss: 0.0421
Epoch 2/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5959 - auc: 0.5451 - loss: 0.0424 - val_accuracy: 0.6023 - val_auc: 0.5815 - val_loss: 0.0418
Epoch 3/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6032 - auc: 0.5570 - loss: 0.0420 - val_accuracy: 0.6114 - val_auc: 0.5758 - val_loss: 0.0417
Epoch 4/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6108 - auc: 0.5768 - loss: 0.0417 - val_accuracy: 0.6088 - val_auc: 0.5932 - val_loss: 0.0416
Epoch 5/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6092 - auc: 0.5754 - loss: 0.0417 - val_accuracy: 0.6141 - val_auc: 0.5895 - val_loss: 0.0415
Epoch 6/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6147 - auc: 0.5981 - loss: 0.0413 - val_accuracy: 0.6198 - val_auc: 0.6005 - val_loss: 0.0413
Epoch 7/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6189 - auc: 0.5998 - loss: 0.0412 - val_accuracy: 0.6156 - val_auc: 0.5983 - val_loss: 0.0414
Epoch 8/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6296 - auc: 0.6165 - loss: 0.0408 - val_accuracy: 0.6156 - val_auc: 0.6153 - val_loss: 0.0409
Epoch 9/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6257 - auc: 0.6167 - loss: 0.0409 - val_accuracy: 0.6244 - val_auc: 0.6271 - val_loss: 0.0409
Epoch 10/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6375 - auc: 0.6438 - loss: 0.0402 - val_accuracy: 0.6274 - val_auc: 0.6329 - val_loss: 0.0406
Epoch 11/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6399 - auc: 0.6491 - loss: 0.0400 - val_accuracy: 0.6312 - val_auc: 0.6457 - val_loss: 0.0401
Epoch 12/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6474 - auc: 0.6663 - loss: 0.0394 - val_accuracy: 0.6415 - val_auc: 0.6632 - val_loss: 0.0397
Epoch 13/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6511 - auc: 0.6711 - loss: 0.0393 - val_accuracy: 0.6430 - val_auc: 0.6758 - val_loss: 0.0397
Epoch 14/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6590 - auc: 0.6913 - loss: 0.0386 - val_accuracy: 0.6392 - val_auc: 0.6804 - val_loss: 0.0397
Epoch 15/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6714 - auc: 0.7036 - loss: 0.0382 - val_accuracy: 0.6617 - val_auc: 0.7032 - val_loss: 0.0388
Epoch 16/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6688 - auc: 0.7148 - loss: 0.0378 - val_accuracy: 0.6537 - val_auc: 0.6902 - val_loss: 0.0392
Epoch 17/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6781 - auc: 0.7241 - loss: 0.0375 - val_accuracy: 0.6617 - val_auc: 0.7115 - val_loss: 0.0384
Epoch 18/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6851 - auc: 0.7362 - loss: 0.0368 - val_accuracy: 0.6651 - val_auc: 0.7249 - val_loss: 0.0380
Epoch 19/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6888 - auc: 0.7422 - loss: 0.0364 - val_accuracy: 0.6667 - val_auc: 0.7211 - val_loss: 0.0380
Epoch 20/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7037 - auc: 0.7656 - loss: 0.0354 - val_accuracy: 0.6709 - val_auc: 0.7346 - val_loss: 0.0377
Epoch 21/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7069 - auc: 0.7716 - loss: 0.0352 - val_accuracy: 0.6857 - val_auc: 0.7365 - val_loss: 0.0372
Epoch 22/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7146 - auc: 0.7803 - loss: 0.0344 - val_accuracy: 0.6926 - val_auc: 0.7474 - val_loss: 0.0368
Epoch 23/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7135 - auc: 0.7823 - loss: 0.0344 - val_accuracy: 0.6945 - val_auc: 0.7492 - val_loss: 0.0366
Epoch 24/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7242 - auc: 0.8002 - loss: 0.0332 - val_accuracy: 0.6952 - val_auc: 0.7564 - val_loss: 0.0366
Epoch 25/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7317 - auc: 0.8056 - loss: 0.0332 - val_accuracy: 0.6857 - val_auc: 0.7571 - val_loss: 0.0363
Epoch 26/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7320 - auc: 0.8107 - loss: 0.0325 - val_accuracy: 0.7006 - val_auc: 0.7619 - val_loss: 0.0360
Epoch 27/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7100 - auc: 0.7743 - loss: 0.0347 - val_accuracy: 0.6857 - val_auc: 0.7318 - val_loss: 0.0380
Epoch 28/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7322 - auc: 0.8065 - loss: 0.0330 - val_accuracy: 0.7051 - val_auc: 0.7629 - val_loss: 0.0364
Epoch 29/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7411 - auc: 0.8176 - loss: 0.0321 - val_accuracy: 0.6960 - val_auc: 0.7672 - val_loss: 0.0361
Epoch 30/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7490 - auc: 0.8265 - loss: 0.0317 - val_accuracy: 0.7032 - val_auc: 0.7677 - val_loss: 0.0364
Epoch 31/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7463 - auc: 0.8299 - loss: 0.0314 - val_accuracy: 0.7048 - val_auc: 0.7730 - val_loss: 0.0358
Epoch 32/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7468 - auc: 0.8241 - loss: 0.0318 - val_accuracy: 0.6968 - val_auc: 0.7675 - val_loss: 0.0359
Epoch 33/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7539 - auc: 0.8358 - loss: 0.0309 - val_accuracy: 0.7082 - val_auc: 0.7743 - val_loss: 0.0362
Epoch 34/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7617 - auc: 0.8431 - loss: 0.0305 - val_accuracy: 0.7082 - val_auc: 0.7766 - val_loss: 0.0365
Epoch 35/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7587 - auc: 0.8450 - loss: 0.0301 - val_accuracy: 0.7116 - val_auc: 0.7811 - val_loss: 0.0360
Epoch 36/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7619 - auc: 0.8505 - loss: 0.0296 - val_accuracy: 0.7131 - val_auc: 0.7779 - val_loss: 0.0362
Epoch 37/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7643 - auc: 0.8503 - loss: 0.0298 - val_accuracy: 0.7227 - val_auc: 0.7824 - val_loss: 0.0359
Epoch 38/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7701 - auc: 0.8546 - loss: 0.0295 - val_accuracy: 0.7177 - val_auc: 0.7883 - val_loss: 0.0355
Epoch 39/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7687 - auc: 0.8594 - loss: 0.0288 - val_accuracy: 0.7181 - val_auc: 0.7876 - val_loss: 0.0365
Epoch 40/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7761 - auc: 0.8633 - loss: 0.0287 - val_accuracy: 0.7204 - val_auc: 0.7829 - val_loss: 0.0372
Epoch 41/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7731 - auc: 0.8634 - loss: 0.0284 - val_accuracy: 0.7082 - val_auc: 0.7825 - val_loss: 0.0368
Epoch 42/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7774 - auc: 0.8671 - loss: 0.0281 - val_accuracy: 0.7208 - val_auc: 0.7873 - val_loss: 0.0370
Epoch 43/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7817 - auc: 0.8684 - loss: 0.0283 - val_accuracy: 0.7215 - val_auc: 0.7961 - val_loss: 0.0356
Epoch 44/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7819 - auc: 0.8727 - loss: 0.0278 - val_accuracy: 0.7238 - val_auc: 0.8010 - val_loss: 0.0350
Epoch 45/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7911 - auc: 0.8765 - loss: 0.0276 - val_accuracy: 0.7230 - val_auc: 0.7910 - val_loss: 0.0360
Epoch 46/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7955 - auc: 0.8804 - loss: 0.0270 - val_accuracy: 0.7230 - val_auc: 0.7952 - val_loss: 0.0375
Epoch 47/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7948 - auc: 0.8812 - loss: 0.0269 - val_accuracy: 0.7211 - val_auc: 0.7922 - val_loss: 0.0373
Epoch 48/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7924 - auc: 0.8797 - loss: 0.0271 - val_accuracy: 0.7326 - val_auc: 0.8024 - val_loss: 0.0357
Epoch 49/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7982 - auc: 0.8855 - loss: 0.0264 - val_accuracy: 0.7234 - val_auc: 0.8021 - val_loss: 0.0362
Epoch 50/50
329/329 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7980 - auc: 0.8849 - loss: 0.0267 - val_accuracy: 0.7257 - val_auc: 0.8024 - val_loss: 0.0362
2025-11-10 21:25:40.082 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 21:25:40.083 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0267, Accuracy: 0.7980, AUC: 0.8849
2025-11-10 21:25:40.084 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0362, Accuracy: 0.7257, AUC: 0.8024
2025-11-10 21:25:40.087 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:25:40.187 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:25:41.393 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17067 data points.
2025-11-10 21:25:41.491 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17047 sequences.
2025-11-10 21:25:43.550 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:25:43.572 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:25:43.573 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:25:43.574 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_1200\PainX_1200_M15'...
2025-11-10 21:25:44.244 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_M15\random_forest.pkl
2025-11-10 21:25:44.356 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_M15\gradient_boosting.pkl
2025-11-10 21:25:44.402 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_1200\PainX_1200_M15\lstm.keras and models\PainX_1200\PainX_1200_M15\lstm_scaler.pkl
2025-11-10 21:25:44.403 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_1200\PainX_1200_M15\feature_info.pkl
2025-11-10 21:25:44.407 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_1200\PainX_1200_M15\meta_model.pkl
2025-11-10 21:25:44.408 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_1200\PainX_1200_M15\training_metadata.json
2025-11-10 21:25:44.408 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 1200 [15m] (35/40)
2025-11-10 21:25:44.408 | INFO     | __main__:train_from_mt5:353 -
--- Training PainX 1200 [1h] ---
2025-11-10 21:25:44.409 | INFO     | __main__:train_from_mt5:357 - Reconnecting to MT5 to prevent IPC errors...
2025-11-10 21:25:44.409 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed
2025-11-10 21:25:47.428 | INFO     | __main__:initialize_mt5:59 - MT5 initialized successfully
2025-11-10 21:25:47.429 | INFO     | __main__:initialize_mt5:67 - Logged in to MT5 account 19510369
2025-11-10 21:25:47.432 | INFO     | __main__:initialize_mt5:74 - Connected to MT5 - Account: 19510369, Balance: 694.7, Server: Weltrade-Demo
2025-11-10 21:25:48.150 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16312 candles for PainX 1200 [1h] from MT5
2025-11-10 21:25:48.150 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16312 candles (minimum: 2000)
2025-11-10 21:25:50.153 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:25:51.226 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:25:54.202 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:25:54.202 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:26:02.344 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13781 signals total, 9085 profitable (65.9% win rate), 4696 unprofitable
2025-11-10 21:26:02.420 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13781, 116), Shape of y: (13781,)
2025-11-10 21:26:02.432 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13781 data points.
2025-11-10 21:26:02.591 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13731 sequences.
2025-11-10 21:26:02.663 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:26:02.663 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:26:02.667 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:26:02.668 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:26:02.693 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:26:08.182 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:26:08.183 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:28:47.182 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:28:47.183 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:28:47.183 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:28:47.221 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:28:47.221 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4676), np.float64(1.0): np.int64(9055)}
2025-11-10 21:28:47.223 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13731
2025-11-10 21:28:47.382 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 9055 to 7014
2025-11-10 21:28:47.383 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4676), np.float64(1.0): np.int64(7014)}
2025-11-10 21:28:47.386 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11690
2025-11-10 21:28:47.386 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.5572 - auc: 0.5122 - loss: 0.0450 - val_accuracy: 0.5911 - val_auc: 0.5508 - val_loss: 0.0423
Epoch 2/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5945 - auc: 0.5456 - loss: 0.0423 - val_accuracy: 0.5907 - val_auc: 0.5687 - val_loss: 0.0420
Epoch 3/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5998 - auc: 0.5732 - loss: 0.0417 - val_accuracy: 0.5911 - val_auc: 0.5964 - val_loss: 0.0416
Epoch 4/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6019 - auc: 0.5836 - loss: 0.0415 - val_accuracy: 0.5950 - val_auc: 0.6111 - val_loss: 0.0415
Epoch 5/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6127 - auc: 0.6036 - loss: 0.0410 - val_accuracy: 0.5954 - val_auc: 0.6205 - val_loss: 0.0410
Epoch 6/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6114 - auc: 0.6165 - loss: 0.0407 - val_accuracy: 0.5992 - val_auc: 0.6199 - val_loss: 0.0411
Epoch 7/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6200 - auc: 0.6384 - loss: 0.0403 - val_accuracy: 0.6078 - val_auc: 0.6339 - val_loss: 0.0408
Epoch 8/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6236 - auc: 0.6469 - loss: 0.0398 - val_accuracy: 0.6172 - val_auc: 0.6683 - val_loss: 0.0399
Epoch 9/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6362 - auc: 0.6620 - loss: 0.0393 - val_accuracy: 0.6305 - val_auc: 0.6692 - val_loss: 0.0394
Epoch 10/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6345 - auc: 0.6729 - loss: 0.0391 - val_accuracy: 0.6343 - val_auc: 0.6806 - val_loss: 0.0395
Epoch 11/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6483 - auc: 0.6989 - loss: 0.0382 - val_accuracy: 0.6283 - val_auc: 0.6870 - val_loss: 0.0392
Epoch 12/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6515 - auc: 0.7086 - loss: 0.0378 - val_accuracy: 0.6429 - val_auc: 0.6982 - val_loss: 0.0387
Epoch 13/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6631 - auc: 0.7214 - loss: 0.0372 - val_accuracy: 0.6531 - val_auc: 0.7110 - val_loss: 0.0382
Epoch 14/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6713 - auc: 0.7411 - loss: 0.0363 - val_accuracy: 0.6685 - val_auc: 0.7294 - val_loss: 0.0376
Epoch 15/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6893 - auc: 0.7562 - loss: 0.0358 - val_accuracy: 0.6732 - val_auc: 0.7379 - val_loss: 0.0372
Epoch 16/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7005 - auc: 0.7703 - loss: 0.0349 - val_accuracy: 0.6779 - val_auc: 0.7388 - val_loss: 0.0375
Epoch 17/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7020 - auc: 0.7756 - loss: 0.0346 - val_accuracy: 0.6788 - val_auc: 0.7396 - val_loss: 0.0371
Epoch 18/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7127 - auc: 0.7897 - loss: 0.0338 - val_accuracy: 0.6891 - val_auc: 0.7480 - val_loss: 0.0373
Epoch 19/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7201 - auc: 0.8045 - loss: 0.0332 - val_accuracy: 0.7027 - val_auc: 0.7674 - val_loss: 0.0363
Epoch 20/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7313 - auc: 0.8131 - loss: 0.0326 - val_accuracy: 0.6993 - val_auc: 0.7679 - val_loss: 0.0361
Epoch 21/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7335 - auc: 0.8134 - loss: 0.0324 - val_accuracy: 0.7040 - val_auc: 0.7761 - val_loss: 0.0358
Epoch 22/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7440 - auc: 0.8257 - loss: 0.0317 - val_accuracy: 0.7074 - val_auc: 0.7749 - val_loss: 0.0364
Epoch 23/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7517 - auc: 0.8343 - loss: 0.0309 - val_accuracy: 0.7083 - val_auc: 0.7821 - val_loss: 0.0360
Epoch 24/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7560 - auc: 0.8384 - loss: 0.0308 - val_accuracy: 0.6933 - val_auc: 0.7640 - val_loss: 0.0372
Epoch 25/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7659 - auc: 0.8466 - loss: 0.0300 - val_accuracy: 0.7062 - val_auc: 0.7756 - val_loss: 0.0363
Epoch 26/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7651 - auc: 0.8518 - loss: 0.0295 - val_accuracy: 0.7019 - val_auc: 0.7742 - val_loss: 0.0369
Epoch 27/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7652 - auc: 0.8543 - loss: 0.0294 - val_accuracy: 0.7117 - val_auc: 0.7852 - val_loss: 0.0362
Epoch 28/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7765 - auc: 0.8593 - loss: 0.0290 - val_accuracy: 0.7147 - val_auc: 0.7949 - val_loss: 0.0357
Epoch 29/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7771 - auc: 0.8629 - loss: 0.0288 - val_accuracy: 0.7173 - val_auc: 0.7874 - val_loss: 0.0371
Epoch 30/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7862 - auc: 0.8692 - loss: 0.0281 - val_accuracy: 0.7314 - val_auc: 0.8013 - val_loss: 0.0356
Epoch 31/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7873 - auc: 0.8735 - loss: 0.0276 - val_accuracy: 0.7250 - val_auc: 0.7969 - val_loss: 0.0366
Epoch 32/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7890 - auc: 0.8748 - loss: 0.0277 - val_accuracy: 0.7361 - val_auc: 0.8064 - val_loss: 0.0360
Epoch 33/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7958 - auc: 0.8802 - loss: 0.0270 - val_accuracy: 0.7370 - val_auc: 0.8102 - val_loss: 0.0360
Epoch 34/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7937 - auc: 0.8800 - loss: 0.0271 - val_accuracy: 0.7297 - val_auc: 0.8080 - val_loss: 0.0360
Epoch 35/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8037 - auc: 0.8893 - loss: 0.0261 - val_accuracy: 0.7181 - val_auc: 0.7990 - val_loss: 0.0369
Epoch 36/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8038 - auc: 0.8907 - loss: 0.0260 - val_accuracy: 0.7374 - val_auc: 0.8036 - val_loss: 0.0376
Epoch 37/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8074 - auc: 0.8927 - loss: 0.0258 - val_accuracy: 0.7378 - val_auc: 0.8063 - val_loss: 0.0374
Epoch 38/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8092 - auc: 0.8936 - loss: 0.0256 - val_accuracy: 0.7408 - val_auc: 0.8153 - val_loss: 0.0356
Epoch 39/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8132 - auc: 0.8991 - loss: 0.0250 - val_accuracy: 0.7438 - val_auc: 0.8195 - val_loss: 0.0355
Epoch 40/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8183 - auc: 0.9008 - loss: 0.0248 - val_accuracy: 0.7378 - val_auc: 0.8129 - val_loss: 0.0379
Epoch 41/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8100 - auc: 0.8988 - loss: 0.0249 - val_accuracy: 0.7322 - val_auc: 0.8099 - val_loss: 0.0386
Epoch 42/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8113 - auc: 0.8984 - loss: 0.0250 - val_accuracy: 0.7335 - val_auc: 0.8102 - val_loss: 0.0371
Epoch 43/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8133 - auc: 0.9007 - loss: 0.0247 - val_accuracy: 0.7352 - val_auc: 0.8160 - val_loss: 0.0372
Epoch 44/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.8232 - auc: 0.9074 - loss: 0.0240 - val_accuracy: 0.7340 - val_auc: 0.8168 - val_loss: 0.0379
Epoch 45/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8252 - auc: 0.9110 - loss: 0.0237 - val_accuracy: 0.7344 - val_auc: 0.8074 - val_loss: 0.0383
Epoch 46/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8311 - auc: 0.9139 - loss: 0.0232 - val_accuracy: 0.7515 - val_auc: 0.8203 - val_loss: 0.0402
Epoch 47/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8277 - auc: 0.9124 - loss: 0.0236 - val_accuracy: 0.7408 - val_auc: 0.8167 - val_loss: 0.0386
Epoch 48/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8294 - auc: 0.9158 - loss: 0.0231 - val_accuracy: 0.7498 - val_auc: 0.8263 - val_loss: 0.0385
Epoch 49/50
293/293 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8371 - auc: 0.9192 - loss: 0.0227 - val_accuracy: 0.7459 - val_auc: 0.8211 - val_loss: 0.0385
2025-11-10 21:31:46.345 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 49
2025-11-10 21:31:46.345 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0227, Accuracy: 0.8371, AUC: 0.9192
2025-11-10 21:31:46.347 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0385, Accuracy: 0.7459, AUC: 0.8211
2025-11-10 21:31:46.350 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:31:46.438 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:31:47.406 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13781 data points.
2025-11-10 21:31:47.481 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13761 sequences.
2025-11-10 21:31:49.181 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:31:49.200 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:31:49.201 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:31:49.201 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\PainX_1200\PainX_1200_H1'...
2025-11-10 21:31:49.245 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\PainX_1200\PainX_1200_H1\random_forest.pkl
2025-11-10 21:31:49.277 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\PainX_1200\PainX_1200_H1\gradient_boosting.pkl
2025-11-10 21:31:49.326 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\PainX_1200\PainX_1200_H1\lstm.keras and models\PainX_1200\PainX_1200_H1\lstm_scaler.pkl
2025-11-10 21:31:49.327 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\PainX_1200\PainX_1200_H1\feature_info.pkl
2025-11-10 21:31:49.329 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\PainX_1200\PainX_1200_H1\meta_model.pkl
2025-11-10 21:31:49.332 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\PainX_1200\PainX_1200_H1\training_metadata.json
2025-11-10 21:31:49.332 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training PainX 1200 [1h] (36/40)
2025-11-10 21:31:49.332 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 1200 [1m] ---
2025-11-10 21:31:49.342 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [1m] from MT5
2025-11-10 21:31:49.342 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 21:31:51.344 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:31:52.552 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:31:56.045 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:31:56.046 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:32:06.317 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17819 signals total, 14098 profitable (79.1% win rate), 3721 unprofitable
2025-11-10 21:32:06.407 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17819, 116), Shape of y: (17819,)
2025-11-10 21:32:06.420 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17819 data points.
2025-11-10 21:32:06.627 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17769 sequences.
2025-11-10 21:32:06.687 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:32:06.687 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:32:06.694 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:32:06.694 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:32:06.729 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:32:12.397 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:32:12.398 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:34:56.347 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:34:56.349 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:34:56.349 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:34:56.389 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:34:56.390 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(3706), np.float64(1.0): np.int64(14063)}
2025-11-10 21:34:56.391 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17769
2025-11-10 21:34:56.519 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 14063 to 5559
2025-11-10 21:34:56.520 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(3706), np.float64(1.0): np.int64(5559)}
2025-11-10 21:34:56.521 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 9265
2025-11-10 21:34:56.524 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 5s 13ms/step - accuracy: 0.5403 - auc: 0.5013 - loss: 0.0448 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0422
Epoch 2/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5815 - auc: 0.5063 - loss: 0.0428 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0422
Epoch 3/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5904 - auc: 0.4989 - loss: 0.0426 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0422
Epoch 4/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5986 - auc: 0.4953 - loss: 0.0425 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0422
Epoch 5/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5971 - auc: 0.5006 - loss: 0.0424 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0422
Epoch 6/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5996 - auc: 0.5037 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0421
Epoch 7/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5977 - auc: 0.5016 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0421
Epoch 8/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5028 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0421
Epoch 9/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4848 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0421
Epoch 10/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5994 - auc: 0.4967 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0421
Epoch 11/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5997 - auc: 0.4956 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 12/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4977 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 13/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5081 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 14/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5030 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 15/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5000 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 16/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4999 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 17/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5096 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 18/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5020 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 19/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5993 - auc: 0.4905 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 20/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5989 - auc: 0.5041 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 21/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.4959 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 22/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5989 - auc: 0.5057 - loss: 0.0422 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 23/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4990 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 24/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4963 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 25/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5003 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 26/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5028 - loss: 0.0422 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 27/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4978 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 28/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5024 - loss: 0.0422 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 29/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5044 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 30/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4992 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 31/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.5006 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 32/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5990 - auc: 0.4995 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 33/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4988 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 34/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4963 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 35/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4990 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 36/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.5004 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
Epoch 37/50
232/232 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5992 - auc: 0.4996 - loss: 0.0423 - val_accuracy: 0.6033 - val_auc: 0.5031 - val_loss: 0.0420
2025-11-10 21:36:44.878 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 37
2025-11-10 21:36:44.878 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0423, Accuracy: 0.5992, AUC: 0.4996
2025-11-10 21:36:44.880 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0420, Accuracy: 0.6033, AUC: 0.5031
2025-11-10 21:36:44.883 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:36:44.953 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:36:46.205 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17819 data points.
2025-11-10 21:36:46.300 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17799 sequences.
2025-11-10 21:36:48.273 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:36:48.297 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:36:48.299 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:36:48.299 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_1200\GainX_1200_M1'...
2025-11-10 21:36:48.349 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M1\random_forest.pkl
2025-11-10 21:36:48.360 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M1\gradient_boosting.pkl
2025-11-10 21:36:48.388 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_1200\GainX_1200_M1\lstm.keras and models\GainX_1200\GainX_1200_M1\lstm_scaler.pkl
2025-11-10 21:36:48.389 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_1200\GainX_1200_M1\feature_info.pkl
2025-11-10 21:36:48.392 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_1200\GainX_1200_M1\meta_model.pkl
2025-11-10 21:36:48.395 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_1200\GainX_1200_M1\training_metadata.json
2025-11-10 21:36:48.396 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 1200 [1m] (37/40)
2025-11-10 21:36:48.396 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 1200 [5m] ---
2025-11-10 21:36:50.186 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [5m] from MT5
2025-11-10 21:36:50.186 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 500)
2025-11-10 21:36:52.188 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:36:53.406 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:36:56.955 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:36:56.956 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:37:06.937 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17188 signals total, 12623 profitable (73.4% win rate), 4565 unprofitable
2025-11-10 21:37:07.029 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17188, 116), Shape of y: (17188,)
2025-11-10 21:37:07.044 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17188 data points.
2025-11-10 21:37:07.240 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17138 sequences.
2025-11-10 21:37:07.317 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:37:07.317 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:37:07.342 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:37:07.343 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:37:07.376 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:37:13.562 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:37:13.563 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:40:22.329 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:40:22.331 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:40:22.332 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:40:22.370 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:40:22.371 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4542), np.float64(1.0): np.int64(12596)}
2025-11-10 21:40:22.372 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17138
2025-11-10 21:40:22.528 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 12596 to 6813
2025-11-10 21:40:22.529 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4542), np.float64(1.0): np.int64(6813)}
2025-11-10 21:40:22.530 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11355
2025-11-10 21:40:22.533 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 6s 13ms/step - accuracy: 0.5764 - auc: 0.5464 - loss: 0.0438 - val_accuracy: 0.6138 - val_auc: 0.6113 - val_loss: 0.0416
Epoch 2/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5855 - auc: 0.5734 - loss: 0.0421 - val_accuracy: 0.6129 - val_auc: 0.6099 - val_loss: 0.0417
Epoch 3/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.5961 - auc: 0.5858 - loss: 0.0418 - val_accuracy: 0.6090 - val_auc: 0.6189 - val_loss: 0.0414
Epoch 4/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6037 - auc: 0.5918 - loss: 0.0416 - val_accuracy: 0.6143 - val_auc: 0.6146 - val_loss: 0.0412
Epoch 5/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6090 - auc: 0.5994 - loss: 0.0416 - val_accuracy: 0.6200 - val_auc: 0.6211 - val_loss: 0.0412
Epoch 6/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6133 - auc: 0.5991 - loss: 0.0416 - val_accuracy: 0.6253 - val_auc: 0.6323 - val_loss: 0.0411
Epoch 7/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6116 - auc: 0.6107 - loss: 0.0413 - val_accuracy: 0.6288 - val_auc: 0.6309 - val_loss: 0.0412
Epoch 8/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6170 - auc: 0.6159 - loss: 0.0411 - val_accuracy: 0.6380 - val_auc: 0.6346 - val_loss: 0.0408
Epoch 9/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6254 - auc: 0.6177 - loss: 0.0411 - val_accuracy: 0.6314 - val_auc: 0.6358 - val_loss: 0.0408
Epoch 10/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6237 - auc: 0.6261 - loss: 0.0409 - val_accuracy: 0.6279 - val_auc: 0.6332 - val_loss: 0.0407
Epoch 11/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6173 - auc: 0.6306 - loss: 0.0408 - val_accuracy: 0.6262 - val_auc: 0.6364 - val_loss: 0.0408
Epoch 12/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6203 - auc: 0.6342 - loss: 0.0407 - val_accuracy: 0.6226 - val_auc: 0.6367 - val_loss: 0.0407
Epoch 13/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.6227 - auc: 0.6398 - loss: 0.0404 - val_accuracy: 0.6372 - val_auc: 0.6513 - val_loss: 0.0405
Epoch 14/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6382 - auc: 0.6559 - loss: 0.0399 - val_accuracy: 0.6429 - val_auc: 0.6514 - val_loss: 0.0403
Epoch 15/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6286 - auc: 0.6569 - loss: 0.0400 - val_accuracy: 0.6398 - val_auc: 0.6541 - val_loss: 0.0402
Epoch 16/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.6412 - auc: 0.6706 - loss: 0.0396 - val_accuracy: 0.6451 - val_auc: 0.6601 - val_loss: 0.0400
Epoch 17/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6374 - auc: 0.6709 - loss: 0.0394 - val_accuracy: 0.6460 - val_auc: 0.6581 - val_loss: 0.0402
Epoch 18/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6424 - auc: 0.6782 - loss: 0.0392 - val_accuracy: 0.6451 - val_auc: 0.6665 - val_loss: 0.0396
Epoch 19/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6477 - auc: 0.6814 - loss: 0.0391 - val_accuracy: 0.6451 - val_auc: 0.6553 - val_loss: 0.0399
Epoch 20/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6509 - auc: 0.6960 - loss: 0.0386 - val_accuracy: 0.6508 - val_auc: 0.6699 - val_loss: 0.0395
Epoch 21/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.6460 - auc: 0.6980 - loss: 0.0385 - val_accuracy: 0.6495 - val_auc: 0.6741 - val_loss: 0.0393
Epoch 22/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6528 - auc: 0.7079 - loss: 0.0381 - val_accuracy: 0.6438 - val_auc: 0.6838 - val_loss: 0.0390
Epoch 23/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6593 - auc: 0.7112 - loss: 0.0378 - val_accuracy: 0.6605 - val_auc: 0.6853 - val_loss: 0.0389
Epoch 24/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6618 - auc: 0.7242 - loss: 0.0374 - val_accuracy: 0.6631 - val_auc: 0.6887 - val_loss: 0.0388
Epoch 25/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6629 - auc: 0.7269 - loss: 0.0372 - val_accuracy: 0.6596 - val_auc: 0.6937 - val_loss: 0.0385
Epoch 26/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6673 - auc: 0.7330 - loss: 0.0367 - val_accuracy: 0.6521 - val_auc: 0.6865 - val_loss: 0.0387
Epoch 27/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6703 - auc: 0.7361 - loss: 0.0365 - val_accuracy: 0.6570 - val_auc: 0.6957 - val_loss: 0.0387
Epoch 28/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6727 - auc: 0.7394 - loss: 0.0365 - val_accuracy: 0.6631 - val_auc: 0.6933 - val_loss: 0.0385
Epoch 29/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6782 - auc: 0.7494 - loss: 0.0360 - val_accuracy: 0.6653 - val_auc: 0.7009 - val_loss: 0.0384
Epoch 30/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.6837 - auc: 0.7597 - loss: 0.0355 - val_accuracy: 0.6623 - val_auc: 0.7151 - val_loss: 0.0381
Epoch 31/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6925 - auc: 0.7636 - loss: 0.0353 - val_accuracy: 0.6543 - val_auc: 0.7124 - val_loss: 0.0380
Epoch 32/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6966 - auc: 0.7725 - loss: 0.0347 - val_accuracy: 0.6561 - val_auc: 0.7213 - val_loss: 0.0376
Epoch 33/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.6952 - auc: 0.7702 - loss: 0.0349 - val_accuracy: 0.6618 - val_auc: 0.7239 - val_loss: 0.0377
Epoch 34/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6951 - auc: 0.7752 - loss: 0.0343 - val_accuracy: 0.6596 - val_auc: 0.7092 - val_loss: 0.0391
Epoch 35/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7048 - auc: 0.7870 - loss: 0.0337 - val_accuracy: 0.6636 - val_auc: 0.7189 - val_loss: 0.0387
Epoch 36/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7099 - auc: 0.7902 - loss: 0.0336 - val_accuracy: 0.6697 - val_auc: 0.7317 - val_loss: 0.0376
Epoch 37/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7151 - auc: 0.7958 - loss: 0.0333 - val_accuracy: 0.6596 - val_auc: 0.7247 - val_loss: 0.0381
Epoch 38/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7186 - auc: 0.7992 - loss: 0.0332 - val_accuracy: 0.6675 - val_auc: 0.7322 - val_loss: 0.0376
Epoch 39/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7173 - auc: 0.8007 - loss: 0.0329 - val_accuracy: 0.6794 - val_auc: 0.7460 - val_loss: 0.0371
Epoch 40/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7226 - auc: 0.8052 - loss: 0.0326 - val_accuracy: 0.6667 - val_auc: 0.7397 - val_loss: 0.0382
Epoch 41/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7184 - auc: 0.8032 - loss: 0.0329 - val_accuracy: 0.6794 - val_auc: 0.7536 - val_loss: 0.0367
Epoch 42/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7294 - auc: 0.8149 - loss: 0.0320 - val_accuracy: 0.6724 - val_auc: 0.7448 - val_loss: 0.0377
Epoch 43/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7334 - auc: 0.8183 - loss: 0.0318 - val_accuracy: 0.6742 - val_auc: 0.7429 - val_loss: 0.0375
Epoch 44/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7361 - auc: 0.8212 - loss: 0.0314 - val_accuracy: 0.6790 - val_auc: 0.7551 - val_loss: 0.0371
Epoch 45/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7330 - auc: 0.8198 - loss: 0.0317 - val_accuracy: 0.6786 - val_auc: 0.7616 - val_loss: 0.0369
Epoch 46/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7443 - auc: 0.8277 - loss: 0.0311 - val_accuracy: 0.6737 - val_auc: 0.7560 - val_loss: 0.0367
Epoch 47/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7420 - auc: 0.8307 - loss: 0.0305 - val_accuracy: 0.6909 - val_auc: 0.7624 - val_loss: 0.0370
Epoch 48/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7384 - auc: 0.8270 - loss: 0.0311 - val_accuracy: 0.6759 - val_auc: 0.7609 - val_loss: 0.0365
Epoch 49/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7474 - auc: 0.8299 - loss: 0.0310 - val_accuracy: 0.6808 - val_auc: 0.7607 - val_loss: 0.0368
Epoch 50/50
284/284 ━━━━━━━━━━━━━━━━━━━━ 3s 12ms/step - accuracy: 0.7426 - auc: 0.8324 - loss: 0.0305 - val_accuracy: 0.6904 - val_auc: 0.7659 - val_loss: 0.0370
2025-11-10 21:43:24.137 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 50
2025-11-10 21:43:24.137 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0305, Accuracy: 0.7426, AUC: 0.8324
2025-11-10 21:43:24.138 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0370, Accuracy: 0.6904, AUC: 0.7659
2025-11-10 21:43:24.139 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:43:24.249 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:43:25.454 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17188 data points.
2025-11-10 21:43:25.546 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17168 sequences.
2025-11-10 21:43:27.498 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:43:27.520 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:43:27.522 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:43:27.523 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_1200\GainX_1200_M5'...
2025-11-10 21:43:27.563 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M5\random_forest.pkl
2025-11-10 21:43:27.573 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M5\gradient_boosting.pkl
2025-11-10 21:43:27.620 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_1200\GainX_1200_M5\lstm.keras and models\GainX_1200\GainX_1200_M5\lstm_scaler.pkl
2025-11-10 21:43:27.621 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_1200\GainX_1200_M5\feature_info.pkl
2025-11-10 21:43:27.623 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_1200\GainX_1200_M5\meta_model.pkl
2025-11-10 21:43:27.625 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_1200\GainX_1200_M5\training_metadata.json
2025-11-10 21:43:27.625 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 1200 [5m] (38/40)
2025-11-10 21:43:27.626 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 1200 [15m] ---
2025-11-10 21:43:27.797 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 20000 candles for GainX 1200 [15m] from MT5
2025-11-10 21:43:27.797 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 20000 candles (minimum: 2000)
2025-11-10 21:43:29.799 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:43:30.967 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:43:34.526 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:43:34.527 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:43:44.431 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 17056 signals total, 11915 profitable (69.9% win rate), 5141 unprofitable
2025-11-10 21:43:44.517 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (17056, 116), Shape of y: (17056,)
2025-11-10 21:43:44.529 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 17056 data points.
2025-11-10 21:43:44.731 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17006 sequences.
2025-11-10 21:43:44.810 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:43:44.810 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:43:44.815 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:43:44.816 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:43:44.846 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:43:51.395 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:43:51.397 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:47:17.057 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:47:17.059 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:47:17.059 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:47:17.098 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:47:17.099 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(5122), np.float64(1.0): np.int64(11884)}
2025-11-10 21:47:17.100 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 17006
2025-11-10 21:47:17.276 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 11884 to 7683
2025-11-10 21:47:17.277 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(5122), np.float64(1.0): np.int64(7683)}
2025-11-10 21:47:17.278 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 12805
2025-11-10 21:47:17.281 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 6s 14ms/step - accuracy: 0.5594 - auc: 0.5283 - loss: 0.0445 - val_accuracy: 0.6002 - val_auc: 0.5836 - val_loss: 0.0417
Epoch 2/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6014 - auc: 0.5729 - loss: 0.0419 - val_accuracy: 0.6025 - val_auc: 0.5952 - val_loss: 0.0416
Epoch 3/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6021 - auc: 0.5696 - loss: 0.0418 - val_accuracy: 0.6025 - val_auc: 0.5974 - val_loss: 0.0416
Epoch 4/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6072 - auc: 0.5872 - loss: 0.0415 - val_accuracy: 0.5998 - val_auc: 0.5927 - val_loss: 0.0416
Epoch 5/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6092 - auc: 0.5871 - loss: 0.0414 - val_accuracy: 0.6130 - val_auc: 0.6129 - val_loss: 0.0411
Epoch 6/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6158 - auc: 0.5973 - loss: 0.0412 - val_accuracy: 0.6162 - val_auc: 0.6263 - val_loss: 0.0409
Epoch 7/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6199 - auc: 0.6139 - loss: 0.0408 - val_accuracy: 0.6158 - val_auc: 0.6389 - val_loss: 0.0407
Epoch 8/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6273 - auc: 0.6201 - loss: 0.0406 - val_accuracy: 0.6173 - val_auc: 0.6236 - val_loss: 0.0409
Epoch 9/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6355 - auc: 0.6337 - loss: 0.0402 - val_accuracy: 0.6294 - val_auc: 0.6403 - val_loss: 0.0403
Epoch 10/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6311 - auc: 0.6343 - loss: 0.0402 - val_accuracy: 0.6193 - val_auc: 0.6392 - val_loss: 0.0405
Epoch 11/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6414 - auc: 0.6543 - loss: 0.0397 - val_accuracy: 0.6412 - val_auc: 0.6631 - val_loss: 0.0397
Epoch 12/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6499 - auc: 0.6652 - loss: 0.0395 - val_accuracy: 0.6501 - val_auc: 0.6779 - val_loss: 0.0394
Epoch 13/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6544 - auc: 0.6847 - loss: 0.0388 - val_accuracy: 0.6423 - val_auc: 0.6743 - val_loss: 0.0395
Epoch 14/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6585 - auc: 0.6902 - loss: 0.0383 - val_accuracy: 0.6439 - val_auc: 0.6798 - val_loss: 0.0393
Epoch 15/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6682 - auc: 0.7024 - loss: 0.0379 - val_accuracy: 0.6501 - val_auc: 0.6876 - val_loss: 0.0389
Epoch 16/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6717 - auc: 0.7139 - loss: 0.0373 - val_accuracy: 0.6544 - val_auc: 0.6975 - val_loss: 0.0386
Epoch 17/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6845 - auc: 0.7276 - loss: 0.0367 - val_accuracy: 0.6579 - val_auc: 0.6994 - val_loss: 0.0387
Epoch 18/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6877 - auc: 0.7289 - loss: 0.0367 - val_accuracy: 0.6583 - val_auc: 0.7079 - val_loss: 0.0386
Epoch 19/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6900 - auc: 0.7401 - loss: 0.0363 - val_accuracy: 0.6689 - val_auc: 0.7259 - val_loss: 0.0378
Epoch 20/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6983 - auc: 0.7530 - loss: 0.0355 - val_accuracy: 0.6661 - val_auc: 0.7172 - val_loss: 0.0383
Epoch 21/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.6993 - auc: 0.7601 - loss: 0.0352 - val_accuracy: 0.6650 - val_auc: 0.7180 - val_loss: 0.0382
Epoch 22/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7097 - auc: 0.7717 - loss: 0.0346 - val_accuracy: 0.6861 - val_auc: 0.7378 - val_loss: 0.0372
Epoch 23/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7138 - auc: 0.7791 - loss: 0.0343 - val_accuracy: 0.6786 - val_auc: 0.7345 - val_loss: 0.0379
Epoch 24/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7176 - auc: 0.7843 - loss: 0.0338 - val_accuracy: 0.6814 - val_auc: 0.7395 - val_loss: 0.0376
Epoch 25/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7181 - auc: 0.7833 - loss: 0.0341 - val_accuracy: 0.6868 - val_auc: 0.7434 - val_loss: 0.0378
Epoch 26/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7216 - auc: 0.7952 - loss: 0.0333 - val_accuracy: 0.6954 - val_auc: 0.7382 - val_loss: 0.0380
Epoch 27/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7281 - auc: 0.8001 - loss: 0.0329 - val_accuracy: 0.6943 - val_auc: 0.7433 - val_loss: 0.0374
Epoch 28/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7308 - auc: 0.8085 - loss: 0.0326 - val_accuracy: 0.6974 - val_auc: 0.7500 - val_loss: 0.0379
Epoch 29/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7316 - auc: 0.8043 - loss: 0.0328 - val_accuracy: 0.6954 - val_auc: 0.7477 - val_loss: 0.0374
Epoch 30/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7417 - auc: 0.8199 - loss: 0.0318 - val_accuracy: 0.6982 - val_auc: 0.7522 - val_loss: 0.0378
Epoch 31/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7357 - auc: 0.8129 - loss: 0.0322 - val_accuracy: 0.7017 - val_auc: 0.7684 - val_loss: 0.0366
Epoch 32/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7453 - auc: 0.8251 - loss: 0.0313 - val_accuracy: 0.7017 - val_auc: 0.7734 - val_loss: 0.0366
Epoch 33/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 5s 11ms/step - accuracy: 0.7520 - auc: 0.8329 - loss: 0.0308 - val_accuracy: 0.7029 - val_auc: 0.7729 - val_loss: 0.0367
Epoch 34/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7564 - auc: 0.8377 - loss: 0.0305 - val_accuracy: 0.7107 - val_auc: 0.7715 - val_loss: 0.0371
Epoch 35/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7547 - auc: 0.8359 - loss: 0.0305 - val_accuracy: 0.7114 - val_auc: 0.7769 - val_loss: 0.0368
Epoch 36/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7602 - auc: 0.8428 - loss: 0.0300 - val_accuracy: 0.7142 - val_auc: 0.7823 - val_loss: 0.0370
Epoch 37/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7673 - auc: 0.8499 - loss: 0.0292 - val_accuracy: 0.7087 - val_auc: 0.7750 - val_loss: 0.0374
Epoch 38/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7684 - auc: 0.8546 - loss: 0.0292 - val_accuracy: 0.7126 - val_auc: 0.7796 - val_loss: 0.0370
Epoch 39/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7632 - auc: 0.8478 - loss: 0.0296 - val_accuracy: 0.7157 - val_auc: 0.7865 - val_loss: 0.0363
Epoch 40/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7730 - auc: 0.8573 - loss: 0.0288 - val_accuracy: 0.7130 - val_auc: 0.7831 - val_loss: 0.0364
Epoch 41/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7724 - auc: 0.8590 - loss: 0.0287 - val_accuracy: 0.7212 - val_auc: 0.7904 - val_loss: 0.0371
Epoch 42/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7783 - auc: 0.8644 - loss: 0.0283 - val_accuracy: 0.7220 - val_auc: 0.7967 - val_loss: 0.0365
Epoch 43/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7785 - auc: 0.8662 - loss: 0.0282 - val_accuracy: 0.7212 - val_auc: 0.7951 - val_loss: 0.0368
Epoch 44/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 11ms/step - accuracy: 0.7765 - auc: 0.8676 - loss: 0.0281 - val_accuracy: 0.7263 - val_auc: 0.7959 - val_loss: 0.0370
Epoch 45/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7807 - auc: 0.8676 - loss: 0.0280 - val_accuracy: 0.7267 - val_auc: 0.7926 - val_loss: 0.0377
Epoch 46/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7876 - auc: 0.8749 - loss: 0.0271 - val_accuracy: 0.7153 - val_auc: 0.7866 - val_loss: 0.0386
Epoch 47/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7843 - auc: 0.8705 - loss: 0.0276 - val_accuracy: 0.7224 - val_auc: 0.7892 - val_loss: 0.0385
Epoch 48/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7897 - auc: 0.8776 - loss: 0.0272 - val_accuracy: 0.7317 - val_auc: 0.7992 - val_loss: 0.0370
Epoch 49/50
321/321 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.7948 - auc: 0.8825 - loss: 0.0265 - val_accuracy: 0.7255 - val_auc: 0.8012 - val_loss: 0.0377
2025-11-10 21:50:26.807 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 49
2025-11-10 21:50:26.808 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0265, Accuracy: 0.7948, AUC: 0.8825
2025-11-10 21:50:26.809 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0377, Accuracy: 0.7255, AUC: 0.8012
2025-11-10 21:50:26.812 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:50:26.922 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:50:28.110 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 17056 data points.
2025-11-10 21:50:28.201 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 17036 sequences.
2025-11-10 21:50:30.135 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:50:30.157 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:50:30.158 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:50:30.159 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_1200\GainX_1200_M15'...
2025-11-10 21:50:30.248 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_M15\random_forest.pkl
2025-11-10 21:50:30.257 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_M15\gradient_boosting.pkl
2025-11-10 21:50:30.305 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_1200\GainX_1200_M15\lstm.keras and models\GainX_1200\GainX_1200_M15\lstm_scaler.pkl
2025-11-10 21:50:30.306 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_1200\GainX_1200_M15\feature_info.pkl
2025-11-10 21:50:30.308 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_1200\GainX_1200_M15\meta_model.pkl
2025-11-10 21:50:30.310 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_1200\GainX_1200_M15\training_metadata.json
2025-11-10 21:50:30.311 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 1200 [15m] (39/40)
2025-11-10 21:50:30.311 | INFO     | __main__:train_from_mt5:353 -
--- Training GainX 1200 [1h] ---
2025-11-10 21:50:30.454 | SUCCESS  | __main__:download_data_from_mt5:135 - Downloaded 16312 candles for GainX 1200 [1h] from MT5
2025-11-10 21:50:30.456 | INFO     | __main__:train_from_mt5:402 - ✓ Data validation passed: 16312 candles (minimum: 2000)
2025-11-10 21:50:32.461 | INFO     | __main__:prepare_training_data:156 - Preparing data for training with Meta-Labeling...
2025-11-10 21:50:33.480 | DEBUG    | src.ai_engine.technical_indicators:calculate_all:47 - Calculated 61 technical indicators
2025-11-10 21:50:36.384 | DEBUG    | src.ai_engine.feature_engineering:extract_features:66 - Extracted 116 features
2025-11-10 21:50:36.385 | INFO     | __main__:prepare_training_data:163 - Generating signals from primary model (SimplePatternModel)...
2025-11-10 21:50:44.525 | INFO     | src.ai_engine.ai_models:create_meta_labels:927 - Meta-labeling stats: 13977 signals total, 9160 profitable (65.5% win rate), 4817 unprofitable
2025-11-10 21:50:44.599 | INFO     | __main__:prepare_training_data:200 - Data preparation complete. Shape of X: (13977, 116), Shape of y: (13977,)
2025-11-10 21:50:44.612 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 50 from 13977 data points.
2025-11-10 21:50:44.779 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13927 sequences.
2025-11-10 21:50:44.861 | INFO     | __main__:train_from_mt5:424 - Training Ensemble model...
2025-11-10 21:50:44.862 | INFO     | src.ai_engine.ai_models:__init__:340 - Initialized Stacking Ensemble.
2025-11-10 21:50:44.867 | INFO     | src.ai_engine.ai_models:fit:378 - Creating LSTM model...
2025-11-10 21:50:44.867 | INFO     | src.ai_engine.ai_models:fit:382 - Training base models...
2025-11-10 21:50:44.892 | INFO     | src.ai_engine.ai_models:fit:387 - Training random_forest...
2025-11-10 21:50:50.327 | INFO     | src.ai_engine.ai_models:fit:118 - RandomForest trained successfully.
2025-11-10 21:50:50.328 | INFO     | src.ai_engine.ai_models:fit:387 - Training gradient_boosting...
2025-11-10 21:53:35.163 | INFO     | src.ai_engine.ai_models:fit:176 - GradientBoosting trained successfully.
2025-11-10 21:53:35.164 | INFO     | src.ai_engine.ai_models:fit:387 - Training pattern_based...
2025-11-10 21:53:35.166 | INFO     | src.ai_engine.ai_models:fit:387 - Training lstm...
C:\Users\wille\Downloads\trading-bot-indices\venv_trading\Lib\site-packages\keras\src\layers\rnn\rnn.py:199: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
2025-11-10 21:53:35.205 | INFO     | src.ai_engine.ai_models:_build_model:622 - LSTM model built with Binary Focal Loss (alpha=0.25, gamma=2.0)
2025-11-10 21:53:35.206 | INFO     | src.ai_engine.ai_models:fit:645 - Original class distribution: {np.float64(0.0): np.int64(4796), np.float64(1.0): np.int64(9131)}
2025-11-10 21:53:35.211 | INFO     | src.ai_engine.ai_models:fit:646 - Original total samples: 13927
2025-11-10 21:53:35.371 | INFO     | src.ai_engine.ai_models:fit:672 - Applied undersampling: Profitable (class 1) reduced from 9131 to 7194
2025-11-10 21:53:35.372 | INFO     | src.ai_engine.ai_models:fit:682 - Balanced class distribution: {np.float64(0.0): np.int64(4796), np.float64(1.0): np.int64(7194)}
2025-11-10 21:53:35.373 | INFO     | src.ai_engine.ai_models:fit:683 - Balanced total samples: 11990
2025-11-10 21:53:35.376 | INFO     | src.ai_engine.ai_models:fit:684 - Class weights: {0: np.float64(1.25), 1: np.float64(0.8333333333333334)}
Epoch 1/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 7s 13ms/step - accuracy: 0.5566 - auc: 0.5173 - loss: 0.0452 - val_accuracy: 0.5930 - val_auc: 0.5654 - val_loss: 0.0419
Epoch 2/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.5951 - auc: 0.5512 - loss: 0.0422 - val_accuracy: 0.5938 - val_auc: 0.5568 - val_loss: 0.0420
Epoch 3/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6034 - auc: 0.5658 - loss: 0.0419 - val_accuracy: 0.6043 - val_auc: 0.5826 - val_loss: 0.0417
Epoch 4/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6071 - auc: 0.5661 - loss: 0.0417 - val_accuracy: 0.5984 - val_auc: 0.5800 - val_loss: 0.0416
Epoch 5/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6088 - auc: 0.5892 - loss: 0.0414 - val_accuracy: 0.5947 - val_auc: 0.5797 - val_loss: 0.0416
Epoch 6/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6151 - auc: 0.6082 - loss: 0.0410 - val_accuracy: 0.5984 - val_auc: 0.5989 - val_loss: 0.0414
Epoch 7/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.6153 - auc: 0.6113 - loss: 0.0408 - val_accuracy: 0.6055 - val_auc: 0.6112 - val_loss: 0.0410
Epoch 8/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6243 - auc: 0.6275 - loss: 0.0404 - val_accuracy: 0.6022 - val_auc: 0.6027 - val_loss: 0.0411
Epoch 9/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6278 - auc: 0.6457 - loss: 0.0399 - val_accuracy: 0.6088 - val_auc: 0.6032 - val_loss: 0.0412
Epoch 10/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6374 - auc: 0.6586 - loss: 0.0395 - val_accuracy: 0.6072 - val_auc: 0.6341 - val_loss: 0.0405
Epoch 11/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6460 - auc: 0.6786 - loss: 0.0390 - val_accuracy: 0.6218 - val_auc: 0.6440 - val_loss: 0.0402
Epoch 12/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6523 - auc: 0.6945 - loss: 0.0384 - val_accuracy: 0.6247 - val_auc: 0.6536 - val_loss: 0.0398
Epoch 13/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6527 - auc: 0.6993 - loss: 0.0381 - val_accuracy: 0.6197 - val_auc: 0.6568 - val_loss: 0.0396
Epoch 14/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6622 - auc: 0.7169 - loss: 0.0375 - val_accuracy: 0.6251 - val_auc: 0.6761 - val_loss: 0.0393
Epoch 15/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6817 - auc: 0.7385 - loss: 0.0366 - val_accuracy: 0.6364 - val_auc: 0.6890 - val_loss: 0.0390
Epoch 16/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6873 - auc: 0.7515 - loss: 0.0360 - val_accuracy: 0.6580 - val_auc: 0.7079 - val_loss: 0.0383
Epoch 17/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6991 - auc: 0.7669 - loss: 0.0351 - val_accuracy: 0.6685 - val_auc: 0.7231 - val_loss: 0.0381
Epoch 18/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.6966 - auc: 0.7702 - loss: 0.0349 - val_accuracy: 0.6568 - val_auc: 0.7154 - val_loss: 0.0381
Epoch 19/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7118 - auc: 0.7886 - loss: 0.0339 - val_accuracy: 0.6614 - val_auc: 0.7222 - val_loss: 0.0378
Epoch 20/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7225 - auc: 0.7973 - loss: 0.0336 - val_accuracy: 0.6693 - val_auc: 0.7302 - val_loss: 0.0383
Epoch 21/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.7287 - auc: 0.8067 - loss: 0.0329 - val_accuracy: 0.6822 - val_auc: 0.7439 - val_loss: 0.0376
Epoch 22/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.7400 - auc: 0.8193 - loss: 0.0320 - val_accuracy: 0.6952 - val_auc: 0.7579 - val_loss: 0.0370
Epoch 23/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 13ms/step - accuracy: 0.7418 - auc: 0.8251 - loss: 0.0319 - val_accuracy: 0.6872 - val_auc: 0.7580 - val_loss: 0.0378
Epoch 24/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7576 - auc: 0.8371 - loss: 0.0309 - val_accuracy: 0.7010 - val_auc: 0.7680 - val_loss: 0.0376
Epoch 25/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7609 - auc: 0.8424 - loss: 0.0306 - val_accuracy: 0.7052 - val_auc: 0.7714 - val_loss: 0.0367
Epoch 26/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7690 - auc: 0.8509 - loss: 0.0298 - val_accuracy: 0.7160 - val_auc: 0.7803 - val_loss: 0.0363
Epoch 27/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7692 - auc: 0.8544 - loss: 0.0295 - val_accuracy: 0.7093 - val_auc: 0.7824 - val_loss: 0.0355
Epoch 28/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7761 - auc: 0.8595 - loss: 0.0290 - val_accuracy: 0.7148 - val_auc: 0.7848 - val_loss: 0.0364
Epoch 29/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7798 - auc: 0.8645 - loss: 0.0286 - val_accuracy: 0.7160 - val_auc: 0.7835 - val_loss: 0.0365
Epoch 30/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7833 - auc: 0.8703 - loss: 0.0279 - val_accuracy: 0.7064 - val_auc: 0.7796 - val_loss: 0.0367
Epoch 31/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7819 - auc: 0.8687 - loss: 0.0282 - val_accuracy: 0.7214 - val_auc: 0.7957 - val_loss: 0.0355
Epoch 32/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7883 - auc: 0.8741 - loss: 0.0276 - val_accuracy: 0.7223 - val_auc: 0.7909 - val_loss: 0.0369
Epoch 33/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 5s 12ms/step - accuracy: 0.7968 - auc: 0.8828 - loss: 0.0268 - val_accuracy: 0.7173 - val_auc: 0.7956 - val_loss: 0.0362
Epoch 34/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.7948 - auc: 0.8823 - loss: 0.0270 - val_accuracy: 0.7235 - val_auc: 0.7954 - val_loss: 0.0366
Epoch 35/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8003 - auc: 0.8863 - loss: 0.0264 - val_accuracy: 0.7289 - val_auc: 0.8031 - val_loss: 0.0363
Epoch 36/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8063 - auc: 0.8908 - loss: 0.0261 - val_accuracy: 0.7198 - val_auc: 0.8000 - val_loss: 0.0370
Epoch 37/50
300/300 ━━━━━━━━━━━━━━━━━━━━ 4s 12ms/step - accuracy: 0.8064 - auc: 0.8929 - loss: 0.0257 - val_accuracy: 0.7289 - val_auc: 0.8029 - val_loss: 0.0367
2025-11-10 21:56:01.015 | INFO     | src.ai_engine.ai_models:fit:706 - Training stopped at epoch 37
2025-11-10 21:56:01.016 | INFO     | src.ai_engine.ai_models:fit:707 - Final metrics - Loss: 0.0257, Accuracy: 0.8064, AUC: 0.8929
2025-11-10 21:56:01.017 | INFO     | src.ai_engine.ai_models:fit:710 - Validation metrics - Loss: 0.0367, Accuracy: 0.7289, AUC: 0.8029
2025-11-10 21:56:01.020 | INFO     | src.ai_engine.ai_models:fit:715 - LSTM trained successfully.
2025-11-10 21:56:01.110 | INFO     | src.ai_engine.ai_models:fit:395 - Generating base model predictions for meta-model training...
2025-11-10 21:56:02.087 | INFO     | src.ai_engine.feature_engineering:create_sequences:261 - Creating sequences with length 20 from 13977 data points.
2025-11-10 21:56:02.164 | INFO     | src.ai_engine.feature_engineering:create_sequences:270 - Created 13957 sequences.
2025-11-10 21:56:03.797 | INFO     | src.ai_engine.ai_models:fit:407 - Training meta-model...
2025-11-10 21:56:03.814 | SUCCESS  | src.ai_engine.ai_models:fit:410 - Stacking Ensemble trained successfully.
2025-11-10 21:56:03.815 | SUCCESS  | __main__:train_from_mt5:427 - Ensemble model trained successfully
2025-11-10 21:56:03.816 | INFO     | __main__:train_from_mt5:438 - Saving models to 'models\GainX_1200\GainX_1200_H1'...
2025-11-10 21:56:03.896 | INFO     | src.ai_engine.ai_models:save:73 - Model RandomForest saved to models\GainX_1200\GainX_1200_H1\random_forest.pkl
2025-11-10 21:56:03.906 | INFO     | src.ai_engine.ai_models:save:73 - Model GradientBoosting saved to models\GainX_1200\GainX_1200_H1\gradient_boosting.pkl
2025-11-10 21:56:03.935 | INFO     | src.ai_engine.ai_models:save:774 - LSTM model saved to models\GainX_1200\GainX_1200_H1\lstm.keras and models\GainX_1200\GainX_1200_H1\lstm_scaler.pkl
2025-11-10 21:56:03.936 | INFO     | src.ai_engine.ai_models:save_all:452 - Feature information saved to models\GainX_1200\GainX_1200_H1\feature_info.pkl
2025-11-10 21:56:03.937 | INFO     | src.ai_engine.ai_models:save_all:457 - Meta-model saved to models\GainX_1200\GainX_1200_H1\meta_model.pkl
2025-11-10 21:56:03.961 | INFO     | __main__:save_training_metadata:282 - Training metadata saved to models\GainX_1200\GainX_1200_H1\training_metadata.json
2025-11-10 21:56:03.961 | SUCCESS  | __main__:train_from_mt5:446 - ✅ Finished training GainX 1200 [1h] (40/40)
2025-11-10 21:56:03.963 | INFO     | __main__:train_from_mt5:453 -
================================================================================
2025-11-10 21:56:03.964 | INFO     | __main__:train_from_mt5:454 - Training complete:
2025-11-10 21:56:03.967 | INFO     | __main__:train_from_mt5:455 -   ✅ 40 models trained successfully
2025-11-10 21:56:03.967 | INFO     | __main__:train_from_mt5:456 -   ⚠️  0 models skipped (insufficient historical data)
2025-11-10 21:56:03.982 | INFO     | __main__:train_from_mt5:457 -   ❌ 0 models failed
2025-11-10 21:56:03.984 | INFO     | __main__:train_from_mt5:458 -   📊 Total processed: 40/40
2025-11-10 21:56:04.004 | INFO     | __main__:train_from_mt5:463 - ================================================================================

2025-11-10 21:56:04.005 | INFO     | __main__:shutdown_mt5:147 - MT5 connection closed